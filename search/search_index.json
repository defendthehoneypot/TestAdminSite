{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Vesper Secure","text":""},{"location":"#what-is-vesper-secure","title":"What is Vesper Secure?","text":"<p>Vesper Secure provides a simple solution to a common problem: managing which IP addresses can access your VPN or protected resources.</p> <p>Instead of manually maintaining static IP allow-lists, Vesper Secure:</p> <ul> <li>Provides a web portal where users register their IP addresses</li> <li>Creates a dynamic Dynamic IP List of registered IPs</li> <li>Serves this list via HTTPS for your firewall to consume</li> <li>Automatically updates your firewall ACLs as users register new locations</li> </ul>"},{"location":"#how-it-works","title":"How It Works","text":"<p>1. User Registers IP Address</p> <p>Users visit the Vesper Secure portal and authenticate using SSO (EntraID, Google, or Okta). They register their current location as either permanent (home/office) or temporary (hotel/coffee shop).</p> <p>2. IP Automatically Added to Dynamic IP List</p> <p>The user's IP address is immediately added to the Dynamic IP List served at your organization's unique HTTPS endpoint. No admin approval is required.</p> <p>3. Firewall Updates ACL</p> <p>Your firewall periodically polls the Dynamic IP List (typically every 5-60 minutes) and automatically updates its access control lists to allow traffic from registered IPs.</p> <p>4. Admin Monitoring (Optional)</p> <p>Administrators can monitor registered locations and revoke access if needed, but approval is not required as part of the standard workflow.</p>"},{"location":"#who-uses-vesper-secure","title":"Who Uses Vesper Secure?","text":""},{"location":"#administrators","title":"Administrators","text":"<p>IT and security professionals who configure and manage the system.</p> <p>You will:</p> <ul> <li>Configure SSO integration (EntraID, Google, Okta)</li> <li>Integrate the Dynamic IP List with your firewall</li> <li>Monitor user registrations</li> <li>Revoke access when needed</li> <li>Audit access logs</li> </ul> <p>Go to Administrator Guide</p>"},{"location":"#end-users","title":"End Users","text":"<p>Employees who need their IP addresses added to the allow list.</p> <p>You will:</p> <ul> <li>Visit the Vesper Secure portal</li> <li>Sign in with corporate credentials</li> <li>Register your current location</li> <li>Wait for the firewall to refresh (typically 5-60 minutes)</li> </ul> <p>Go to User Guide</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Admin Panel - Configure your organization's Vesper Secure tenant and monitor users</li> <li>User Portal - Register your IP address to access VPN and protected resources</li> <li>Troubleshooting - Solutions to common issues</li> <li>Best Practices - Recommended configurations</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/","title":"Administrator Guide","text":"<p>Complete guide for configuring and managing Vesper Secure in your environment.</p>"},{"location":"admin/#overview","title":"Overview","text":"<p>As an administrator, you'll configure Vesper Secure to work with your organization's identity provider and firewall. This guide covers everything you need to deploy and manage the system.</p>"},{"location":"admin/#setup-configuration","title":"Setup &amp; Configuration","text":"<p>Setup &amp; Configuration</p> <p>Initial setup, access the admin panel, and configure organization policies.</p>"},{"location":"admin/#sso-integration","title":"SSO Integration","text":"<p>SSO Integration</p> <p>Configure single sign-on with Azure AD (Entra ID), Okta, or other SAML 2.0 providers.</p>"},{"location":"admin/#firewall-integration","title":"Firewall Integration","text":"<p>Firewall Integration</p> <p>Integrate the Dynamic IP List with your firewall.</p>"},{"location":"admin/#user-management","title":"User Management","text":"<p>User Management</p> <p>Monitor registrations, manage users, and revoke access when needed.</p>"},{"location":"admin/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Admin access to the Vesper Secure admin panel</li> <li>Firewall admin access (Palo Alto, Fortinet, Cisco, or similar)</li> <li>Identity provider admin rights (EntraID, Google, or Okta)</li> <li>List of users who will need access</li> </ul>"},{"location":"admin/#getting-started","title":"Getting Started","text":"<p>Follow these guides in order for initial setup:</p> <ol> <li>Setup &amp; Configuration - Configure your organization  </li> <li>SSO Integration - Connect your identity provider  </li> <li>Firewall Integration - Add Dynamic IP List to your firewall  </li> <li>User Management - Manage ongoing access  </li> </ol>"},{"location":"admin/#additional-resources","title":"Additional Resources","text":"<ul> <li>Troubleshooting Guide</li> <li>Best Practices</li> <li>FAQ</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/setup/","title":"Setup &amp; Configuration","text":"<p>Initial setup and configuration of Vesper Secure for your organization.</p>"},{"location":"admin/setup/#step-1-access-the-admin-panel","title":"Step 1: Access the Admin Panel","text":"<ol> <li>Navigate to app.vespersecure.com </li> <li>Sign in with your administrator credentials  </li> <li>Complete initial setup wizard if this is your first login  </li> </ol>"},{"location":"admin/setup/#step-2-configure-organization-policies","title":"Step 2: Configure Organization Policies","text":"<p>Define how Vesper Secure handles user registrations:</p> <ol> <li>Navigate to Settings \u2192 Policies </li> <li>Configure registration settings:  </li> </ol> <pre><code>\u25a1 Send notification for new registrations\n\u25a1 Enable monitoring alerts for unusual patterns\n\u25a1 Restrict registrations to specific countries\n</code></pre> <ol> <li>Set location settings:  </li> </ol> <pre><code>Temporary location default duration: [24 hours \u25bc]\nMaximum temporary duration: [30 days \u25bc]\n\u25a1 Allow users to extend temporary access\n\u25a1 Require reason for temporary access\n</code></pre> <ol> <li>Configure security settings:  </li> </ol> <pre><code>\u25a1 Require MFA for access requests\n\u25a1 Block known VPN/proxy IPs\n\u25a1 Restrict to specific countries\n\u25a1 Enable geo-fencing alerts\n</code></pre> <ol> <li>Click Save Policies </li> </ol>"},{"location":"admin/setup/#step-3-generate-dynamic-ip-list-credentials","title":"Step 3: Generate Dynamic IP List Credentials","text":"<p>Create the credentials needed for firewall integration:</p> <ol> <li>Go to Settings \u2192 Firewall Integration </li> <li>Click Generate Dynamic IP List </li> <li>Save these credentials securely:  </li> </ol> <pre><code>List URL: https://list.vespersecure.com/organizationid\nUsername: organizationid\nPassword: \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\n</code></pre> <p>Important</p> <p>Save these credentials! You'll need them for firewall integration. The password is only displayed once and cannot be recovered.</p> <p>Test the Dynamic IP List:</p> <pre><code>curl -u \"organizationid:your-password\" \\\n  https://list.vespersecure.com/organizationid\n</code></pre> <p>You should see an empty list or IP addresses if users have already registered.</p>"},{"location":"admin/setup/#next-steps","title":"Next Steps","text":"<p>After completing basic setup:</p> <ol> <li>Configure SSO Integration - Connect your identity provider  </li> <li>Set up Firewall Integration - Add Dynamic IP List to your firewall  </li> <li>Start Managing Users - Begin monitoring user registrations  </li> </ol>"},{"location":"admin/setup/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/sso-integration/","title":"SSO Integration","text":"<p>Documentation Moved</p> <p>The SSO integration documentation has been reorganized into detailed, provider-specific guides for easier navigation and more comprehensive instructions.</p>"},{"location":"admin/sso-integration/#available-sso-integration-guides","title":"\ud83d\udccb Available SSO Integration Guides","text":"<p>We now provide detailed setup guides for each supported identity provider:</p>"},{"location":"admin/sso-integration/#sso-integration-overview","title":"SSO Integration Overview \u2192","text":"<p>Learn about SSO integration benefits, supported providers, and general setup information.</p>"},{"location":"admin/sso-integration/#azure-ad-entra-id-saml-setup","title":"Azure AD (Entra ID) SAML Setup \u2192","text":"<p>Complete step-by-step guide for configuring SAML-based SSO with Microsoft Azure Active Directory (Entra ID).</p> <p>Features covered: - Enterprise Application setup - SAML configuration - User attribute mapping - Group claims configuration - Certificate management - Troubleshooting</p> <p>Estimated time: 20-30 minutes</p>"},{"location":"admin/sso-integration/#okta-saml-setup","title":"Okta SAML Setup \u2192","text":"<p>Complete step-by-step guide for configuring SAML-based SSO with Okta.</p> <p>Features covered: - SAML 2.0 application setup - Attribute statements configuration - Group attribute statements - User and group assignments - Testing procedures - Troubleshooting</p> <p>Estimated time: 15-25 minutes</p>"},{"location":"admin/sso-integration/#quick-navigation","title":"Quick Navigation","text":"<p>Looking for specific information? Jump directly to:</p> <ul> <li>General SSO Overview and Benefits - Understand what SSO provides</li> <li>Prerequisites for SSO - What you need before starting</li> <li>Azure AD SAML Configuration - Azure-specific SAML settings</li> <li>Okta SAML Configuration - Okta-specific SAML settings</li> <li>Troubleshooting SSO Issues - Common problems and solutions</li> </ul>"},{"location":"admin/sso-integration/#whats-new-in-the-updated-documentation","title":"What's New in the Updated Documentation?","text":"<p>The new SSO documentation provides:</p> <p>\u2705 Provider-Specific Guides - Detailed instructions tailored to each identity provider \u2705 Step-by-Step Instructions - Clear, numbered steps with detailed sub-steps \u2705 Comprehensive Screenshots - Visual guidance throughout the setup process \u2705 Attribute Mapping Details - Exact configuration for user attributes and groups \u2705 Troubleshooting Sections - Common issues and their solutions \u2705 Best Practices - Security and management recommendations \u2705 Testing Procedures - How to verify your SSO configuration works  </p>"},{"location":"admin/sso-integration/#need-help","title":"Need Help?","text":"<p>If you need assistance with SSO configuration:</p> <ol> <li>Check the troubleshooting sections in each guide  </li> <li>Review the general troubleshooting guide </li> <li>Contact Vesper Secure support at support@vespersecure.com  </li> </ol>"},{"location":"admin/sso-integration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Back to Administrator Guide - Main admin documentation</li> <li>Setup &amp; Configuration - Initial Vesper Secure setup</li> <li>User Management - Managing user access</li> <li>Firewall Integration - Connect Dynamic IP List to firewall</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/user-management/","title":"User Management","text":"<p>Monitor user registrations, manage locations, and revoke access when needed.</p>"},{"location":"admin/user-management/#overview","title":"Overview","text":"<p>As an administrator, you'll monitor user registrations through the Vesper Secure admin panel. This includes reviewing active locations, monitoring usage patterns, and revoking access when needed. User IP addresses are automatically added to the Dynamic IP List upon registration - no approval is required.</p>"},{"location":"admin/user-management/#monitor-user-registrations","title":"Monitor User Registrations","text":""},{"location":"admin/user-management/#view-recent-registrations","title":"View Recent Registrations","text":"<ol> <li>Log in to app.vespersecure.com </li> <li>Go to Registrations or check the dashboard for recent activity  </li> <li>Review each registration showing:  </li> <li>User email/name  </li> <li>IP address  </li> <li>Location type (permanent or temporary)  </li> <li>Registration timestamp  </li> <li>Reason (if provided)  </li> </ol>"},{"location":"admin/user-management/#review-for-unusual-activity","title":"Review for Unusual Activity","text":"<p>Monitor registrations for: - Unusual geographic locations - Multiple registrations from the same IP - Suspicious patterns or timing - Requests from unexpected countries</p> <p>If you notice suspicious activity, you can revoke the registration immediately.</p>"},{"location":"admin/user-management/#monitor-active-users","title":"Monitor Active Users","text":""},{"location":"admin/user-management/#view-active-locations","title":"View Active Locations","text":"<ol> <li>Go to Users \u2192 Active Locations </li> <li>See all currently registered locations:  </li> <li>User information  </li> <li>IP address  </li> <li>Location type  </li> <li>Registration date  </li> <li>Expiration date (for temporary)  </li> </ol>"},{"location":"admin/user-management/#filter-and-search","title":"Filter and Search","text":"<ul> <li>Filter by type: Permanent or Temporary</li> <li>Filter by expiration: Expiring soon, expired</li> <li>Search by user: Find specific user's locations</li> <li>Search by IP: Locate specific IP address</li> </ul>"},{"location":"admin/user-management/#remove-users","title":"Remove Users","text":"<p>To remove a user and revoke their access:</p> <ol> <li>Go to Users </li> <li>Find the user you want to remove  </li> <li>Click Delete next to the user  </li> <li>Confirm the deletion  </li> <li>User and all their registered locations are removed immediately  </li> </ol> <p>Immediate Effect</p> <p>After deletion, the user's IPs will be removed from the Dynamic IP List at the next firewall refresh (typically 5-60 minutes).</p>"},{"location":"admin/user-management/#user-lifecycle-management","title":"User Lifecycle Management","text":""},{"location":"admin/user-management/#onboarding-new-users","title":"Onboarding New Users","text":"<ol> <li>Ensure user is added to SSO group (if using SSO)  </li> <li>User receives access to portal automatically  </li> <li>User registers their location(s)  </li> <li>User's IP is automatically added to Dynamic IP List  </li> <li>User gains VPN access after firewall refresh  </li> </ol>"},{"location":"admin/user-management/#offboarding-departing-users","title":"Offboarding Departing Users","text":"<ol> <li>Go to Users </li> <li>Find the user  </li> <li>Click Delete to remove them  </li> <li>Confirm the deletion  </li> <li>Verify removal from active users list  </li> </ol>"},{"location":"admin/user-management/#view-audit-logs","title":"View Audit Logs","text":"<p>Track all actions for compliance and security:</p> <ol> <li>Go to Reports \u2192 Audit Log </li> <li>View logs of all activities:  </li> <li>User registrations submitted  </li> <li>Location revocations  </li> <li>Admin actions  </li> <li>Configuration changes  </li> </ol>"},{"location":"admin/user-management/#export-logs","title":"Export Logs","text":"<ul> <li>Click Export to download logs</li> <li>Choose format: CSV or JSON</li> <li>Use for compliance reporting or analysis</li> </ul>"},{"location":"admin/user-management/#monitoring-and-alerts","title":"Monitoring and Alerts","text":""},{"location":"admin/user-management/#enable-email-alerts","title":"Enable Email Alerts","text":"<p>Configure alerts in Settings \u2192 Notifications:</p> <ul> <li>New user registrations</li> <li>Dynamic IP List update failures</li> <li>Unusual access patterns</li> <li>Failed login attempts</li> <li>User account changes</li> </ul>"},{"location":"admin/user-management/#dashboard-metrics","title":"Dashboard Metrics","text":"<p>The dashboard shows: - Recent registrations count - Active locations count - Recent revocations - Dynamic IP List sync status - User activity trends</p>"},{"location":"admin/user-management/#common-management-tasks","title":"Common Management Tasks","text":""},{"location":"admin/user-management/#handle-emergency-access","title":"Handle Emergency Access","text":"<p>If a user needs immediate access:</p> <ol> <li>User registers their location through the portal  </li> <li>Force Dynamic IP List refresh on your firewall (if supported)  </li> <li>Or wait for next scheduled refresh  </li> <li>User can connect after refresh  </li> </ol>"},{"location":"admin/user-management/#best-practices","title":"Best Practices","text":"<p>Regular Reviews</p> <ul> <li>Review active locations weekly</li> <li>Audit user list monthly against employee roster</li> <li>Clean up expired temporary locations</li> </ul> <p>Communication</p> <ul> <li>Notify users when removing access (include reason)</li> <li>Set expectations for firewall refresh timeframes</li> <li>Provide user guide link in communications</li> </ul> <p>Security</p> <ul> <li>Monitor for unusual patterns (many registrations from one IP)</li> <li>Investigate registrations from unexpected countries</li> </ul> <p>Monitoring</p> <ul> <li>Set reasonable temporary durations (24 hours typical)</li> <li>Enable notifications for new registrations</li> <li>Review active locations regularly</li> </ul>"},{"location":"admin/user-management/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/user-management/#user-not-seeing-access-after-registration","title":"User Not Seeing Access After Registration","text":"<ol> <li>Check Dynamic IP List sync status (should show \"Success\")  </li> <li>Verify user's IP is in the Dynamic IP List  </li> <li>Confirm firewall has refreshed  </li> <li>Check firewall policy order  </li> <li>Review firewall logs for blocks  </li> </ol>"},{"location":"admin/user-management/#cant-find-users-registration","title":"Can't Find User's Registration","text":"<ol> <li>Check if registration is in active locations  </li> <li>Look in audit logs for the registration  </li> <li>Verify user submitted from correct portal  </li> <li>Check user is in correct SSO group    </li> </ol>"},{"location":"admin/user-management/#location-expired-unexpectedly","title":"Location Expired Unexpectedly","text":"<ol> <li>Review policy settings for temporary durations  </li> <li>Check if admin deleted the user  </li> <li>Verify expiration dates were set correctly  </li> <li>Review audit logs for changes    </li> </ol>"},{"location":"admin/user-management/#next-steps","title":"Next Steps","text":"<p>Now that you've configured user management:</p> <ol> <li>Test the complete flow with pilot users  </li> <li>Distribute user guide - Share the User Guide </li> <li>Monitor initial usage - Be available for questions  </li> <li>Review patterns - Watch for unusual activity    </li> </ol>"},{"location":"admin/user-management/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Administrator Guide</li> <li>User Guide - Share this with end users</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/firewall-integration/","title":"Firewall Integration Overview","text":"<p>Integrate Vesper Secure's Dynamic IP List with your firewall to automate ACL updates.</p>"},{"location":"admin/firewall-integration/#what-is-firewall-integration","title":"What is Firewall Integration?","text":"<p>The Dynamic IP List is an HTTPS endpoint that serves registered IP addresses. Your firewall polls this endpoint and automatically updates access control lists.</p>"},{"location":"admin/firewall-integration/#how-it-works","title":"How It Works","text":"<ol> <li>Users Register: Users register their IP addresses through the Vesper Secure portal  </li> <li>Dynamic IP List Updates: IP addresses are automatically added to the Dynamic IP List  </li> <li>Firewall Polls: Your firewall periodically checks the Dynamic IP List for updates  </li> <li>ACLs Update: Firewall automatically updates access control lists  </li> <li>Access Granted: Only registered IPs can access protected resources  </li> </ol>"},{"location":"admin/firewall-integration/#benefits","title":"Benefits","text":"<ul> <li>Automated Access Control: No manual firewall updates required</li> <li>Self-Service: Users register their own locations</li> <li>Real-Time Updates: Changes reflected within minutes</li> <li>Audit Trail: Complete logs of all access grants</li> <li>Temporary Access: Built-in support for time-limited locations</li> </ul>"},{"location":"admin/firewall-integration/#supported-firewalls","title":"Supported Firewalls","text":"<p>Vesper Secure works with any firewall that supports Dynamic IP Lists or URL-based IP lists:</p>"},{"location":"admin/firewall-integration/#enterprise-firewalls","title":"Enterprise Firewalls","text":"<p>Palo Alto Networks (PAN-OS 8.0+)</p> <p>Industry-leading next-generation firewall with native External Dynamic List support.</p> <ul> <li>External Dynamic Lists</li> <li>Test Source functionality</li> <li>Security policy integration</li> <li>Comprehensive logging</li> </ul> <p>Fortinet FortiGate (FortiOS 6.0+)</p> <p>Popular enterprise firewall with External Connector support.</p> <ul> <li>External Connectors (Fabric)</li> <li>Dynamic address objects</li> <li>Flexible refresh intervals</li> <li>Policy integration</li> </ul> <p>Cisco ASA/FTD (9.8+)</p> <p>Cisco's security appliances with dynamic object group support.</p> <ul> <li>Dynamic object groups</li> <li>CLI-based configuration</li> <li>URL-based IP lists</li> <li>ACL integration</li> </ul> <p>Check Point (R80.20+)</p> <p>Enterprise firewall with Updatable Objects support.</p> <ul> <li>Updatable Objects (formerly External Objects)</li> <li>HTTP/HTTPS URL-based IP lists</li> <li>Periodic automatic updates</li> <li>SmartConsole configuration</li> </ul> <p>Juniper SRX (JunOS 15.1X49+)</p> <p>Enterprise security gateway with dynamic address object support.</p> <ul> <li>Dynamic Address Objects</li> <li>Security Intelligence feeds</li> <li>URL-based threat intelligence</li> <li>CLI and J-Web configuration</li> </ul>"},{"location":"admin/firewall-integration/#open-source-firewalls","title":"Open Source Firewalls","text":"<p>pfSense (2.4+)</p> <p>Popular open-source firewall with URL Table Alias support.</p> <ul> <li>URL Table Aliases</li> <li>pfBlockerNG package for enhanced functionality</li> <li>Native HTTP/HTTPS IP list support</li> <li>Flexible refresh intervals</li> </ul> <p>OPNsense (19.1+)</p> <p>Open-source firewall based on FreeBSD with native URL alias support.</p> <ul> <li>URL Table Aliases</li> <li>Built-in periodic refresh</li> <li>HTTP/HTTPS authentication support</li> <li>Web UI and CLI configuration</li> </ul>"},{"location":"admin/firewall-integration/#other-firewalls","title":"Other Firewalls","text":"<p>Generic/Other Firewalls</p> <p>Any firewall supporting URL-based IP lists can work with Vesper Secure. Check the generic guide for general configuration steps.</p> <p>Fully Supported Platforms</p> <p>All firewalls listed above have been tested and verified to work with Vesper Secure's Dynamic IP List functionality.</p> <p>Need Help with Your Firewall?</p> <p>If your firewall supports URL-based IP lists but isn't listed here, check the Generic Firewall Guide for general configuration steps that apply to most firewalls.</p>"},{"location":"admin/firewall-integration/#unsupported-firewalls","title":"Unsupported Firewalls","text":"<p>The following firewalls do NOT have comparable Dynamic IP List functionality for custom IP lists and are not recommended for use with Vesper Secure:</p>"},{"location":"admin/firewall-integration/#firewalls-without-dynamic-ip-list-support","title":"Firewalls Without Dynamic IP List Support","text":"<p>Sophos XG Firewall</p> <ul> <li>Limited to vendor threat intelligence feeds only</li> <li>Does not support custom URL-based IP lists</li> <li>No external dynamic list functionality</li> </ul> <p>WatchGuard</p> <ul> <li>No native URL-based dynamic IP list support</li> <li>Limited to static IP configurations</li> <li>Requires manual IP list management</li> </ul> <p>SonicWall</p> <ul> <li>Does not support custom external dynamic lists</li> <li>Limited to vendor-provided security services</li> <li>No HTTP/HTTPS IP list ingestion</li> </ul> <p>Zyxel</p> <ul> <li>No comparable Dynamic IP List functionality</li> <li>Lacks URL-based IP list support</li> <li>Static configuration only</li> </ul> <p>Alternative Approaches</p> <p>If you're using one of these unsupported firewalls, consider:</p> <ul> <li>Manually exporting IPs from Vesper and updating firewall rules periodically</li> <li>Using a script to fetch the Dynamic IP List and update firewall via API (if available)</li> <li>Upgrading to a firewall platform with native Dynamic IP List support</li> <li>See the Generic Firewall Guide for potential workarounds</li> </ul>"},{"location":"admin/firewall-integration/#general-prerequisites","title":"General Prerequisites","text":"<p>Before configuring any firewall integration, ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Firewall admin access with permission to modify policies</li> <li>[ ] Outbound HTTPS access from firewall to <code>list.vespersecure.com</code> (port 443)</li> <li>[ ] DNS resolution working from firewall management interface</li> <li>[ ] Certificate validation working (no SSL inspection blocking)</li> </ul>"},{"location":"admin/firewall-integration/#setup-guides","title":"Setup Guides","text":"<p>Choose your firewall platform to get started:</p>"},{"location":"admin/firewall-integration/#palo-alto-networks","title":"Palo Alto Networks","text":"<p>Configure Palo Alto Networks \u2192</p> <p>Complete guide for PAN-OS firewalls including External Dynamic Lists, security policies, and testing.</p> <p>Estimated time: 15-20 minutes</p>"},{"location":"admin/firewall-integration/#fortinet-fortigate","title":"Fortinet FortiGate","text":"<p>Configure Fortinet FortiGate \u2192</p> <p>Complete guide for FortiGate firewalls including External Connectors, address objects, and policies.</p> <p>Estimated time: 15-20 minutes</p>"},{"location":"admin/firewall-integration/#cisco-asaftd","title":"Cisco ASA/FTD","text":"<p>Configure Cisco ASA/FTD \u2192</p> <p>Complete guide for Cisco firewalls including dynamic object groups and ACL configuration.</p> <p>Estimated time: 20-25 minutes</p>"},{"location":"admin/firewall-integration/#check-point","title":"Check Point","text":"<p>Configure Check Point \u2192</p> <p>Complete guide for Check Point firewalls including Updatable Objects and security policies.</p> <p>Estimated time: 15-20 minutes</p>"},{"location":"admin/firewall-integration/#pfsense","title":"pfSense","text":"<p>Configure pfSense \u2192</p> <p>Complete guide for pfSense including URL Table Aliases and pfBlockerNG setup.</p> <p>Estimated time: 15-20 minutes</p>"},{"location":"admin/firewall-integration/#opnsense","title":"OPNsense","text":"<p>Configure OPNsense \u2192</p> <p>Complete guide for OPNsense including URL Table Aliases and firewall rules.</p> <p>Estimated time: 15-20 minutes</p>"},{"location":"admin/firewall-integration/#juniper-srx","title":"Juniper SRX","text":"<p>Configure Juniper SRX \u2192</p> <p>Complete guide for Juniper SRX including Dynamic Address Objects and security policies.</p> <p>Estimated time: 20-25 minutes</p>"},{"location":"admin/firewall-integration/#genericother-firewalls","title":"Generic/Other Firewalls","text":"<p>Configure Generic Firewall \u2192</p> <p>General configuration steps for any firewall supporting URL-based IP lists.</p> <p>Estimated time: 15-30 minutes (varies by platform)</p>"},{"location":"admin/firewall-integration/#general-best-practices","title":"General Best Practices","text":"<p>Dynamic IP List Refresh Interval</p> <ul> <li>5 minutes: Most responsive, higher firewall load</li> <li>15 minutes: Balanced approach (recommended)</li> <li>1 hour: Lower load, slower access grants</li> </ul> <p>Policy Ordering Critical</p> <p>Always place Vesper allow rules above general deny rules. Incorrect ordering will block all traffic.</p> <p>Enable Logging</p> <p>Log both allowed and denied attempts for security auditing and troubleshooting.</p> <p>Backup Access</p> <p>Maintain static IP allow-list entries for critical administrators as backup in case Dynamic IP List is unavailable.</p>"},{"location":"admin/firewall-integration/#validation-and-testing","title":"Validation and Testing","text":"<p>After configuring your firewall, validate the integration:</p>"},{"location":"admin/firewall-integration/#test-dynamic-ip-list-connectivity","title":"Test Dynamic IP List Connectivity","text":"<p>From a system with network access:</p> <pre><code>curl -u \"organizationid:your-password\" \\\n  https://list.vespersecure.com/organizationid\n</code></pre> <p>Should return IP addresses or an empty list.</p>"},{"location":"admin/firewall-integration/#test-user-access-flow","title":"Test User Access Flow","text":"<ol> <li>Have a test user register through Vesper portal  </li> <li>User's IP is automatically added to Dynamic IP List  </li> <li>Wait for Dynamic IP List refresh interval (e.g., 5 minutes)  </li> <li>Verify test user's IP appears in Dynamic IP List: <pre><code>curl -u \"user:pass\" https://list.vespersecure.com/organizationid | grep \"test-user-ip\"\n</code></pre></li> <li>Test VPN connection from test user's location (should succeed)  </li> </ol>"},{"location":"admin/firewall-integration/#verify-blocking","title":"Verify Blocking","text":"<ol> <li>Try VPN connection from an unregistered IP address  </li> <li>Should be blocked by firewall  </li> <li>Check firewall logs for deny entry  </li> </ol>"},{"location":"admin/firewall-integration/#troubleshooting","title":"Troubleshooting","text":"<p>For platform-specific troubleshooting, see the individual setup guides:</p> <ul> <li>Palo Alto Networks Troubleshooting</li> <li>Fortinet FortiGate Troubleshooting</li> <li>Cisco ASA/FTD Troubleshooting</li> <li>Generic Firewall Troubleshooting</li> </ul>"},{"location":"admin/firewall-integration/#common-issues-across-all-platforms","title":"Common Issues Across All Platforms","text":"<p>Dynamic IP List shows as \"Failed\" or \"Unreachable\"</p> <ul> <li>Verify firewall can reach <code>list.vespersecure.com</code> on port 443</li> <li>Check DNS resolution works</li> <li>Verify no SSL inspection blocking connection</li> <li>Test manually with curl command</li> </ul> <p>Authentication Errors (401 Unauthorized)</p> <ul> <li>Double-check username and password</li> <li>Ensure no extra spaces in credentials</li> <li>Re-generate credentials in admin panel if needed</li> <li>Test with: <code>curl -v -u \"user:pass\" URL</code></li> </ul> <p>User Blocked After Registration</p> <ul> <li>Wait for Dynamic IP List refresh interval</li> <li>Force manual Dynamic IP List refresh on firewall</li> <li>Verify firewall policy order (allow above deny)</li> <li>Check user's current IP matches registered IP</li> <li>Verify user's access hasn't expired</li> </ul>"},{"location":"admin/firewall-integration/#next-steps","title":"Next Steps","text":"<p>After firewall integration:</p> <ol> <li>Configure User Management - Set up monitoring workflows  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Monitor and adjust - Review logs and optimize policies  </li> </ol>"},{"location":"admin/firewall-integration/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Administrator Guide</li> <li>Setup &amp; Configuration</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/check-point/","title":"Check Point","text":"<p>ADMINISTRATOR GUIDE</p>  # Check Point Integration  Configure Check Point firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/check-point/#overview","title":"Overview","text":"<p>Check Point firewalls (R80.20+) support Updatable Objects (formerly External Objects) that can pull IP addresses from external HTTP/HTTPS URLs. This guide covers Check Point R80.20 and later versions.</p>"},{"location":"admin/firewall-integration/check-point/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>Updatable Object pointing to Vesper Dynamic IP List  </li> <li>Network group containing the updatable object  </li> <li>Access rule to allow registered IPs  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#time-required","title":"Time Required","text":"<p>15-20 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/check-point/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Check Point SmartConsole access</li> <li>[ ] Check Point Security Management Server (SMS) R80.20 or later</li> <li>[ ] Outbound HTTPS (port 443) allowed from SMS to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN gateway configuration</li> </ul>"},{"location":"admin/firewall-integration/check-point/#step-1-create-updatable-object","title":"Step 1: Create Updatable Object","text":""},{"location":"admin/firewall-integration/check-point/#navigate-to-updatable-objects","title":"Navigate to Updatable Objects","text":"<ol> <li>Open Check Point SmartConsole  </li> <li>Go to Manage &amp; Settings (gear icon)  </li> <li>Navigate to Blades \u2192 Threat Prevention </li> <li>Click on Updatable Objects </li> <li>Click New \u2192 Updatable Object </li> </ol> <p>Check Point Versions</p> <p>In older versions (R80.20-R80.30), this may be called \"External Objects\" instead of \"Updatable Objects\".</p>"},{"location":"admin/firewall-integration/check-point/#configure-the-updatable-object","title":"Configure the Updatable Object","text":"<p>Configure the following settings:</p> <pre><code>Name: Vesper_Secure_Allowed_IPs\nResource: External - IP Address List\nURI: https://list.vespersecure.com/organizationid\nUpdate Interval: 900 seconds (15 minutes)\nAuthentication: HTTP Basic Authentication\nUsername: organizationid\nPassword: \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Use a descriptive name without spaces (e.g., <code>Vesper_Secure_Allowed_IPs</code>)</li> <li>Resource: Select \"External - IP Address List\"</li> <li>URI: Your unique Dynamic IP List URL from Vesper admin panel</li> <li>Update Interval: </li> <li>300 seconds (5 minutes) for fastest access grants</li> <li>900 seconds (15 minutes) recommended for balanced approach</li> <li>3600 seconds (1 hour) for reduced load</li> <li>Authentication: Select \"HTTP Basic Authentication\"</li> <li>Username: Your organization ID</li> <li>Password: Dynamic IP List password from Vesper admin panel</li> </ul>"},{"location":"admin/firewall-integration/check-point/#test-connectivity","title":"Test Connectivity","text":"<ol> <li>Click Test Connection before saving  </li> <li>Verify connection succeeds and returns valid data  </li> <li>Click OK to save the updatable object  </li> </ol> <p>Connection Successful</p> <p>If the test shows \"Success\" or displays IP addresses, proceed to the next step.</p>"},{"location":"admin/firewall-integration/check-point/#step-2-create-network-group","title":"Step 2: Create Network Group","text":""},{"location":"admin/firewall-integration/check-point/#navigate-to-network-groups","title":"Navigate to Network Groups","text":"<ol> <li>In SmartConsole, go to the Objects pane (left side)  </li> <li>Right-click on Network Objects \u2192 New \u2192 Group \u2192 Simple Group </li> </ol>"},{"location":"admin/firewall-integration/check-point/#configure-the-group","title":"Configure the Group","text":"<p>Create a network group with these settings:</p> <pre><code>Name: Vesper-Allowed-IPs-Group\nMembers: Add the Vesper_Secure_Allowed_IPs updatable object\n</code></pre> <p>Steps:</p> <ol> <li>Name the group: <code>Vesper-Allowed-IPs-Group</code> </li> <li>Click Add under Members  </li> <li>Search for and select <code>Vesper_Secure_Allowed_IPs</code> </li> <li>Click OK to save the group  </li> </ol> <p>This group will be used in access rules to reference the dynamic IP list.</p>"},{"location":"admin/firewall-integration/check-point/#step-3-create-access-rule","title":"Step 3: Create Access Rule","text":""},{"location":"admin/firewall-integration/check-point/#navigate-to-access-control-policy","title":"Navigate to Access Control Policy","text":"<ol> <li>In SmartConsole, select your Security Policy (usually under Security Policies)  </li> <li>Open the Access Control policy layer  </li> <li>Click Add Rule \u2192 Top to add a new rule at the top  </li> </ol> <p>Rule Placement is Critical</p> <p>Place this rule above any implicit or explicit deny rules to ensure registered IPs are allowed.</p>"},{"location":"admin/firewall-integration/check-point/#configure-allow-rule","title":"Configure Allow Rule","text":"<p>Create an access rule with these settings:</p> <pre><code>Name: Allow Vesper Verified Users\nSource: Vesper-Allowed-IPs-Group\nDestination: VPN-Gateway (or appropriate object)\nServices &amp; Applications: HTTPS, IKE, IPSEC (or as needed)\nAction: Accept\nTrack: Log\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Click the rule name field and enter a descriptive name</li> <li>Source: Drag the <code>Vesper-Allowed-IPs-Group</code> to the Source column</li> <li>Destination: Add your VPN gateway object or network</li> <li>Services &amp; Applications: Add relevant services:</li> <li>HTTPS (443) for SSL VPN</li> <li>IKE, IPSEC for IPsec VPN</li> <li>Custom services as needed</li> <li>Action: Ensure it's set to Accept</li> <li>Track: Select Log to enable logging</li> </ul>"},{"location":"admin/firewall-integration/check-point/#add-comment","title":"Add Comment","text":"<p>Add a comment to the rule for documentation:</p> <pre><code>Allows VPN access for users registered through Vesper Secure portal. \nIPs are automatically updated from Dynamic IP List every 15 minutes.\n</code></pre>"},{"location":"admin/firewall-integration/check-point/#step-4-create-block-rule-recommended","title":"Step 4: Create Block Rule (Recommended)","text":"<p>Below the allow rule, add an explicit deny rule for unverified access:</p> <pre><code>Name: Block Unverified VPN Access\nSource: Any\nDestination: VPN-Gateway\nServices &amp; Applications: HTTPS, IKE, IPSEC\nAction: Drop\nTrack: Log\n</code></pre> <p>Why This Helps:</p> <ul> <li>Explicitly logs denied access attempts</li> <li>Provides clear visibility into blocked traffic</li> <li>Helps with troubleshooting and security monitoring</li> </ul>"},{"location":"admin/firewall-integration/check-point/#step-5-install-policy","title":"Step 5: Install Policy","text":""},{"location":"admin/firewall-integration/check-point/#validate-and-install","title":"Validate and Install","text":"<ol> <li>Click Install Policy (toolbar icon)  </li> <li>Select target gateways  </li> <li>Review changes in the preview  </li> <li>Add an installation comment (e.g., \"Added Vesper Secure Dynamic IP List integration\")  </li> <li>Click Install to push the policy to gateways  </li> </ol> <p>Wait for the policy installation to complete successfully.</p> <p>Verify Installation</p> <p>Check the installation log to ensure policy was installed without errors on all target gateways.</p>"},{"location":"admin/firewall-integration/check-point/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/check-point/#verify-updatable-object-status","title":"Verify Updatable Object Status","text":"<ol> <li>Go to Manage &amp; Settings \u2192 Blades \u2192 Threat Prevention \u2192 Updatable Objects </li> <li>Select your <code>Vesper_Secure_Allowed_IPs</code> object  </li> <li>Check the \"Last Update\" timestamp  </li> <li>Verify status shows success  </li> <li>Click View to see current IP addresses in the list  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#check-update-log","title":"Check Update Log","text":"<ol> <li>Go to Logs &amp; Monitor \u2192 System Events </li> <li>Filter for \"Updatable Objects\" or search for your object name  </li> <li>Verify successful update events  </li> <li>Check for any error messages  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for Dynamic IP List refresh interval (5-15 minutes depending on your setting)  </li> <li>Force manual update if desired:  </li> <li>Select the updatable object</li> <li>Click Update Now</li> <li>Verify the test user's IP appears in the object  </li> <li>Test VPN connection from the test user's location (should succeed)  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#verify-in-logs","title":"Verify in Logs","text":"<ol> <li>Go to Logs &amp; Monitor \u2192 Logs </li> <li>Filter for your access rule name  </li> <li>Verify connections from registered IPs are being logged as \"Accept\"  </li> <li>Check that unregistered IPs are being denied  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/check-point/#updatable-object-update-fails","title":"Updatable Object Update Fails","text":"<p>Symptoms: - Object shows \"Failed\" status - Error in System Events logs - No IPs being loaded</p> <p>Solutions:</p> <ol> <li>Check Management Server Connectivity: </li> <li>Verify SMS can reach <code>list.vespersecure.com</code> on port 443</li> <li> <p>Test from SMS command line:      <pre><code>curl_cli -k https://list.vespersecure.com\n</code></pre></p> </li> <li> <p>Verify DNS Resolution: </p> </li> <li>Ensure SMS can resolve <code>list.vespersecure.com</code></li> <li> <p>Check DNS configuration on SMS</p> </li> <li> <p>Test Authentication: </p> </li> <li>Verify credentials are correct</li> <li> <p>Test manually:      <pre><code>curl_cli -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre></p> </li> <li> <p>Check Certificate Validation: </p> </li> <li>Verify SMS trusts the SSL certificate</li> <li>Check if SSL inspection is interfering</li> <li> <p>Disable certificate validation temporarily for testing (not recommended for production)</p> </li> <li> <p>Review System Events: </p> </li> <li>Go to Logs &amp; Monitor \u2192 System Events</li> <li>Search for updatable object name</li> <li>Review error details</li> </ol>"},{"location":"admin/firewall-integration/check-point/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but still can't connect - Logs show traffic being denied</p> <p>Solutions:</p> <ol> <li>Verify Rule Order: </li> <li>Open Access Control policy</li> <li>Ensure Vesper allow rule is above any deny rules</li> <li>Check rule numbers/positions</li> <li> <p>Reinstall policy if order was changed</p> </li> <li> <p>Check Object Contents: </p> </li> <li>View the updatable object</li> <li>Verify user's IP is in the list</li> <li>Have user confirm their current IP</li> <li> <p>Force update if needed</p> </li> <li> <p>Verify Rule Configuration: </p> </li> <li>Check source object is correct</li> <li>Verify destination matches VPN gateway</li> <li>Ensure services/applications are correct</li> <li> <p>Confirm action is \"Accept\"</p> </li> <li> <p>Review Logs: </p> </li> <li>Go to Logs &amp; Monitor \u2192 Logs</li> <li>Find the denied connection</li> <li>Check which rule is blocking</li> <li>Review rule order and modify as needed</li> </ol>"},{"location":"admin/firewall-integration/check-point/#authentication-errors","title":"Authentication Errors","text":"<p>Symptoms: - 401 Unauthorized in logs - Updatable object shows authentication failure</p> <p>Solutions:</p> <ol> <li>Verify credentials in Vesper admin panel  </li> <li>Check for typos or extra spaces in SmartConsole  </li> <li>Re-enter credentials in updatable object  </li> <li>Test with command line: <pre><code>curl_cli -v -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre></li> <li>Re-generate credentials in Vesper if needed  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/check-point/#high-availability-configuration","title":"High Availability Configuration","text":"<p>If using Check Point HA cluster:</p> <ol> <li>Configure updatable object on the active management server  </li> <li>Policy and object configuration will sync to standby  </li> <li>Both SMS instances will independently fetch the Dynamic IP List  </li> <li>Gateways will use policy from active SMS  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#multiple-vpn-gateways","title":"Multiple VPN Gateways","text":"<p>If you have multiple VPN gateways:</p> <ol> <li>Use the same network group in multiple rules  </li> <li>Create separate rules for each gateway if needed  </li> <li>Maintain consistent rule ordering across policies  </li> <li>Install policy to all relevant gateways  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#custom-update-intervals","title":"Custom Update Intervals","text":"<p>For different use cases:</p> <ul> <li>High Security: 300 seconds (5 minutes) - fastest response</li> <li>Balanced: 900 seconds (15 minutes) - recommended default</li> <li>Low Load: 3600 seconds (1 hour) - reduces SMS load</li> </ul>"},{"location":"admin/firewall-integration/check-point/#backup-access","title":"Backup Access","text":"<p>Create a separate network group with static IPs for critical administrators:</p> <ol> <li>Create static IP host objects for admin IPs  </li> <li>Create a new network group with these static IPs  </li> <li>Add this group as an additional source in your allow rule  </li> <li>Provides backup access if Dynamic IP List is unavailable  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Update Interval: 900 seconds (15 minutes) for balanced approach</li> <li>Logging: Enable on both allow and deny rules</li> <li>Rule Placement: Always above deny rules</li> <li>Testing: Test with pilot users before full rollout</li> </ul> <p>Monitoring</p> <ul> <li>Set up alerts for updatable object update failures</li> <li>Monitor logs for denied access attempts</li> <li>Review allowed connections regularly</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Optimization</p> <ul> <li>Document your configuration</li> <li>Add detailed comments to rules</li> <li>Schedule regular connectivity tests</li> <li>Review and update as needed</li> </ul> <p>Important</p> <ul> <li>Protect SMS access - credentials are stored there</li> <li>Use strong Dynamic IP List password</li> <li>Review logs regularly for security issues</li> <li>Test policy changes in non-production first</li> </ul>"},{"location":"admin/firewall-integration/check-point/#next-steps","title":"Next Steps","text":"<p>After Check Point integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/check-point/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/check-point/#check-point-documentation","title":"Check Point Documentation","text":"<ul> <li>Updatable Objects Administration Guide</li> <li>SmartConsole User Guide</li> <li>Security Management Best Practices</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/cisco/","title":"Cisco ASA/FTD","text":"<p>ADMINISTRATOR GUIDE</p>  # Cisco ASA/FTD Integration  Configure Cisco ASA and Firepower Threat Defense (FTD) firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/cisco/#overview","title":"Overview","text":"<p>Cisco ASA and FTD devices support dynamic object groups that can pull IP addresses from external URLs. This guide covers ASA/FTD version 9.8 and later.</p>"},{"location":"admin/firewall-integration/cisco/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>Dynamic object group for IP addresses  </li> <li>External URL configuration with authentication  </li> <li>ACL entries using the dynamic object group  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/cisco/#time-required","title":"Time Required","text":"<p>20-25 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/cisco/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Cisco ASA/FTD CLI access (SSH or console)</li> <li>[ ] Enable mode password</li> <li>[ ] Outbound HTTPS (port 443) allowed from firewall to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN gateway interface and configuration</li> </ul> <p>Configuration Method</p> <p>This guide uses CLI configuration. While some settings can be configured via ASDM or FMC, CLI provides the most consistent experience across ASA and FTD versions.</p>"},{"location":"admin/firewall-integration/cisco/#step-1-create-dynamic-object-group","title":"Step 1: Create Dynamic Object Group","text":"<p>Connect to your ASA/FTD device via CLI and enter configuration mode:</p> <pre><code>enable\nconfigure terminal\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#create-the-object-group","title":"Create the Object Group","text":"<p>Create a network object group for the dynamic IPs:</p> <pre><code>object-group network Vesper-Allowed-IPs\n  description Vesper Secure verified user IPs\n</code></pre> <p>This creates an empty object group that we'll populate from the Dynamic IP List.</p>"},{"location":"admin/firewall-integration/cisco/#step-2-configure-dynamic-object-url","title":"Step 2: Configure Dynamic Object URL","text":""},{"location":"admin/firewall-integration/cisco/#create-the-dynamic-object-update-url","title":"Create the Dynamic Object Update URL","text":"<p>Configure the Dynamic IP List source with authentication:</p> <pre><code>dynamic-object update-url Vesper-DIPL https://list.vespersecure.com/organizationid\n  poll-period 5\n  basic-auth username organizationid password your-password\n</code></pre> <p>Parameter Details:</p> <ul> <li>Vesper-DIPL: Name for this dynamic object update URL</li> <li>URL: Your unique Dynamic IP List URL from Vesper admin panel</li> <li>poll-period: Update interval in minutes</li> <li><code>5</code> = 5 minutes (most responsive)</li> <li><code>15</code> = 15 minutes (recommended)</li> <li><code>60</code> = 1 hour (lower load)</li> <li>username: Your organization ID</li> <li>password: Dynamic IP List password from Vesper admin panel</li> </ul> <p>Password in Configuration</p> <p>The password will be stored in the configuration. Ensure you protect access to the configuration files.</p>"},{"location":"admin/firewall-integration/cisco/#step-3-link-dynamic-object-to-object-group","title":"Step 3: Link Dynamic Object to Object Group","text":"<p>Associate the dynamic object with the object group:</p> <pre><code>object-group network Vesper-Allowed-IPs\n  dynamic-object Vesper-DIPL\n</code></pre> <p>This tells the firewall to populate the <code>Vesper-Allowed-IPs</code> object group with IPs from the <code>Vesper-DIPL</code> dynamic object.</p>"},{"location":"admin/firewall-integration/cisco/#step-4-create-acl-entries","title":"Step 4: Create ACL Entries","text":""},{"location":"admin/firewall-integration/cisco/#for-ssl-vpn-access","title":"For SSL VPN Access","text":"<p>If protecting SSL VPN access:</p> <pre><code>access-list outside_access_in extended permit tcp object-group Vesper-Allowed-IPs any eq https log\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#for-ipsec-vpn-access","title":"For IPSec VPN Access","text":"<p>If protecting IPSec VPN access:</p> <pre><code>access-list outside_access_in extended permit udp object-group Vesper-Allowed-IPs any eq isakmp log\naccess-list outside_access_in extended permit esp object-group Vesper-Allowed-IPs any log\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#apply-acl-to-interface","title":"Apply ACL to Interface","text":"<p>If not already applied, apply the ACL to your outside interface:</p> <pre><code>access-group outside_access_in in interface outside\n</code></pre> <p>ACL Details:</p> <ul> <li>outside_access_in: Name of your outside interface ACL (adjust as needed)</li> <li>object-group Vesper-Allowed-IPs: References the dynamic object group</li> <li>any: Destination (adjust to specific VPN gateway if desired)</li> <li>eq https: HTTPS port 443 for SSL VPN</li> <li>eq isakmp: IKE/ISAKMP port 500 for IPSec</li> <li>esp: ESP protocol for IPSec</li> <li>log: Enables logging for these connections</li> </ul> <p>ACL Placement</p> <p>Place these permit statements before any deny statements that would block VPN traffic.</p>"},{"location":"admin/firewall-integration/cisco/#step-5-save-configuration","title":"Step 5: Save Configuration","text":"<p>Save your configuration:</p> <pre><code>write memory\n</code></pre> <p>Or:</p> <pre><code>copy running-config startup-config\n</code></pre> <p>Exit configuration mode:</p> <pre><code>end\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/cisco/#verify-dynamic-object-configuration","title":"Verify Dynamic Object Configuration","text":"<p>Check that the dynamic object is configured:</p> <pre><code>show run dynamic-object\n</code></pre> <p>Expected output: <pre><code>dynamic-object update-url Vesper-DIPL https://list.vespersecure.com/organizationid\n  poll-period 5\n  basic-auth username organizationid password ********\n</code></pre></p>"},{"location":"admin/firewall-integration/cisco/#verify-object-group-configuration","title":"Verify Object Group Configuration","text":"<p>Check the object group:</p> <pre><code>show run object-group id Vesper-Allowed-IPs\n</code></pre> <p>Expected output: <pre><code>object-group network Vesper-Allowed-IPs\n  description Vesper Secure verified user IPs\n  dynamic-object Vesper-DIPL\n</code></pre></p>"},{"location":"admin/firewall-integration/cisco/#check-dynamic-object-status","title":"Check Dynamic Object Status","text":"<p>View the status of the dynamic object:</p> <pre><code>show dynamic-object update-url\n</code></pre> <p>This shows: - Update URL - Last update time - Update status (success/failure) - Poll interval</p>"},{"location":"admin/firewall-integration/cisco/#view-current-ips","title":"View Current IPs","text":"<p>See which IPs are currently in the dynamic object group:</p> <pre><code>show dynamic-object Vesper-DIPL\n</code></pre> <p>This lists all IPs currently fetched from the Dynamic IP List.</p> <p>Empty List is OK</p> <p>If no users have registered yet, this may show no entries. This is normal.</p>"},{"location":"admin/firewall-integration/cisco/#force-manual-update","title":"Force Manual Update","text":"<p>To force an immediate update of the Dynamic IP List:</p> <pre><code>clear dynamic-object Vesper-DIPL\n</code></pre> <p>Wait a moment, then check again:</p> <pre><code>show dynamic-object Vesper-DIPL\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#testing-with-user-registration","title":"Testing with User Registration","text":""},{"location":"admin/firewall-integration/cisco/#test-the-complete-flow","title":"Test the Complete Flow","text":"<ol> <li> <p>User Registers: Have a test user register their IP through Vesper portal  </p> </li> <li> <p>Wait for Update: Wait for the poll interval (5 minutes, 15 minutes, etc.)  </p> </li> <li> <p>Verify IP in Object: Check that the IP appears: <pre><code>show dynamic-object Vesper-DIPL | grep test-user-ip\n</code></pre></p> </li> <li> <p>Check ACL Hits: Verify ACL is being hit: <pre><code>show access-list outside_access_in | grep Vesper-Allowed-IPs\n</code></pre></p> </li> <li> <p>Test Connection: Have the test user attempt VPN connection  </p> </li> <li> <p>Review Logs: Check syslog or ASDM logs for allowed connections  </p> </li> </ol>"},{"location":"admin/firewall-integration/cisco/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/cisco/#dynamic-object-update-fails","title":"Dynamic Object Update Fails","text":"<p>Symptoms: - <code>show dynamic-object update-url</code> shows failure - No IPs being fetched - Error messages in logs</p> <p>Solutions:</p> <ol> <li> <p>Test DNS Resolution: <pre><code>ping list.vespersecure.com\n</code></pre></p> </li> <li> <p>Verify Outbound HTTPS: </p> </li> <li>Ensure management interface can reach internet</li> <li> <p>Check ACLs don't block outbound HTTPS from firewall</p> </li> <li> <p>Test from CLI: <pre><code>test dynamic-object update Vesper-DIPL\n</code></pre></p> </li> <li> <p>Check Credentials: </p> </li> <li>Verify username and password are correct</li> <li>Ensure no extra spaces or special characters causing issues</li> <li> <p>Test manually with curl from another system</p> </li> <li> <p>Review Configuration: <pre><code>show run dynamic-object\n</code></pre>    Verify URL, username, and authentication are correct</p> </li> <li> <p>Check SSL/TLS: </p> </li> <li>Ensure ASA/FTD has proper CA certificates</li> <li>Verify SSL/TLS version compatibility</li> </ol>"},{"location":"admin/firewall-integration/cisco/#object-group-is-empty","title":"Object Group is Empty","text":"<p>Symptoms: - <code>show dynamic-object Vesper-DIPL</code> returns no IPs - Update status shows success but no IPs</p> <p>Solutions:</p> <ol> <li>Verify Users Have Registered: </li> <li>Check Vesper admin panel</li> <li> <p>Confirm active registrations exist</p> </li> <li> <p>Check URL Format: </p> </li> <li>Ensure Dynamic IP List URL is correct</li> <li> <p>Test the URL manually: <code>curl -u \"user:pass\" URL</code></p> </li> <li> <p>Force Update: <pre><code>clear dynamic-object Vesper-DIPL\n</code></pre>    Wait 30 seconds, then check again</p> </li> <li> <p>Review Logs: <pre><code>show logging | grep dynamic-object\n</code></pre></p> </li> </ol>"},{"location":"admin/firewall-integration/cisco/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but still can't connect - Logs show denies</p> <p>Solutions:</p> <ol> <li> <p>Verify ACL Order: <pre><code>show access-list outside_access_in\n</code></pre>    Ensure Vesper permit rules are before any deny rules</p> </li> <li> <p>Check ACL Configuration: </p> </li> <li>Verify ACL references correct object group</li> <li>Ensure ACL is applied to correct interface</li> <li> <p>Confirm protocol and port match your VPN type</p> </li> <li> <p>Verify IP in Object: <pre><code>show dynamic-object Vesper-DIPL | include user-ip-address\n</code></pre></p> </li> <li> <p>Check ACL Hits: <pre><code>show access-list outside_access_in | grep Vesper-Allowed-IPs\n</code></pre>    Look for hit counts to confirm traffic is matching</p> </li> <li> <p>Review Connection Logs: <pre><code>show conn | grep user-ip-address\nshow logging | grep user-ip-address\n</code></pre></p> </li> </ol>"},{"location":"admin/firewall-integration/cisco/#authentication-errors","title":"Authentication Errors","text":"<p>Symptoms: - 401 Unauthorized in logs - Update fails with auth error</p> <p>Solutions:</p> <ol> <li> <p>Remove and re-create the dynamic object with correct credentials: <pre><code>configure terminal\nno dynamic-object update-url Vesper-DIPL\ndynamic-object update-url Vesper-DIPL https://list.vespersecure.com/organizationid\n  poll-period 5\n  basic-auth username organizationid password your-password\n</code></pre></p> </li> <li> <p>Test credentials manually from another system: <pre><code>curl -v -u \"organizationid:your-password\" https://list.vespersecure.com/organizationid\n</code></pre></p> </li> </ol>"},{"location":"admin/firewall-integration/cisco/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/cisco/#custom-poll-intervals","title":"Custom Poll Intervals","text":"<p>Adjust based on your needs:</p> <pre><code>dynamic-object update-url Vesper-DIPL https://list.vespersecure.com/organizationid\n  poll-period 15\n</code></pre> <p>Values: 5-1440 minutes (5 minutes to 24 hours)</p>"},{"location":"admin/firewall-integration/cisco/#multiple-object-groups","title":"Multiple Object Groups","text":"<p>Use the same dynamic object in multiple object groups:</p> <pre><code>object-group network Vesper-VPN-Users\n  dynamic-object Vesper-DIPL\n\nobject-group network Vesper-Admin-Access\n  dynamic-object Vesper-DIPL\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#combining-with-static-ips","title":"Combining with Static IPs","text":"<p>Add static backup IPs to the same object group:</p> <pre><code>object-group network Vesper-Allowed-IPs\n  dynamic-object Vesper-DIPL\n  network-object host 203.0.113.10\n  network-object 198.51.100.0 255.255.255.0\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#high-availability","title":"High Availability","text":"<p>For HA pairs:</p> <ol> <li>Configure on the active unit  </li> <li>Configuration syncs to standby automatically  </li> <li>Both units fetch the Dynamic IP List independently  </li> <li>Verify connectivity from both units  </li> </ol>"},{"location":"admin/firewall-integration/cisco/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Poll Interval: 15 minutes for balanced approach</li> <li>Logging: Enable logging on ACL entries</li> <li>ACL Order: Review quarterly to ensure correct ordering</li> <li>Backup Access: Include static IPs for critical admins</li> </ul> <p>Monitoring</p> <ul> <li>Check <code>show dynamic-object update-url</code> daily</li> <li>Monitor syslog for update failures</li> <li>Review ACL hit counts regularly</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Security</p> <ul> <li>Protect configuration files (password is visible)</li> <li>Use strong Dynamic IP List password</li> <li>Enable logging for audit trail</li> <li>Regularly review allowed connections</li> </ul> <p>Important Notes</p> <ul> <li>Poll interval cannot be less than 5 minutes</li> <li>Maximum 1440 minutes (24 hours)</li> <li>Password stored in plain text in config</li> <li>Ensure configuration backups are secured</li> </ul>"},{"location":"admin/firewall-integration/cisco/#command-reference","title":"Command Reference","text":""},{"location":"admin/firewall-integration/cisco/#essential-commands","title":"Essential Commands","text":"<pre><code>! View dynamic object configuration\nshow run dynamic-object\n\n! Check dynamic object status\nshow dynamic-object update-url\n\n! View current IPs in dynamic object\nshow dynamic-object Vesper-DIPL\n\n! Force immediate update\nclear dynamic-object Vesper-DIPL\n\n! Test update manually\ntest dynamic-object update Vesper-DIPL\n\n! View object group\nshow run object-group id Vesper-Allowed-IPs\n\n! Check ACL hits\nshow access-list outside_access_in\n\n! View logs\nshow logging | grep dynamic-object\n</code></pre>"},{"location":"admin/firewall-integration/cisco/#next-steps","title":"Next Steps","text":"<p>After Cisco ASA/FTD integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/cisco/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/cisco/#cisco-documentation","title":"Cisco Documentation","text":"<ul> <li>Dynamic Objects Configuration Guide</li> <li>Access Control Lists Configuration</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/fortinet/","title":"Fortinet FortiGate","text":"<p>ADMINISTRATOR GUIDE</p>  # Fortinet FortiGate Integration  Configure Fortinet FortiGate firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/fortinet/#overview","title":"Overview","text":"<p>Fortinet FortiGate firewalls support External Connectors (also called Fabric Connectors) that can pull IP addresses from external sources. This guide covers FortiOS 6.0 and later versions.</p>"},{"location":"admin/firewall-integration/fortinet/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>External Connector to pull IPs from Vesper Dynamic IP List  </li> <li>Dynamic address object based on the connector  </li> <li>Firewall policy to allow registered IPs  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#time-required","title":"Time Required","text":"<p>15-20 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/fortinet/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] FortiGate firewall admin access</li> <li>[ ] Outbound HTTPS (port 443) allowed from firewall to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN gateway interface and IP</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#step-1-create-external-resource","title":"Step 1: Create External Resource","text":""},{"location":"admin/firewall-integration/fortinet/#navigate-to-external-connectors","title":"Navigate to External Connectors","text":"<ol> <li>Log in to FortiGate web interface  </li> <li>Go to Security Fabric \u2192 External Connectors </li> <li>Click Create New \u2192 IP Address </li> </ol> <p>FortiOS Versions</p> <p>In some FortiOS versions, this may be under Security Fabric \u2192 Fabric Connectors or External Resources.</p>"},{"location":"admin/firewall-integration/fortinet/#configure-external-connector","title":"Configure External Connector","text":"<p>Configure the following settings:</p> <pre><code>Name: Vesper_Secure_EDL\nType: IP Address\nUpdate Method: HTTP(S)\nURL: https://list.vespersecure.com/organizationid\nAuthentication: Basic\nUsername: organizationid\nPassword: \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\nRefresh Rate: 5 minutes\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Use a descriptive name without spaces (e.g., <code>Vesper_Secure_EDL</code>)</li> <li>Type: Must be \"IP Address\"</li> <li>Update Method: Select \"HTTP(S)\"</li> <li>URL: Your unique Dynamic IP List URL from Vesper admin panel</li> <li>Authentication: Select \"Basic\"</li> <li>Username: Your organization ID</li> <li>Password: Dynamic IP List password from Vesper admin panel</li> <li>Refresh Rate: </li> <li>5 minutes for fastest access grants</li> <li>1 hour for reduced firewall load</li> <li>15 minutes recommended for balanced approach</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#test-connectivity","title":"Test Connectivity","text":"<ol> <li>Click Test Connectivity before saving (if available)  </li> <li>Verify connection succeeds  </li> <li>Click OK to save the external connector  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#step-2-create-address-object","title":"Step 2: Create Address Object","text":""},{"location":"admin/firewall-integration/fortinet/#navigate-to-addresses","title":"Navigate to Addresses","text":"<ol> <li>Go to Policy &amp; Objects \u2192 Addresses </li> <li>Click Create New \u2192 Address </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#configure-dynamic-address","title":"Configure Dynamic Address","text":"<p>Create an address object with these settings:</p> <pre><code>Name: Vesper-Allowed-IPs\nType: Dynamic\nSub-type: Fabric Connector Address\nConnector: Vesper_Secure_EDL\nInterface: any\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Descriptive name for the address object</li> <li>Type: Select \"Dynamic\" (not Static)</li> <li>Sub-type: Select \"Fabric Connector Address\"</li> <li>Connector: Select the connector you created (<code>Vesper_Secure_EDL</code>)</li> <li>Interface: Leave as \"any\" or select specific interface if needed</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#save-address-object","title":"Save Address Object","text":"<p>Click OK to save the address object.</p>"},{"location":"admin/firewall-integration/fortinet/#step-3-verify-external-connector","title":"Step 3: Verify External Connector","text":"<p>Before creating policies, verify the connector is working:</p> <ol> <li>Go to Security Fabric \u2192 External Connectors </li> <li>Find your <code>Vesper_Secure_EDL</code> connector  </li> <li>Check the status shows green/connected  </li> <li>Click on the connector name to view details  </li> <li>Verify it shows IP addresses (if any users have registered)  </li> </ol> <p>Empty List is OK</p> <p>If no users have registered yet, the connector may show 0 addresses. This is normal - it will populate as users register.</p>"},{"location":"admin/firewall-integration/fortinet/#step-4-create-firewall-policy","title":"Step 4: Create Firewall Policy","text":""},{"location":"admin/firewall-integration/fortinet/#navigate-to-policies","title":"Navigate to Policies","text":"<ol> <li>Go to Policy &amp; Objects \u2192 Firewall Policy </li> <li>Click Create New </li> <li>Position the policy above any general deny rules  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#configure-allow-policy","title":"Configure Allow Policy","text":"<p>Create a firewall policy with these settings:</p> <pre><code>Name: Allow-Vesper-Verified-Users\nIncoming Interface: wan1 (or your external interface)\nOutgoing Interface: vpn (or your VPN interface)\nSource: Vesper-Allowed-IPs\nDestination: VPN-Gateway-IP (or all)\nService: HTTPS, IPSEC\nSchedule: always\nAction: Accept\nNAT: (configure as needed)\nLog Allowed Traffic: All Sessions\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Descriptive name for the policy</li> <li>Incoming Interface: Interface where external traffic arrives (e.g., wan1, port1)</li> <li>Outgoing Interface: Interface connected to VPN gateway</li> <li>Source: Select the address object you created (<code>Vesper-Allowed-IPs</code>)</li> <li>Destination: Your VPN gateway IP or address object (or use \"all\")</li> <li>Service: Include VPN protocols:</li> <li>HTTPS (for SSL VPN)</li> <li>IPSEC (for IPSec VPN)</li> <li>Or create custom service for specific ports</li> <li>Schedule: \"always\"</li> <li>Action: Accept</li> <li>NAT: Configure source NAT if required by your environment</li> <li>Log Allowed Traffic: Enable \"All Sessions\" for auditing</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#enable-security-profiles-optional","title":"Enable Security Profiles (Optional)","text":"<p>Under Security Profiles, optionally enable: - Antivirus - Web Filtering - Application Control - IPS</p> <p>Policy Order Matters</p> <p>This allow policy must be placed above any deny rules that would block the traffic. Use the up/down arrows to reorder policies.</p>"},{"location":"admin/firewall-integration/fortinet/#save-policy","title":"Save Policy","text":"<p>Click OK to save the firewall policy.</p>"},{"location":"admin/firewall-integration/fortinet/#step-5-create-block-policy-optional","title":"Step 5: Create Block Policy (Optional)","text":"<p>Add an explicit deny rule below the allow rule to block unverified IPs:</p> <pre><code>Name: Block-Unverified-VPN-Access\nIncoming Interface: wan1\nOutgoing Interface: vpn\nSource: all\nDestination: VPN-Gateway-IP\nService: HTTPS, IPSEC\nAction: Deny\nLog Blocked Traffic: All Sessions\n</code></pre> <p>This helps with logging and troubleshooting by explicitly capturing denied attempts.</p>"},{"location":"admin/firewall-integration/fortinet/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/fortinet/#verify-external-connector-status","title":"Verify External Connector Status","text":"<ol> <li>Go to Security Fabric \u2192 External Connectors </li> <li>Check your connector shows \"Connected\" or green status  </li> <li>Click on it to view the current IP addresses  </li> <li>Verify \"Last Updated\" timestamp is recent  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#test-connector-manually","title":"Test Connector Manually","text":"<p>You can force a manual update:</p> <ol> <li>Go to Security Fabric \u2192 External Connectors </li> <li>Right-click on your connector  </li> <li>Select Refresh or Update Now (if available)  </li> <li>Wait a few seconds and verify update timestamp  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#verify-address-object","title":"Verify Address Object","text":"<ol> <li>Go to Policy &amp; Objects \u2192 Addresses </li> <li>Find your <code>Vesper-Allowed-IPs</code> address object  </li> <li>Hover over or click to view current IP addresses  </li> <li>Verify IPs are being populated from the connector  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for refresh interval (5 minutes to 1 hour depending on your setting)  </li> <li>Force a manual refresh of the external connector  </li> <li>Verify the test user's IP appears in the address object  </li> <li>Test VPN connection from the test user's location  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#review-firewall-logs","title":"Review Firewall Logs","text":"<ol> <li>Go to Log &amp; Report \u2192 Forward Traffic </li> <li>Look for connections from registered IPs  </li> <li>Verify they're being allowed by your Vesper policy  </li> <li>Check that unregistered IPs are being denied (if you created a deny rule)  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/fortinet/#external-connector-shows-failed-or-disconnected","title":"External Connector Shows \"Failed\" or \"Disconnected\"","text":"<p>Symptoms: - Connector status shows red or failed - No IPs being populated - Error in connector details</p> <p>Solutions:</p> <ol> <li>Check Outbound Connectivity: </li> <li>Go to Dashboard \u2192 CLI Console</li> <li>Execute: <code>execute ping list.vespersecure.com</code></li> <li> <p>Verify connectivity</p> </li> <li> <p>Verify DNS Resolution: <pre><code>execute dns lookup list.vespersecure.com\n</code></pre></p> </li> <li> <p>Check Interface Selection: </p> </li> <li>Verify the correct management or WAN interface can reach the internet</li> <li> <p>Go to System \u2192 Settings and check source IP for updates</p> </li> <li> <p>Test with Diagnostics: <pre><code>diagnose test application fcnacd 4\n</code></pre>    This shows external connector debug information.</p> </li> <li> <p>Verify Credentials: </p> </li> <li>Double-check username and password in connector configuration</li> <li>Ensure no extra spaces</li> <li> <p>Test manually: <code>curl -u \"user:pass\" https://list.vespersecure.com/organizationid</code></p> </li> <li> <p>Check Routing: </p> </li> <li>Ensure firewall has a route to reach list.vespersecure.com</li> <li>Verify default gateway is configured</li> </ol>"},{"location":"admin/firewall-integration/fortinet/#address-object-is-empty","title":"Address Object is Empty","text":"<p>Symptoms: - Connector shows connected but address object has no IPs - Policy not matching traffic</p> <p>Solutions:</p> <ol> <li>Verify Users Have Registered: </li> <li>Check Vesper admin panel</li> <li> <p>Confirm active registrations exist</p> </li> <li> <p>Force Connector Refresh: </p> </li> <li>Right-click connector and refresh</li> <li> <p>Wait for update to complete</p> </li> <li> <p>Check Connector Configuration: </p> </li> <li>Verify URL is correct</li> <li> <p>Ensure connector type is \"IP Address\"</p> </li> <li> <p>Review Logs: </p> </li> <li>Go to Log &amp; Report \u2192 System Events</li> <li>Filter for external connector events</li> <li>Look for errors</li> </ol>"},{"location":"admin/firewall-integration/fortinet/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but still can't connect - Logs show denies</p> <p>Solutions:</p> <ol> <li>Verify Policy Order: </li> <li>Go to Policy &amp; Objects \u2192 Firewall Policy</li> <li>Ensure Vesper allow policy is above deny rules</li> <li> <p>Drag to reorder if necessary</p> </li> <li> <p>Check Policy Configuration: </p> </li> <li>Verify source address is set to <code>Vesper-Allowed-IPs</code></li> <li>Confirm interfaces are correct</li> <li> <p>Ensure services include necessary VPN protocols</p> </li> <li> <p>Verify IP is in Address Object: </p> </li> <li>Go to Policy &amp; Objects \u2192 Addresses</li> <li>Check <code>Vesper-Allowed-IPs</code> contains the user's IP</li> <li> <p>Have user confirm their current IP</p> </li> <li> <p>Review Policy Logs: </p> </li> <li>Go to Log &amp; Report \u2192 Forward Traffic</li> <li>Find the blocked session</li> <li>Check which policy is blocking</li> <li>Verify hit count on Vesper allow policy</li> </ol>"},{"location":"admin/firewall-integration/fortinet/#authentication-errors","title":"Authentication Errors","text":"<p>Symptoms: - Connector shows authentication failed - 401 Unauthorized in logs</p> <p>Solutions:</p> <ol> <li>Edit the external connector  </li> <li>Re-enter username and password carefully  </li> <li>Ensure no extra spaces  </li> <li>Test credentials with curl: <code>curl -v -u \"user:pass\" URL</code> </li> <li>Re-generate credentials in Vesper admin panel if needed  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/fortinet/#using-vdoms","title":"Using VDOMs","text":"<p>If using Virtual Domains (VDOMs):</p> <ol> <li>Create the external connector in each VDOM that needs access  </li> <li>Each VDOM maintains its own connector instance  </li> <li>Configure policies within each VDOM  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#high-availability-configuration","title":"High Availability Configuration","text":"<p>For HA cluster:</p> <ol> <li>Configure external connector on the primary unit  </li> <li>Configuration syncs to secondary automatically  </li> <li>Both units independently fetch the Dynamic IP List  </li> <li>Verify connectivity from both units  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#multiple-vpn-interfaces","title":"Multiple VPN Interfaces","text":"<p>If you have multiple VPN gateways:</p> <ol> <li>Use the same address object in multiple policies  </li> <li>Create separate policies for each VPN interface  </li> <li>Maintain consistent policy ordering  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Refresh Rate: 15 minutes for balanced approach</li> <li>Logging: Enable logging on both allow and deny policies</li> <li>Policy Order: Review quarterly to ensure correct ordering</li> <li>Testing: Test with pilot users before full rollout</li> </ul> <p>Monitoring</p> <ul> <li>Monitor external connector status daily</li> <li>Set up alerts for connector failures</li> <li>Review forward traffic logs regularly</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Optimization</p> <ul> <li>Use security profiles on allow policy for additional protection</li> <li>Consider creating address groups if managing multiple DIPLs</li> <li>Document your configuration for future reference</li> <li>Schedule regular connectivity tests</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#next-steps","title":"Next Steps","text":"<p>After FortiGate integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/fortinet/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/fortinet/#fortinet-documentation","title":"Fortinet Documentation","text":"<ul> <li>External Connectors Configuration Guide</li> <li>Dynamic Address Objects</li> <li>Firewall Policy Best Practices</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/generic/","title":"Generic/Other Firewalls","text":"<p>ADMINISTRATOR GUIDE</p>  # Generic Firewall Integration  Configure any firewall supporting URL-based IP lists to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/generic/#overview","title":"Overview","text":"<p>This guide covers the general approach for integrating Vesper Secure with any firewall that supports fetching IP addresses from an HTTP/HTTPS URL. While specific menu locations and terminology vary by vendor, the core concepts remain the same.</p>"},{"location":"admin/firewall-integration/generic/#supported-firewall-types","title":"Supported Firewall Types","text":"<p>This generic approach works with many firewall platforms that have URL-based IP list functionality. If you're using one of the following firewalls with dedicated guides, please use those instead:</p> <ul> <li>Palo Alto Networks - Use dedicated guide</li> <li>Fortinet FortiGate - Use dedicated guide</li> <li>Cisco ASA/FTD - Use dedicated guide</li> <li>Check Point - Use dedicated guide</li> <li>pfSense - Use dedicated guide</li> <li>OPNsense - Use dedicated guide</li> <li>Juniper SRX - Use dedicated guide</li> </ul>"},{"location":"admin/firewall-integration/generic/#firewalls-not-supported","title":"Firewalls NOT Supported","text":"<p>The following firewalls do NOT have the required Dynamic IP List functionality and cannot be easily integrated with Vesper Secure:</p> <p>Unsupported Firewalls</p> <p>Sophos XG Firewall</p> <ul> <li>Limited to vendor threat intelligence feeds only</li> <li>Does not support custom URL-based IP lists</li> <li>Cannot fetch and parse plain text IP lists from external URLs</li> </ul> <p>WatchGuard</p> <ul> <li>No native URL-based dynamic IP list support</li> <li>Limited to static IP configurations</li> <li>Requires manual IP list management</li> </ul> <p>SonicWall</p> <ul> <li>Does not support custom external dynamic lists</li> <li>Limited to vendor-provided security services only</li> <li>No HTTP/HTTPS custom IP list ingestion capability</li> </ul> <p>Zyxel</p> <ul> <li>No comparable Dynamic IP List functionality</li> <li>Lacks URL-based IP list support</li> <li>Static configuration only</li> </ul>"},{"location":"admin/firewall-integration/generic/#alternatives-for-unsupported-firewalls","title":"Alternatives for Unsupported Firewalls","text":"<p>If you're using an unsupported firewall, consider these alternatives:</p> <ol> <li>Manual Updates: Periodically export IPs from Vesper admin panel and manually update firewall rules  </li> <li>API Scripts: If your firewall has an API, create a script to fetch the Dynamic IP List and update rules programmatically  </li> <li>Intermediate Server: Set up a server to fetch the Dynamic IP List and push updates via your firewall's management interface  </li> <li>Platform Upgrade: Consider upgrading to a firewall platform with native Dynamic IP List support  </li> </ol> <p>Looking for Specific Guides?</p> <p>If you're using Palo Alto, Fortinet, Cisco, Check Point, pfSense, OPNsense, or Juniper SRX, we have dedicated guides:</p> <ul> <li>Palo Alto Networks Guide</li> <li>Fortinet FortiGate Guide</li> <li>Cisco ASA/FTD Guide</li> <li>Check Point Guide</li> <li>pfSense Guide</li> <li>OPNsense Guide</li> <li>Juniper SRX Guide</li> </ul>"},{"location":"admin/firewall-integration/generic/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Firewall admin access</li> <li>[ ] Outbound HTTPS (port 443) allowed from firewall to <code>list.vespersecure.com</code></li> <li>[ ] Understanding of your firewall's policy/rule structure</li> <li>[ ] Knowledge of your VPN gateway configuration</li> </ul>"},{"location":"admin/firewall-integration/generic/#general-integration-steps","title":"General Integration Steps","text":""},{"location":"admin/firewall-integration/generic/#step-1-understand-your-firewalls-capabilities","title":"Step 1: Understand Your Firewall's Capabilities","text":"<p>First, determine what your firewall calls this feature. Common names include:</p> <ul> <li>Dynamic IP Lists</li> <li>URL Tables</li> <li>External Address Lists</li> <li>Dynamic Address Objects</li> <li>Threat Intelligence Feeds</li> <li>IP Reputation Lists</li> <li>External IP Sources</li> <li>URL-based Aliases</li> </ul> <p>Check your firewall documentation for: - Support for HTTP/HTTPS URL sources - Authentication methods (Basic Auth required) - Refresh/update interval options - How to reference the list in policies/rules</p>"},{"location":"admin/firewall-integration/generic/#step-2-add-vesper-dynamic-ip-list-as-url-source","title":"Step 2: Add Vesper Dynamic IP List as URL Source","text":""},{"location":"admin/firewall-integration/generic/#configuration-details","title":"Configuration Details","text":"<p>You'll need to provide these settings to your firewall:</p> <pre><code>Name/Alias: Vesper-Secure-Allowed-IPs (or similar)\nURL: https://list.vespersecure.com/organizationid\nAuthentication Method: Basic Authentication / HTTP Basic Auth\nUsername: organizationid\nPassword: \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\nUpdate Interval: 5-60 minutes (15 minutes recommended)\nFormat: Plain text / IP List / One IP per line\n</code></pre>"},{"location":"admin/firewall-integration/generic/#common-configuration-locations","title":"Common Configuration Locations","text":"<p>Check Point: - SmartConsole \u2192 Manage &amp; Settings \u2192 Blades \u2192 Threat Prevention - Create new Threat Intelligence feed - Use \"Generic Format\" with URL</p> <p>pfSense: - Firewall \u2192 Aliases \u2192 IP \u2192 URLs - Add URL to \"URL(s)\" field - Set update frequency</p> <p>OPNsense: - Firewall \u2192 Aliases \u2192 Add - Type: URL Table (IPs) - Set URL and refresh frequency</p> <p>Sophos XG: - Hosts and Services \u2192 IP Host \u2192 Add - Select \"List of IP Host\" \u2192 \"Import from URL\"</p>"},{"location":"admin/firewall-integration/generic/#step-3-create-address-objectalias","title":"Step 3: Create Address Object/Alias","text":"<p>After adding the URL source, create an address object or alias that references it:</p> <ol> <li>Create a new address object/alias  </li> <li>Select type: \"Dynamic\" or \"URL-based\" or \"External\"  </li> <li>Reference the URL source you created  </li> <li>Name it descriptively (e.g., <code>Vesper-Allowed-IPs</code>)  </li> </ol> <p>Some firewalls combine steps 2 and 3 into a single configuration.</p>"},{"location":"admin/firewall-integration/generic/#step-4-create-firewall-rulepolicy","title":"Step 4: Create Firewall Rule/Policy","text":"<p>Create a rule or policy that uses the address object:</p>"},{"location":"admin/firewall-integration/generic/#example-rule-structure","title":"Example Rule Structure","text":"<pre><code>Name: Allow Vesper Verified Users\nSource Zone: External/WAN/Untrust\nSource Address: Vesper-Allowed-IPs (the object you created)\nDestination Zone: VPN/Internal\nDestination Address: VPN-Gateway-IP (or Any)\nService/Port: HTTPS (443), IPSEC (500, 4500), SSL VPN ports\nAction: Allow/Accept/Permit\nLogging: Enable\n</code></pre>"},{"location":"admin/firewall-integration/generic/#important-considerations","title":"Important Considerations","text":"<p>Rule Order is Critical</p> <p>Place this allow rule ABOVE any deny/block rules that would otherwise block the traffic.</p> <p>Enable Logging</p> <p>Enable logging on both allow and deny rules for troubleshooting and audit purposes.</p>"},{"location":"admin/firewall-integration/generic/#step-5-test-and-validate","title":"Step 5: Test and Validate","text":""},{"location":"admin/firewall-integration/generic/#test-url-connectivity","title":"Test URL Connectivity","text":"<p>Most firewalls provide a way to test external connections. Test that your firewall can reach the Dynamic IP List:</p> <p>Manual Test from Another System: <pre><code>curl -u \"organizationid:your-password\" https://list.vespersecure.com/organizationid\n</code></pre></p> <p>This should return: - List of IP addresses (if users have registered) - Empty response (if no users registered yet) - Authentication error if credentials wrong</p>"},{"location":"admin/firewall-integration/generic/#verify-update-status","title":"Verify Update Status","text":"<p>Check your firewall's interface for: - Last update time - Update status (success/failure) - Number of IPs currently in the list - Next scheduled update time</p>"},{"location":"admin/firewall-integration/generic/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register through Vesper portal  </li> <li>Wait for firewall's update interval  </li> <li>Force manual update if supported  </li> <li>Verify user's IP appears in the list  </li> <li>Test VPN connection from user's location  </li> </ol>"},{"location":"admin/firewall-integration/generic/#common-configurations-by-platform","title":"Common Configurations by Platform","text":""},{"location":"admin/firewall-integration/generic/#for-other-firewalls-with-url-support","title":"For Other Firewalls with URL Support","text":"<p>If your firewall supports URL-based IP lists but isn't covered in the dedicated guides, follow this general pattern:</p> <p>General Configuration Steps:</p> <pre><code>1. Locate the feature in your firewall's interface  \n   - Look for: \"External Lists\", \"URL Tables\", \"Dynamic Objects\"\n   - Usually under: Network Objects, Addresses, or Security Settings\n\n2. Create new URL-based object:  \n   - Name: Vesper_Allowed_IPs\n   - Type: URL Table / External List / IP List\n   - URL: https://organizationid:password@list.vespersecure.com/organizationid\n   - Update Frequency: As frequent as supported (5-60 minutes)\n\n3. Create firewall rule:  \n   - Source: Vesper_Allowed_IPs object\n   - Destination: VPN gateway\n   - Action: Allow\n   - Logging: Enabled\n</code></pre> <p>Authentication Requirements</p> <p>Most firewalls require HTTP Basic Authentication. You may need to: - Embed credentials in URL: <code>https://username:password@host/path</code> - Configure separate username/password fields - Use a script for advanced authentication</p>"},{"location":"admin/firewall-integration/generic/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/generic/#url-fetch-fails","title":"URL Fetch Fails","text":"<p>Symptoms: - Firewall shows update failed - Error accessing URL - Empty list when IPs should exist</p> <p>Solutions:</p> <ol> <li>Test DNS Resolution: </li> <li>Verify firewall can resolve <code>list.vespersecure.com</code></li> <li> <p>Check DNS settings</p> </li> <li> <p>Test Connectivity: </p> </li> <li>Verify outbound HTTPS (port 443) allowed</li> <li>Check firewall can reach internet</li> <li> <p>Test from firewall CLI if available</p> </li> <li> <p>Verify Authentication: </p> </li> <li>Double-check username and password</li> <li>Test manually with curl</li> <li> <p>Ensure no special characters causing issues</p> </li> <li> <p>Check Certificate Validation: </p> </li> <li>Verify firewall trusts SSL certificates</li> <li>Check if SSL inspection interfering</li> <li> <p>Ensure certificate store is updated</p> </li> <li> <p>Review Logs: </p> </li> <li>Check system logs for error messages</li> <li>Look for HTTP error codes</li> <li>Check for timeout errors</li> </ol>"},{"location":"admin/firewall-integration/generic/#authentication-issues","title":"Authentication Issues","text":"<p>Symptoms: - 401 Unauthorized errors - Authentication failed in logs</p> <p>Solutions:</p> <ol> <li>Verify Credentials: </li> <li>Check username is correct</li> <li>Verify password is correct</li> <li> <p>Ensure no spaces or hidden characters</p> </li> <li> <p>Test Manually: <pre><code>curl -v -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre></p> </li> <li> <p>Check Authentication Method: </p> </li> <li>Ensure using \"Basic Authentication\"</li> <li>Verify firewall supports HTTP Basic Auth</li> <li>Check if credentials need to be URL-encoded</li> </ol>"},{"location":"admin/firewall-integration/generic/#traffic-not-allowed","title":"Traffic Not Allowed","text":"<p>Symptoms: - User registered but still blocked - Policy not matching traffic</p> <p>Solutions:</p> <ol> <li>Verify Rule Order: </li> <li>Ensure allow rule is ABOVE deny rules</li> <li>Check rule hit counts</li> <li> <p>Verify rule is enabled</p> </li> <li> <p>Check IP is in List: </p> </li> <li>View current IPs in address object</li> <li>Confirm user's IP matches</li> <li> <p>Force update if needed</p> </li> <li> <p>Review Rule Configuration: </p> </li> <li>Verify source address matches</li> <li>Check zones/interfaces correct</li> <li> <p>Confirm ports/services match</p> </li> <li> <p>Check Logs: </p> </li> <li>Review denied traffic logs</li> <li>Identify which rule is blocking</li> <li>Verify logging is enabled</li> </ol>"},{"location":"admin/firewall-integration/generic/#firewall-specific-considerations","title":"Firewall-Specific Considerations","text":""},{"location":"admin/firewall-integration/generic/#update-intervals","title":"Update Intervals","text":"<p>Different firewalls have different capabilities:</p> <ul> <li>Some firewalls: 5-minute intervals supported</li> <li>Others: Minimum 1 hour or daily</li> <li>Recommendation: Use shortest interval your firewall supports</li> </ul> <p>If your firewall only supports daily updates: - Consider shorter temporary access durations - Plan for delayed access grants - Maintain backup static IP list for urgent access</p>"},{"location":"admin/firewall-integration/generic/#authentication-methods","title":"Authentication Methods","text":"<p>If your firewall doesn't support Basic Auth directly:</p> <ol> <li> <p>Embed credentials in URL (less secure): <pre><code>https://username:password@list.vespersecure.com/organizationid\n</code></pre></p> </li> <li> <p>Use custom script:  </p> </li> <li>Create script to fetch with curl</li> <li>Save to local file</li> <li>Point firewall at local file</li> <li> <p>Schedule script to run periodically</p> </li> <li> <p>Use intermediate proxy:  </p> </li> <li>Set up nginx or similar to handle auth</li> <li>Firewall fetches from local proxy</li> </ol>"},{"location":"admin/firewall-integration/generic/#format-considerations","title":"Format Considerations","text":"<p>Vesper Dynamic IP List returns plain text, one IP per line: <pre><code>192.0.2.1  \n198.51.100.5  \n203.0.113.42  \n</code></pre></p> <p>Some firewalls expect specific formats. If needed, create a script to: - Fetch the Dynamic IP List - Reformat for your firewall - Save locally for firewall to consume</p>"},{"location":"admin/firewall-integration/generic/#best-practices","title":"Best Practices","text":"<p>Recommendations</p> <ul> <li>Use shortest update interval your firewall supports</li> <li>Enable logging on allow and deny rules</li> <li>Test with pilot users before full rollout</li> <li>Document your configuration</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Monitoring</p> <ul> <li>Check update status regularly</li> <li>Monitor for authentication failures</li> <li>Review allowed traffic logs</li> <li>Track denied access attempts</li> </ul> <p>Security</p> <ul> <li>Protect stored credentials</li> <li>Use strong Dynamic IP List password</li> <li>Review rule order regularly</li> <li>Audit access logs</li> </ul> <p>Important</p> <ul> <li>Always place allow rules above deny rules</li> <li>Test thoroughly before production</li> <li>Have rollback plan</li> <li>Document firewall-specific quirks</li> </ul>"},{"location":"admin/firewall-integration/generic/#need-more-help","title":"Need More Help?","text":""},{"location":"admin/firewall-integration/generic/#vendor-specific-assistance","title":"Vendor-Specific Assistance","text":"<ol> <li>Check your firewall's documentation for:  </li> <li>URL-based IP lists</li> <li>External threat feeds</li> <li> <p>Dynamic address objects</p> </li> <li> <p>Search for:  </p> </li> <li>\"[Firewall Model] URL IP list\"</li> <li>\"[Firewall Model] external IP feed\"</li> <li> <p>\"[Firewall Model] threat intelligence feed\"</p> </li> <li> <p>Contact vendor support for:  </p> </li> <li>Confirmation of feature support</li> <li>Specific configuration steps</li> <li>Best practices for your platform</li> </ol>"},{"location":"admin/firewall-integration/generic/#contact-vesper-support","title":"Contact Vesper Support","text":"<p>If you need assistance integrating with your specific firewall:</p> <ul> <li>Email: support@vespersecure.com</li> <li>Include: Firewall make/model, version, configuration attempted</li> <li>We may be able to provide specific guidance</li> </ul>"},{"location":"admin/firewall-integration/generic/#next-steps","title":"Next Steps","text":"<p>After firewall integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/generic/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/juniper-srx/","title":"Juniper SRX","text":"<p>ADMINISTRATOR GUIDE</p>  # Juniper SRX Integration  Configure Juniper SRX firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/juniper-srx/#overview","title":"Overview","text":"<p>Juniper SRX Series firewalls (JunOS 15.1X49+) support Dynamic Address Objects that can fetch IP addresses from external HTTP/HTTPS URLs. This guide covers SRX configuration using both GUI (J-Web) and CLI methods.</p>"},{"location":"admin/firewall-integration/juniper-srx/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>Dynamic address object pointing to Vesper Dynamic IP List  </li> <li>Security policy to allow registered IPs  </li> <li>Zone configuration and policy ordering  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#time-required","title":"Time Required","text":"<p>20-25 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/juniper-srx/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Juniper SRX with JunOS 15.1X49 or later</li> <li>[ ] CLI access (SSH) or J-Web access</li> <li>[ ] Outbound HTTPS (port 443) allowed from SRX to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your security zones and VPN configuration</li> </ul> <p>Configuration Method</p> <p>This guide primarily uses CLI configuration as it's more consistent across SRX models. J-Web steps are noted where applicable.</p>"},{"location":"admin/firewall-integration/juniper-srx/#step-1-configure-dynamic-address-object","title":"Step 1: Configure Dynamic Address Object","text":""},{"location":"admin/firewall-integration/juniper-srx/#connect-to-srx-cli","title":"Connect to SRX CLI","text":"<p>SSH to your SRX device and enter configuration mode:</p> <pre><code>ssh admin@srx-firewall\nconfigure\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#create-dynamic-address-object","title":"Create Dynamic Address Object","text":"<p>Create a dynamic address object for the Vesper Dynamic IP List:</p> <pre><code>set security dynamic-address address-name Vesper-Allowed-IPs\nset security dynamic-address address-name Vesper-Allowed-IPs profile Vesper-DIPL-Profile\n</code></pre> <p>Field Details:</p> <ul> <li>address-name: <code>Vesper-Allowed-IPs</code> (the name you'll reference in policies)</li> <li>profile: <code>Vesper-DIPL-Profile</code> (profile we'll create next)</li> </ul>"},{"location":"admin/firewall-integration/juniper-srx/#step-2-configure-feed-profile","title":"Step 2: Configure Feed Profile","text":""},{"location":"admin/firewall-integration/juniper-srx/#create-the-feed-profile","title":"Create the Feed Profile","text":"<p>Configure the profile that defines how to fetch the Dynamic IP List:</p> <pre><code>set services security-intelligence url Vesper-DIPL-Profile url https://list.vespersecure.com/organizationid\nset services security-intelligence url Vesper-DIPL-Profile category Vesper-IPs\nset services security-intelligence url Vesper-DIPL-Profile username organizationid\nset services security-intelligence url Vesper-DIPL-Profile password your-password\nset services security-intelligence url Vesper-DIPL-Profile update-interval 900\n</code></pre> <p>Parameter Details:</p> <ul> <li>url: Your unique Dynamic IP List URL from Vesper admin panel</li> <li>category: A label for this feed (e.g., <code>Vesper-IPs</code>)</li> <li>username: Your organization ID</li> <li>password: Dynamic IP List password from Vesper admin panel</li> <li>update-interval: Update interval in seconds</li> <li><code>300</code> = 5 minutes (most responsive)</li> <li><code>900</code> = 15 minutes (recommended)</li> <li><code>3600</code> = 1 hour (lower load)</li> </ul> <p>Password Storage</p> <p>The password will be encrypted in the configuration. Protect access to configuration files and commit scripts.</p>"},{"location":"admin/firewall-integration/juniper-srx/#step-3-configure-address-book-entry","title":"Step 3: Configure Address Book Entry","text":""},{"location":"admin/firewall-integration/juniper-srx/#create-address-book-entry","title":"Create Address Book Entry","text":"<p>Add the dynamic address to your address book:</p> <pre><code>set security address-book global address Vesper-Allowed-IPs-Entry dynamic-address Vesper-Allowed-IPs\n</code></pre> <p>Parameter Details:</p> <ul> <li>global: Use global address book (or specify a zone-specific book)</li> <li>address: Name for the address book entry (e.g., <code>Vesper-Allowed-IPs-Entry</code>)</li> <li>dynamic-address: Reference to the dynamic address object created in Step 1</li> </ul>"},{"location":"admin/firewall-integration/juniper-srx/#verify-configuration","title":"Verify Configuration","text":"<p>Check your configuration:</p> <pre><code>show security dynamic-address\nshow security address-book global\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#step-4-create-security-policy","title":"Step 4: Create Security Policy","text":""},{"location":"admin/firewall-integration/juniper-srx/#identify-your-zones","title":"Identify Your Zones","text":"<p>Determine your zone configuration:</p> <pre><code>show security zones\n</code></pre> <p>Typically: - untrust zone: External/internet-facing interface - trust zone: Internal/VPN interface</p>"},{"location":"admin/firewall-integration/juniper-srx/#create-security-policy","title":"Create Security Policy","text":"<p>Create a policy to allow traffic from registered IPs:</p> <pre><code>set security policies from-zone untrust to-zone trust policy Allow-Vesper-Users match source-address Vesper-Allowed-IPs-Entry\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users match destination-address any\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users match application junos-ssl\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users match application junos-ike\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users match application junos-ipsec-vpn\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users then permit\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users then log session-init\nset security policies from-zone untrust to-zone trust policy Allow-Vesper-Users then log session-close\n</code></pre> <p>Parameter Details:</p> <ul> <li>from-zone: <code>untrust</code> (or your external zone)</li> <li>to-zone: <code>trust</code> (or your VPN/internal zone)</li> <li>policy: <code>Allow-Vesper-Users</code> (policy name)</li> <li>source-address: <code>Vesper-Allowed-IPs-Entry</code> (the address book entry)</li> <li>destination-address: <code>any</code> (or specific VPN gateway address)</li> <li>application: VPN applications</li> <li><code>junos-ssl</code> for SSL VPN (port 443)</li> <li><code>junos-ike</code> for IPsec IKE (port 500)</li> <li><code>junos-ipsec-vpn</code> for IPsec ESP</li> <li>Add custom applications as needed</li> <li>then permit: Allow the traffic</li> <li>then log: Enable logging for session start and end</li> </ul>"},{"location":"admin/firewall-integration/juniper-srx/#set-policy-priority-important","title":"Set Policy Priority (Important)","text":"<p>Ensure this policy is evaluated before deny policies:</p> <pre><code>insert security policies from-zone untrust to-zone trust policy Allow-Vesper-Users before policy Deny-All\n</code></pre> <p>Replace <code>Deny-All</code> with your actual deny policy name.</p> <p>Policy Order is Critical</p> <p>Security policies are evaluated top-to-bottom. Place this allow policy above any deny policies.</p>"},{"location":"admin/firewall-integration/juniper-srx/#step-5-create-deny-policy-recommended","title":"Step 5: Create Deny Policy (Recommended)","text":"<p>Create an explicit deny policy for visibility:</p> <pre><code>set security policies from-zone untrust to-zone trust policy Block-Unverified-VPN match source-address any\nset security policies from-zone untrust to-zone trust policy Block-Unverified-VPN match destination-address any\nset security policies from-zone untrust to-zone trust policy Block-Unverified-VPN match application junos-ssl\nset security policies from-zone untrust to-zone trust policy Block-Unverified-VPN match application junos-ike\nset security policies from-zone untrust to-zone trust policy Block-Unverified-VPN then deny\nset security policies from-zone untrust to-zone trust policy Block-Unverified-VPN then log session-init\n</code></pre> <p>Ensure this policy is ordered after the allow policy:</p> <pre><code>insert security policies from-zone untrust to-zone trust policy Block-Unverified-VPN after policy Allow-Vesper-Users\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#step-6-commit-configuration","title":"Step 6: Commit Configuration","text":""},{"location":"admin/firewall-integration/juniper-srx/#review-configuration","title":"Review Configuration","text":"<p>Review your changes:</p> <pre><code>show | compare\n</code></pre> <p>This shows what will change when you commit.</p>"},{"location":"admin/firewall-integration/juniper-srx/#commit-changes","title":"Commit Changes","text":"<p>Commit the configuration:</p> <pre><code>commit\n</code></pre> <p>Add a comment for documentation:</p> <pre><code>commit comment \"Added Vesper Secure Dynamic IP List integration\"\n</code></pre> <p>Wait for commit to complete successfully.</p>"},{"location":"admin/firewall-integration/juniper-srx/#exit-configuration-mode","title":"Exit Configuration Mode","text":"<pre><code>exit\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/juniper-srx/#verify-dynamic-address-object","title":"Verify Dynamic Address Object","text":"<p>Check the dynamic address object status:</p> <pre><code>show security dynamic-address summary\n</code></pre> <p>Should show: - Address name: <code>Vesper-Allowed-IPs</code> - Status: Active - Number of entries</p>"},{"location":"admin/firewall-integration/juniper-srx/#view-dynamic-address-contents","title":"View Dynamic Address Contents","text":"<p>See the IPs currently in the dynamic address:</p> <pre><code>show security dynamic-address address-name Vesper-Allowed-IPs\n</code></pre> <p>This will list all IP addresses currently loaded from the Dynamic IP List.</p>"},{"location":"admin/firewall-integration/juniper-srx/#check-feed-status","title":"Check Feed Status","text":"<p>Verify the feed is updating:</p> <pre><code>show services security-intelligence url Vesper-DIPL-Profile\n</code></pre> <p>Should show: - Last update time - Update status (success/failure) - Number of entries</p>"},{"location":"admin/firewall-integration/juniper-srx/#force-manual-update","title":"Force Manual Update","text":"<p>To force an immediate update:</p> <pre><code>request services security-intelligence url Vesper-DIPL-Profile update\n</code></pre> <p>Then verify:</p> <pre><code>show services security-intelligence url Vesper-DIPL-Profile\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for SRX update interval (5-15 minutes depending on setting)  </li> <li>Force manual update using command above  </li> <li>Verify the test user's IP appears: <pre><code>show security dynamic-address address-name Vesper-Allowed-IPs | match test-user-ip\n</code></pre></li> <li>Test VPN connection from test user's location (should succeed)  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#check-security-policy-logs","title":"Check Security Policy Logs","text":"<p>View policy hits:</p> <pre><code>show security policies hit-count\n</code></pre> <p>View security logs:</p> <pre><code>show log messages | match \"Allow-Vesper-Users\"\n</code></pre> <p>Or view in J-Web: - Monitor \u2192 Logs \u2192 Security Logs</p>"},{"location":"admin/firewall-integration/juniper-srx/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/juniper-srx/#feed-download-fails","title":"Feed Download Fails","text":"<p>Symptoms: - Dynamic address object is empty - Feed status shows error - System logs show update failures</p> <p>Solutions:</p> <ol> <li> <p>Check Connectivity: <pre><code>ping list.vespersecure.com\ntraceroute list.vespersecure.com\n</code></pre></p> </li> <li> <p>Test HTTPS Connectivity: <pre><code>show system connections | match 443\n</code></pre></p> </li> <li> <p>Verify DNS Resolution: <pre><code>show host list.vespersecure.com\n</code></pre></p> </li> <li> <p>Check System Logs: <pre><code>show log messages | match security-intelligence\n</code></pre>    Look for error messages related to URL feeds</p> </li> <li> <p>Verify Credentials: </p> </li> <li>Review configuration:      <pre><code>show services security-intelligence url Vesper-DIPL-Profile\n</code></pre></li> <li> <p>Re-enter password if needed:      <pre><code>set services security-intelligence url Vesper-DIPL-Profile password new-password\ncommit\n</code></pre></p> </li> <li> <p>Test URL Manually: </p> </li> </ol> <p>From a system with internet access:    <pre><code>curl -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre></p>"},{"location":"admin/firewall-integration/juniper-srx/#authentication-errors","title":"Authentication Errors","text":"<p>Symptoms: - Feed shows 401 authentication failure - Logs indicate credential issues</p> <p>Solutions:</p> <ol> <li>Verify Credentials: </li> <li>Check username is correct</li> <li> <p>Confirm password is correct in Vesper admin panel</p> </li> <li> <p>Re-enter Credentials: <pre><code>configure\ndelete services security-intelligence url Vesper-DIPL-Profile username\ndelete services security-intelligence url Vesper-DIPL-Profile password\nset services security-intelligence url Vesper-DIPL-Profile username organizationid\nset services security-intelligence url Vesper-DIPL-Profile password new-password\ncommit\n</code></pre></p> </li> <li> <p>Test with Curl: <pre><code>curl -v -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre>    Should return 200 OK, not 401</p> </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but VPN connection fails - Logs show denies instead of permits</p> <p>Solutions:</p> <ol> <li> <p>Verify Policy Order: <pre><code>show security policies from-zone untrust to-zone trust\n</code></pre>    Ensure <code>Allow-Vesper-Users</code> appears before deny policies</p> </li> <li> <p>Reorder Policies if Needed: <pre><code>configure\ninsert security policies from-zone untrust to-zone trust policy Allow-Vesper-Users before policy Deny-All\ncommit\n</code></pre></p> </li> <li> <p>Check Dynamic Address Contents: <pre><code>show security dynamic-address address-name Vesper-Allowed-IPs\n</code></pre>    Verify user's IP is in the list</p> </li> <li> <p>Force Update: <pre><code>request services security-intelligence url Vesper-DIPL-Profile update\n</code></pre></p> </li> <li> <p>Review Policy Matches: <pre><code>show security policies hit-count\n</code></pre>    Check if allow policy is being hit</p> </li> <li> <p>Check Zones: <pre><code>show security zones\n</code></pre>    Verify interfaces are in correct zones</p> </li> <li> <p>Review Logs: <pre><code>show log messages | match \"RT_FLOW\"\n</code></pre>    Look for session creation/denial messages</p> </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#dynamic-address-object-empty","title":"Dynamic Address Object Empty","text":"<p>Symptoms: - Object shows 0 entries - No IPs loaded</p> <p>Solutions:</p> <ol> <li>Check if Users Registered: </li> <li>Verify users have registered in Vesper portal</li> <li> <p>Empty Dynamic IP List will result in empty dynamic address</p> </li> <li> <p>Force Update: <pre><code>request services security-intelligence url Vesper-DIPL-Profile update\n</code></pre></p> </li> <li> <p>Check Feed Status: <pre><code>show services security-intelligence url Vesper-DIPL-Profile\n</code></pre></p> </li> <li> <p>Test URL Manually: </p> </li> <li>Should return IP addresses if users registered</li> <li>Empty response means no users registered (this is OK)</li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/juniper-srx/#zone-specific-address-books","title":"Zone-Specific Address Books","text":"<p>Instead of global address book, use zone-specific:</p> <pre><code>set security zones security-zone untrust address-book address Vesper-Allowed-IPs-Entry dynamic-address Vesper-Allowed-IPs\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#multiple-feed-sources","title":"Multiple Feed Sources","text":"<p>If you have multiple EDLs:</p> <pre><code>set security dynamic-address address-name Vesper-Remote-Workers profile Vesper-Remote-Profile\nset security dynamic-address address-name Vesper-Contractors profile Vesper-Contractors-Profile\n</code></pre> <p>Create separate policies or combine in address-sets.</p>"},{"location":"admin/firewall-integration/juniper-srx/#high-availability-configuration","title":"High Availability Configuration","text":"<p>For SRX HA cluster:</p> <ol> <li>Configure on primary node  </li> <li>Configuration syncs to secondary via chassis cluster  </li> <li>Both nodes independently fetch feeds  </li> <li>Ensure both nodes have internet connectivity  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#ipv6-support","title":"IPv6 Support","text":"<p>To support IPv6 addresses:</p> <ol> <li>Create separate dynamic address for IPv6  </li> <li>Use IPv6-enabled feed URL if available  </li> <li>Create IPv6 security policies  </li> <li>Use <code>inet6</code> address family in policies  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#backup-static-access","title":"Backup Static Access","text":"<p>Maintain backup access for critical admins:</p> <pre><code>set security zones security-zone untrust address-book address Critical-Admin-IP 203.0.113.100/32\nset security policies from-zone untrust to-zone trust policy Allow-Critical-Admins match source-address Critical-Admin-IP\n</code></pre>"},{"location":"admin/firewall-integration/juniper-srx/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Update Interval: 900 seconds (15 minutes) for balanced approach</li> <li>Logging: Enable session-init and session-close logs</li> <li>Policy Order: Place allow policies before deny policies</li> <li>Testing: Test with pilot users before production deployment</li> </ul> <p>Monitoring</p> <ul> <li>Check <code>show security dynamic-address summary</code> regularly</li> <li>Monitor feed update status with <code>show services security-intelligence</code></li> <li>Review security logs for allowed and denied sessions</li> <li>Set up SNMP or syslog alerting for feed failures</li> </ul> <p>Optimization</p> <ul> <li>Use zone-specific address books for better organization</li> <li>Document policy names and purposes</li> <li>Schedule regular manual updates during maintenance</li> <li>Keep backup configuration files</li> </ul> <p>Important</p> <ul> <li>Protect CLI/J-Web access - configuration contains credentials</li> <li>Use strong Dynamic IP List password</li> <li>Regularly review security logs</li> <li>Test configuration changes in lab environment first</li> </ul>"},{"location":"admin/firewall-integration/juniper-srx/#j-web-gui-configuration","title":"J-Web GUI Configuration","text":"<p>For those preferring GUI configuration:</p>"},{"location":"admin/firewall-integration/juniper-srx/#create-dynamic-address-object_1","title":"Create Dynamic Address Object","text":"<ol> <li>Log in to J-Web interface  </li> <li>Go to Configure \u2192 Security \u2192 Dynamic Address </li> <li>Click Create </li> <li>Configure:  </li> <li>Address Name: <code>Vesper-Allowed-IPs</code></li> <li>Profile: <code>Vesper-DIPL-Profile</code> (create profile first)</li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#create-feed-profile","title":"Create Feed Profile","text":"<ol> <li>Go to Configure \u2192 Services \u2192 Security Intelligence </li> <li>Click Create under URL Feeds  </li> <li>Configure:  </li> <li>Profile Name: <code>Vesper-DIPL-Profile</code></li> <li>URL: <code>https://list.vespersecure.com/organizationid</code></li> <li>Username: <code>organizationid</code></li> <li>Password: Your Dynamic IP List password</li> <li>Update Interval: <code>900</code> seconds</li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#create-security-policy_1","title":"Create Security Policy","text":"<ol> <li>Go to Configure \u2192 Security \u2192 Policies </li> <li>Select appropriate zone pair  </li> <li>Click Create Policy </li> <li>Configure match conditions and permit action  </li> <li>Apply configuration  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#next-steps","title":"Next Steps","text":"<p>After Juniper SRX integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/juniper-srx/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/juniper-srx/#juniper-documentation","title":"Juniper Documentation","text":"<ul> <li>JunOS Security Configuration Guide</li> <li>Dynamic Address Objects Guide</li> <li>Security Intelligence Feeds</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/opnsense/","title":"OPNsense","text":"<p>ADMINISTRATOR GUIDE</p>  # OPNsense Integration  Configure OPNsense firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/opnsense/#overview","title":"Overview","text":"<p>OPNsense (19.1+) provides native URL Table Aliases that can fetch IP addresses from HTTP/HTTPS URLs with automatic periodic updates. This guide covers OPNsense 19.1 and later versions.</p>"},{"location":"admin/firewall-integration/opnsense/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>URL Table Alias pointing to Vesper Dynamic IP List  </li> <li>Firewall rule to allow registered IPs  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#time-required","title":"Time Required","text":"<p>15-20 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/opnsense/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] OPNsense 19.1 or later</li> <li>[ ] OPNsense web interface admin access</li> <li>[ ] Outbound HTTPS (port 443) allowed from OPNsense to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN configuration</li> </ul>"},{"location":"admin/firewall-integration/opnsense/#step-1-create-url-table-alias","title":"Step 1: Create URL Table Alias","text":""},{"location":"admin/firewall-integration/opnsense/#navigate-to-aliases","title":"Navigate to Aliases","text":"<ol> <li>Log in to OPNsense web interface  </li> <li>Go to Firewall \u2192 Aliases </li> <li>Click the + (Add) button in the lower right  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#configure-the-alias","title":"Configure the Alias","text":"<p>Configure the following settings:</p> <pre><code>Enabled: \u2713 (checked)\nName: Vesper_Allowed_IPs\nType: URL Table (IPs)\nDescription: Vesper Secure verified user IPs\nContent: https://organizationid:password@list.vespersecure.com/organizationid\nRefresh Frequency: 1 day\n</code></pre> <p>Field Details:</p> <ul> <li>Enabled: Check the box to enable the alias</li> <li>Name: Use a descriptive name without spaces (e.g., <code>Vesper_Allowed_IPs</code>)</li> <li>Type: Select \"URL Table (IPs)\" from the dropdown</li> <li>Description: Add a clear description for documentation</li> <li>Content: Your Dynamic IP List URL with embedded credentials</li> <li>Format: <code>https://username:password@list.vespersecure.com/organizationid</code></li> <li>Replace <code>username</code> with your organization ID</li> <li>Replace <code>password</code> with your Dynamic IP List password</li> <li>Refresh Frequency: </li> <li>1 day (default, updates daily at midnight)</li> <li>0.5 days (12 hours) for more frequent updates</li> <li>0.25 days (6 hours) for faster access grants</li> </ul> <p>Credentials in URL</p> <p>OPNsense requires embedding credentials in the URL for HTTP Basic Authentication. The configuration is stored securely in OPNsense's encrypted config.</p> <p>Special Characters in Password</p> <p>If your password contains special characters, URL-encode them: - <code>@</code> \u2192 <code>%40</code> - <code>#</code> \u2192 <code>%23</code> - <code>$</code> \u2192 <code>%24</code> - <code>%</code> \u2192 <code>%25</code> - <code>&amp;</code> \u2192 <code>%26</code></p>"},{"location":"admin/firewall-integration/opnsense/#save-the-alias","title":"Save the Alias","text":"<ol> <li>Click Save at the bottom  </li> <li>The alias will be created and added to the list  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#step-2-download-alias-data","title":"Step 2: Download Alias Data","text":""},{"location":"admin/firewall-integration/opnsense/#trigger-initial-download","title":"Trigger Initial Download","text":"<p>After creating the alias, trigger the first download:</p> <ol> <li>In the Firewall \u2192 Aliases page  </li> <li>Find your alias in the list  </li> <li>Look for the status indicator (may show pending)  </li> <li>Click Apply at the top of the page to apply changes  </li> </ol> <p>OPNsense will immediately attempt to download the URL content.</p>"},{"location":"admin/firewall-integration/opnsense/#verify-download","title":"Verify Download","text":"<ol> <li>Go to Firewall \u2192 Diagnostics \u2192 Aliases </li> <li>Find <code>Vesper_Allowed_IPs</code> in the list  </li> <li>Click the magnifying glass icon to view contents  </li> <li>Verify IP addresses appear (if any users have registered)  </li> </ol> <p>Empty List is OK</p> <p>If no users have registered yet, the list may be empty. This is normal and doesn't indicate an error.</p>"},{"location":"admin/firewall-integration/opnsense/#step-3-create-firewall-rule","title":"Step 3: Create Firewall Rule","text":""},{"location":"admin/firewall-integration/opnsense/#navigate-to-firewall-rules","title":"Navigate to Firewall Rules","text":"<ol> <li>Go to Firewall \u2192 Rules </li> <li>Select the WAN tab (or interface where external traffic arrives)  </li> <li>Click Add button (+ icon with up arrow) to add rule at top  </li> </ol> <p>Rule Order is Critical</p> <p>Add this rule at the top of the rule list to ensure it's evaluated before any deny rules.</p>"},{"location":"admin/firewall-integration/opnsense/#configure-allow-rule","title":"Configure Allow Rule","text":"<p>Create a rule with these settings:</p> <pre><code>Action: Pass\nInterface: WAN\nDirection: in\nTCP/IP Version: IPv4\nProtocol: TCP/UDP (or Any)\nSource: Vesper_Allowed_IPs\nDestination: WAN address (or VPN gateway)\nDestination port range: HTTPS (443), or VPN ports as needed\nDescription: Allow Vesper Secure verified users to VPN\n</code></pre> <p>Field Details:</p> <ul> <li>Action: Pass</li> <li>Interface: WAN (or your external interface)</li> <li>Direction: in (incoming traffic)</li> <li>TCP/IP Version: IPv4 (or IPv4+IPv6 if needed)</li> <li>Protocol: </li> <li>TCP/UDP for specific services</li> <li>Any for all VPN protocols (IPsec, OpenVPN, etc.)</li> <li>Source: </li> <li>Check \"Invert\" if needed: NO</li> <li>Type: Select \"Vesper_Allowed_IPs\" from the dropdown</li> <li>Destination: </li> <li>Type: WAN address (for VPN hosted on WAN IP)</li> <li>Or select specific host/alias</li> <li>Destination port range:</li> <li>From: HTTPS (443) To: HTTPS (443) for SSL VPN</li> <li>From: OpenVPN (1194) To: OpenVPN (1194) for OpenVPN</li> <li>From: ISAKMP (500) To: ISAKMP (500) for IPsec</li> <li>Or other custom ports as needed</li> <li>Description: \"Allow Vesper Secure verified users to VPN\"</li> </ul>"},{"location":"admin/firewall-integration/opnsense/#advanced-options-recommended","title":"Advanced Options (Recommended)","text":"<ol> <li>Expand the Advanced Options section  </li> <li>Set Log: Check to log packets matched by this rule  </li> <li>Leave other settings at default unless you have specific requirements  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#save-the-rule","title":"Save the Rule","text":"<ol> <li>Click Save at the bottom  </li> <li>You'll return to the rules list  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#apply-changes","title":"Apply Changes","text":"<ol> <li>Click Apply changes button at the top of the page  </li> <li>The rule is now active and will be evaluated for incoming traffic  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#step-4-create-block-rule-optional","title":"Step 4: Create Block Rule (Optional)","text":"<p>For explicit logging of denied access attempts:</p> <ol> <li>Click Add to add another rule (this time without the up arrow, so it goes to the bottom)  </li> <li>Configure: <pre><code>Action: Block\nInterface: WAN\nDirection: in\nTCP/IP Version: IPv4\nProtocol: TCP/UDP\nSource: any\nDestination: WAN address (or VPN gateway)\nDestination port: VPN ports\nDescription: Block unverified VPN access attempts\nLog: \u2713 (checked)\n</code></pre></li> <li>Click Save </li> <li>Click Apply changes </li> </ol> <p>Why This Helps:</p> <ul> <li>Explicitly logs denied access attempts</li> <li>Makes troubleshooting easier</li> <li>Provides security monitoring visibility</li> </ul>"},{"location":"admin/firewall-integration/opnsense/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/opnsense/#verify-alias-contents","title":"Verify Alias Contents","text":"<ol> <li>Go to Firewall \u2192 Diagnostics \u2192 Aliases </li> <li>Find <code>Vesper_Allowed_IPs</code> in the list  </li> <li>Click the magnifying glass icon (view contents)  </li> <li>Verify IP addresses are listed  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#check-alias-update-status","title":"Check Alias Update Status","text":"<ol> <li>In Firewall \u2192 Aliases </li> <li>Look for status indicators next to your alias  </li> <li>Green checkmark indicates successful download  </li> <li>Red X indicates download failure  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#force-manual-update","title":"Force Manual Update","text":"<p>To manually trigger an update:</p> <ol> <li>Go to Firewall \u2192 Aliases </li> <li>Click the refresh icon (circular arrow) next to the alias  </li> <li>Wait a moment for the download to complete  </li> <li>Check the diagnostics to verify new contents  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#test-url-from-opnsense-cli","title":"Test URL from OPNsense CLI","text":"<p>SSH into OPNsense or use console:</p> <pre><code>curl -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre> <p>Or with embedded credentials:</p> <pre><code>curl \"https://organizationid:password@list.vespersecure.com/organizationid\"\n</code></pre> <p>Should return list of IPs or empty response if no users registered.</p>"},{"location":"admin/firewall-integration/opnsense/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for OPNsense alias refresh (up to 24 hours for default setting)  </li> <li>Force manual refresh:  </li> <li>Go to Firewall \u2192 Aliases</li> <li>Click refresh icon next to <code>Vesper_Allowed_IPs</code></li> <li>Verify the test user's IP appears in the alias  </li> <li>Test VPN connection from test user's location (should succeed)  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#check-firewall-logs","title":"Check Firewall Logs","text":"<ol> <li>Go to Firewall \u2192 Log Files \u2192 Live View </li> <li>Look for entries matching your rule description  </li> <li>Verify connections from registered IPs show \"Pass\"  </li> <li>Check that unregistered IPs are being blocked  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/opnsense/#alias-download-fails","title":"Alias Download Fails","text":"<p>Symptoms: - Alias shows error status (red X) - Contents are empty when they shouldn't be - Logs show download errors</p> <p>Solutions:</p> <ol> <li>Verify Connectivity: </li> </ol> <p>From OPNsense shell:    <pre><code>ping list.vespersecure.com\ncurl -I https://list.vespersecure.com\n</code></pre></p> <ol> <li>Check DNS Resolution: </li> <li>Go to System \u2192 Diagnostics \u2192 DNS Lookup</li> <li>Look up <code>list.vespersecure.com</code></li> <li> <p>Verify it resolves correctly</p> </li> <li> <p>Test URL with Credentials: <pre><code>curl -v \"https://organizationid:password@list.vespersecure.com/organizationid\"\n</code></pre>    Should return 200 OK and IP list</p> </li> <li> <p>Check System Logs: </p> </li> <li>Go to System \u2192 Log Files \u2192 General</li> <li>Look for errors related to alias updates</li> <li> <p>Check for authentication failures</p> </li> <li> <p>Verify Credentials: </p> </li> <li>Double-check username is correct</li> <li>Ensure password is correct</li> <li>Check for special characters needing URL encoding</li> </ol>"},{"location":"admin/firewall-integration/opnsense/#special-characters-in-password","title":"Special Characters in Password","text":"<p>If your password contains special characters, URL-encode them:</p> Character Encoded <code>@</code> <code>%40</code> <code>#</code> <code>%23</code> <code>$</code> <code>%24</code> <code>%</code> <code>%25</code> <code>&amp;</code> <code>%26</code> <code>+</code> <code>%2B</code> <code>=</code> <code>%3D</code> <code>?</code> <code>%3F</code> <p>Example: Password <code>Pass@123#</code> becomes <code>Pass%40123%23</code></p>"},{"location":"admin/firewall-integration/opnsense/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but VPN connection still fails - Firewall logs show blocks instead of passes</p> <p>Solutions:</p> <ol> <li>Verify Rule Order: </li> <li>Go to Firewall \u2192 Rules \u2192 WAN</li> <li>Ensure Vesper allow rule has lower sequence number (higher position)</li> <li>Drag and drop to reorder if needed</li> <li> <p>Click Apply changes after reordering</p> </li> <li> <p>Check Alias Contents: </p> </li> <li>Go to Firewall \u2192 Diagnostics \u2192 Aliases</li> <li>View contents of <code>Vesper_Allowed_IPs</code></li> <li>Verify user's IP is in the list</li> <li> <p>Force refresh if needed</p> </li> <li> <p>Verify User's IP: </p> </li> <li>Have user check their current IP</li> <li>Ensure it matches what's registered</li> <li> <p>Dynamic IPs may have changed since registration</p> </li> <li> <p>Review Rule Configuration: </p> </li> <li>Check source alias is set to <code>Vesper_Allowed_IPs</code></li> <li>Verify destination and ports match your VPN</li> <li>Ensure Action is \"Pass\"</li> <li> <p>Confirm rule is enabled (not grayed out)</p> </li> <li> <p>Check Logs: </p> </li> <li>Go to Firewall \u2192 Log Files \u2192 Live View</li> <li>Find the blocked connection</li> <li>Check which rule is blocking (rule number/description)</li> <li>Adjust as needed</li> </ol>"},{"location":"admin/firewall-integration/opnsense/#authentication-errors-401","title":"Authentication Errors (401)","text":"<p>Symptoms: - Alias shows authentication failure - 401 errors in logs</p> <p>Solutions:</p> <ol> <li>Verify Credentials: </li> <li>Check username in Vesper admin panel</li> <li>Confirm password is correct</li> <li> <p>Test manually with curl</p> </li> <li> <p>Check for Typos: </p> </li> <li>Re-enter the URL in the alias configuration</li> <li>Ensure no extra spaces</li> <li> <p>Verify correct format</p> </li> <li> <p>Test from CLI: <pre><code>curl -v -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre>    Should show 200 OK, not 401</p> </li> <li> <p>Re-generate Credentials: </p> </li> <li>If problems persist, generate new credentials in Vesper</li> <li>Update the alias with new credentials</li> </ol>"},{"location":"admin/firewall-integration/opnsense/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/opnsense/#more-frequent-updates","title":"More Frequent Updates","text":"<p>For faster than daily updates, use cron:</p> <ol> <li>Go to System \u2192 Settings \u2192 Cron </li> <li>Click + to add new cron job  </li> <li>Configure: <pre><code>Enabled: \u2713\nMinutes: 0\nHours: */4 (every 4 hours)\nDays: *\nMonths: *\nWeekdays: *\nCommand: Update Alias\nParameters: Vesper_Allowed_IPs\nDescription: Update Vesper Dynamic IP List more frequently\n</code></pre></li> <li>Click Save </li> </ol> <p>This will update the alias every 4 hours instead of daily.</p>"},{"location":"admin/firewall-integration/opnsense/#high-availability-configuration","title":"High Availability Configuration","text":"<p>If using OPNsense HA (CARP):</p> <ol> <li>Configure alias and rules on the primary node  </li> <li>Configuration will sync to secondary via XMLRPC Config Sync  </li> <li>Ensure config sync is enabled: System \u2192 High Availability \u2192 Settings </li> <li>Both nodes will independently fetch the Dynamic IP List  </li> <li>Ensure both nodes have internet connectivity  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#ipv6-support","title":"IPv6 Support","text":"<p>To support IPv6 addresses:</p> <ol> <li>Create a second alias with Type \"URL Table (IPs)\"  </li> <li>Use the same URL (if Dynamic IP List returns IPv6)  </li> <li>Or configure separate IPv6 Dynamic IP List if available  </li> <li>Create firewall rules with TCP/IP Version: IPv6  </li> <li>Use the IPv6 alias in those rules  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#multiple-vpn-servers","title":"Multiple VPN Servers","text":"<p>If you have multiple VPN servers:</p> <ol> <li>Use the same alias in multiple firewall rules  </li> <li>Create separate rules for each destination  </li> <li>Maintain consistent rule ordering across rules  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#backup-static-access","title":"Backup Static Access","text":"<p>Maintain a backup method for critical admins:</p> <ol> <li>Create a standard alias (not URL-based) with static IPs  </li> <li>Create a network alias: Firewall \u2192 Aliases </li> <li>Add it as an additional source in your allow rule using \"or\" logic  </li> <li>Or create a separate rule for static backup IPs  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Refresh Frequency: 0.25-0.5 days for responsive updates</li> <li>Logging: Enable on firewall rules for audit trail</li> <li>Rule Order: Always place allow rules above deny rules</li> <li>Testing: Test with pilot users before full deployment</li> </ul> <p>Monitoring</p> <ul> <li>Regularly check Firewall \u2192 Log Files \u2192 Live View</li> <li>Monitor alias update status in Firewall \u2192 Aliases</li> <li>Review system logs for errors</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Optimization</p> <ul> <li>Use cron for more frequent updates if needed</li> <li>Document your configuration for future reference</li> <li>Schedule manual refreshes during critical periods</li> <li>Monitor OPNsense system resources</li> </ul> <p>Important</p> <ul> <li>Protect configuration backups - they contain credentials</li> <li>Use strong Dynamic IP List password</li> <li>Regularly review firewall logs for security</li> <li>Test configuration changes in non-production first</li> </ul>"},{"location":"admin/firewall-integration/opnsense/#next-steps","title":"Next Steps","text":"<p>After OPNsense integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/opnsense/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/opnsense/#opnsense-documentation","title":"OPNsense Documentation","text":"<ul> <li>OPNsense Aliases Documentation</li> <li>OPNsense Firewall Rules Guide</li> <li>OPNsense CLI Reference</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/palo-alto/","title":"Palo Alto Networks","text":"<p>ADMINISTRATOR GUIDE</p>  # Palo Alto Networks Integration  Configure Palo Alto Networks (PAN-OS) firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/palo-alto/#overview","title":"Overview","text":"<p>Palo Alto Networks firewalls have native support for External Dynamic Lists (EDL), making integration with Vesper Secure straightforward. This guide covers PAN-OS 8.0 and later versions.</p>"},{"location":"admin/firewall-integration/palo-alto/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>External Dynamic List object pointing to Vesper Dynamic IP List  </li> <li>Security policy to allow registered IPs  </li> <li>Optional deny policy for unregistered IPs  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#time-required","title":"Time Required","text":"<p>15-20 minutes for complete configuration and testing.</p>"},{"location":"admin/firewall-integration/palo-alto/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] Palo Alto firewall admin access</li> <li>[ ] Outbound HTTPS (port 443) allowed from firewall to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN gateway IP and zones</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#step-1-add-external-dynamic-list","title":"Step 1: Add External Dynamic List","text":""},{"location":"admin/firewall-integration/palo-alto/#navigate-to-external-dynamic-list-configuration","title":"Navigate to External Dynamic List Configuration","text":"<ol> <li>Log in to Palo Alto web interface  </li> <li>Go to Objects \u2192 External Dynamic Lists </li> <li>Click Add </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#configure-the-external-dynamic-list","title":"Configure the External Dynamic List","text":"<p>Configure the following settings:</p> <pre><code>Name: Vesper-Secure-Allowed-IPs\nType: IP List\nSource URL: https://list.vespersecure.com/organizationid\nCheck for updates: Hourly (or every 5 minutes)\nUsername: organizationid\nPassword: \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Use a descriptive name (e.g., <code>Vesper-Secure-Allowed-IPs</code>)</li> <li>Type: Must be \"IP List\"</li> <li>Source URL: Your unique Dynamic IP List URL from Vesper admin panel</li> <li>Check for updates: </li> <li>Every 5 minutes for fastest access grants</li> <li>Hourly for reduced firewall load</li> <li>15 minutes recommended for balanced approach</li> <li>Username: Your organization ID</li> <li>Password: Dynamic IP List password from Vesper admin panel</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#save-configuration","title":"Save Configuration","text":"<ol> <li>Click OK to save the External Dynamic List object  </li> </ol> <p>Don't Forget to Commit</p> <p>Changes won't take effect until you commit. We'll commit after testing connectivity.</p>"},{"location":"admin/firewall-integration/palo-alto/#step-2-test-external-dynamic-list-connectivity","title":"Step 2: Test External Dynamic List Connectivity","text":"<p>Before committing changes, test that the firewall can reach the External Dynamic List:</p> <ol> <li>In the External Dynamic Lists page, select your EDL object  </li> <li>Click Test Source </li> <li>Wait for the test to complete  </li> </ol> <p>Expected Results:</p> <ul> <li>\u2705 Success: Message shows \"Success\" or displays list of IPs</li> <li>\u274c Failed: See Troubleshooting below</li> </ul> <p>Empty List is OK</p> <p>If no users have registered yet, the list may be empty. A successful connection to an empty list is still a success.</p>"},{"location":"admin/firewall-integration/palo-alto/#step-3-create-security-policy","title":"Step 3: Create Security Policy","text":""},{"location":"admin/firewall-integration/palo-alto/#navigate-to-policies","title":"Navigate to Policies","text":"<ol> <li>Go to Policies \u2192 Security </li> <li>Click Add to create a new policy  </li> <li>Place the new policy above any general deny rules  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#configure-allow-policy","title":"Configure Allow Policy","text":"<p>Create a security policy with these settings:</p> <pre><code>Name: Allow-Vesper-Verified-VPN-Access\nSource Zone: untrust (or your external zone)\nSource Address: Vesper-Secure-Allowed-IPs\nDestination Zone: vpn-gateway (or your VPN zone)\nDestination Address: your-vpn-gateway-ip\nApplication: ssl, ipsec-esp, ipsec-ah\nService: application-default\nAction: Allow\nLog at Session End: Yes\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Descriptive name for the policy</li> <li>Source Zone: The zone where external traffic arrives (typically \"untrust\")</li> <li>Source Address: Select the External Dynamic List object you created</li> <li>Destination Zone: Zone containing your VPN gateway</li> <li>Destination Address: Your VPN gateway IP or object</li> <li>Application: Include VPN protocols (ssl, ipsec-esp, ipsec-ah, or as needed)</li> <li>Service: Use \"application-default\" to follow application definitions</li> <li>Action: Allow</li> <li>Log at Session End: Enable for auditing</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#policy-placement","title":"Policy Placement","text":"<p>Critical: Policy Order Matters</p> <p>This allow policy must be placed above any deny rules that would block the traffic. Review your policy order carefully.</p>"},{"location":"admin/firewall-integration/palo-alto/#step-4-create-block-policy-recommended","title":"Step 4: Create Block Policy (Recommended)","text":"<p>Add an explicit deny rule below the allow rule to block unverified IPs:</p> <pre><code>Name: Block-Unverified-VPN-Access\nSource Zone: untrust\nSource Address: any\nDestination Zone: vpn-gateway\nDestination Address: your-vpn-gateway-ip\nApplication: ssl, ipsec-esp, ipsec-ah\nService: application-default\nAction: Deny\nLog at Session Start: Yes\n</code></pre> <p>Why This Helps:</p> <ul> <li>Explicitly logs denied access attempts</li> <li>Makes it clear what traffic is being blocked</li> <li>Helps with troubleshooting and security monitoring</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#step-5-commit-changes","title":"Step 5: Commit Changes","text":"<ol> <li>Click Commit in the top-right corner  </li> <li>Review the changes to be committed  </li> <li>Add a comment (e.g., \"Added Vesper Secure integration\")  </li> <li>Click Commit to apply changes  </li> </ol> <p>Wait for the commit to complete successfully.</p>"},{"location":"admin/firewall-integration/palo-alto/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/palo-alto/#verify-external-dynamic-list-is-updating","title":"Verify External Dynamic List is Updating","text":"<ol> <li>Go to Objects \u2192 External Dynamic Lists </li> <li>Select your External Dynamic List object  </li> <li>Check the \"Last Update\" timestamp  </li> <li>Verify status shows success  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#test-with-a-user-registration","title":"Test with a User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for External Dynamic List refresh interval (5 minutes to 1 hour depending on your setting)  </li> <li>Force a manual refresh if desired:  </li> <li>Select the External Dynamic List object</li> <li>Click Test Source or wait for scheduled update</li> <li>Verify the test user's IP appears in the list  </li> <li>Test VPN connection from the test user's location  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#verify-in-traffic-logs","title":"Verify in Traffic Logs","text":"<ol> <li>Go to Monitor \u2192 Traffic </li> <li>Look for connections from registered IPs  </li> <li>Verify they're being allowed by your Vesper policy  </li> <li>Check that unregistered IPs are being denied  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/palo-alto/#external-dynamic-list-test-fails","title":"External Dynamic List Test Fails","text":"<p>Symptoms: - \"Test Source\" shows error or timeout - Status shows \"Failed\"</p> <p>Solutions:</p> <ol> <li> <p>Check Management Interface Connectivity: <pre><code>&gt; ping source &lt;mgmt-interface&gt; host list.vespersecure.com\n</code></pre></p> </li> <li> <p>Verify DNS Resolution: <pre><code>&gt; show system info | match \"DNS Server\"\n&gt; test dns-resolution list.vespersecure.com\n</code></pre></p> </li> <li> <p>Test HTTPS Connectivity: </p> </li> <li>Ensure outbound HTTPS (port 443) is allowed from management interface</li> <li> <p>Check if SSL inspection is interfering</p> </li> <li> <p>Verify Credentials: </p> </li> <li>Double-check username and password</li> <li>Ensure no extra spaces</li> <li> <p>Test manually: <code>curl -u \"user:pass\" https://list.vespersecure.com/organizationid</code></p> </li> <li> <p>Check Certificate Profile: </p> </li> <li>Go to Device \u2192 Certificate Management \u2192 Certificate Profile</li> <li>Ensure default profile allows connection to list.vespersecure.com</li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but still can't connect - Traffic logs show denies</p> <p>Solutions:</p> <ol> <li>Verify Policy Order: </li> <li>Go to Policies \u2192 Security</li> <li>Ensure Vesper allow policy is above deny rules</li> <li> <p>Rearrange if necessary and commit</p> </li> <li> <p>Check List Contents: </p> </li> <li>Test source on External Dynamic List to see current IPs</li> <li>Verify user's IP is in the list</li> <li> <p>Have user confirm their current IP matches</p> </li> <li> <p>Force Refresh: </p> </li> <li>Select External Dynamic List object</li> <li> <p>Click Test Source to force update</p> </li> <li> <p>Review Traffic Logs: </p> </li> <li>Go to Monitor \u2192 Traffic</li> <li>Find the blocked session</li> <li>Click on it to see which policy is blocking</li> <li>Adjust policies as needed</li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#authentication-errors","title":"Authentication Errors","text":"<p>Symptoms: - Shows 401 Unauthorized - Credentials rejected</p> <p>Solutions:</p> <ol> <li>Verify credentials in Vesper admin panel  </li> <li>Check for typos or extra spaces when entering  </li> <li>Re-generate credentials if needed  </li> <li>Test with curl: <code>curl -v -u \"user:pass\" URL</code> </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/palo-alto/#using-certificate-pinning","title":"Using Certificate Pinning","text":"<p>For enhanced security, you can pin the server certificate:</p> <ol> <li>Download the certificate from list.vespersecure.com  </li> <li>Import to Device \u2192 Certificate Management \u2192 Certificates </li> <li>Create a Certificate Profile referencing this certificate  </li> <li>Reference the profile in your External Dynamic List configuration  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#high-availability-configuration","title":"High Availability Configuration","text":"<p>If using HA pair:</p> <ol> <li>Configure External Dynamic List on the active firewall  </li> <li>Commit changes  </li> <li>HA sync will replicate configuration to passive firewall  </li> <li>Both firewalls will independently fetch the list  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#multiple-vpn-gateways","title":"Multiple VPN Gateways","text":"<p>If you have multiple VPN gateways:</p> <ol> <li>Use the same External Dynamic List object in multiple security policies  </li> <li>Create separate policies for each VPN gateway  </li> <li>Maintain consistent policy ordering  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>External Dynamic List Refresh: 15 minutes for balanced approach</li> <li>Logging: Enable logging on both allow and deny policies</li> <li>Policy Order: Review quarterly to ensure correct ordering</li> <li>Testing: Test with pilot users before full rollout</li> </ul> <p>Monitoring</p> <ul> <li>Set up alerts for External Dynamic List update failures</li> <li>Monitor traffic logs for unexpected denies</li> <li>Review allowed connections regularly</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Optimization</p> <ul> <li>Use policy-based forwarding if needed</li> <li>Consider security profiles on the allow policy</li> <li>Document your configuration for future reference</li> <li>Schedule regular External Dynamic List connectivity tests</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#next-steps","title":"Next Steps","text":"<p>After Palo Alto integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/palo-alto/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/palo-alto/#palo-alto-documentation","title":"Palo Alto Documentation","text":"<ul> <li>External Dynamic Lists Configuration Guide</li> <li>Security Policy Best Practices</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/firewall-integration/pfsense/","title":"pfSense","text":"<p>ADMINISTRATOR GUIDE</p>  # pfSense Integration  Configure pfSense firewalls to use Vesper Secure's Dynamic IP List for automated ACL updates."},{"location":"admin/firewall-integration/pfsense/#overview","title":"Overview","text":"<p>pfSense (2.4+) provides native URL Table Aliases that can fetch IP addresses from HTTP/HTTPS URLs. Additionally, the pfBlockerNG package offers enhanced Dynamic IP List-like functionality. This guide covers both approaches.</p>"},{"location":"admin/firewall-integration/pfsense/#what-youll-configure","title":"What You'll Configure","text":"<ol> <li>URL Table Alias pointing to Vesper Dynamic IP List  </li> <li>Firewall rule to allow registered IPs  </li> <li>Optional pfBlockerNG integration for advanced features  </li> <li>Testing and validation  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#time-required","title":"Time Required","text":"<p>15-20 minutes for basic configuration, 25-30 minutes with pfBlockerNG.</p>"},{"location":"admin/firewall-integration/pfsense/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ul> <li>[ ] Dynamic IP List URL, username, and password from Setup &amp; Configuration</li> <li>[ ] pfSense 2.4 or later</li> <li>[ ] pfSense web interface admin access</li> <li>[ ] Outbound HTTPS (port 443) allowed from pfSense to <code>list.vespersecure.com</code></li> <li>[ ] Knowledge of your VPN configuration</li> </ul>"},{"location":"admin/firewall-integration/pfsense/#method-1-native-url-table-aliases-recommended","title":"Method 1: Native URL Table Aliases (Recommended)","text":"<p>This method uses pfSense's built-in URL Table functionality without additional packages.</p>"},{"location":"admin/firewall-integration/pfsense/#step-1-create-url-table-alias","title":"Step 1: Create URL Table Alias","text":""},{"location":"admin/firewall-integration/pfsense/#navigate-to-aliases","title":"Navigate to Aliases","text":"<ol> <li>Log in to pfSense web interface  </li> <li>Go to Firewall \u2192 Aliases \u2192 IP tab  </li> <li>Click Add (+ icon)  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#configure-the-alias","title":"Configure the Alias","text":"<p>Configure the following settings:</p> <pre><code>Name: Vesper_Allowed_IPs\nDescription: Vesper Secure verified user IPs\nType: URL Table (IPs)\nRefresh Frequency: 1 day\nURL: https://organizationid:password@list.vespersecure.com/organizationid\n</code></pre> <p>Field Details:</p> <ul> <li>Name: Use a descriptive name without spaces (e.g., <code>Vesper_Allowed_IPs</code>)</li> <li>Description: Add a clear description for documentation</li> <li>Type: Select \"URL Table (IPs)\" from dropdown</li> <li>Refresh Frequency: </li> <li>1 day (default, updates daily)</li> <li>Note: pfSense URL aliases don't support frequent updates natively</li> <li>URL: Your Dynamic IP List URL with embedded credentials</li> <li>Format: <code>https://username:password@list.vespersecure.com/organizationid</code></li> <li>Replace <code>username</code> with your organization ID</li> <li>Replace <code>password</code> with your Dynamic IP List password</li> </ul> <p>Credentials in URL</p> <p>pfSense requires embedding credentials in the URL for authentication. While this is less secure than separate credential storage, the URL is stored in pfSense's encrypted configuration.</p>"},{"location":"admin/firewall-integration/pfsense/#save-the-alias","title":"Save the Alias","text":"<ol> <li>Click Save </li> <li>Click Apply Changes at the top of the page  </li> <li>pfSense will immediately attempt to fetch the URL  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#step-2-verify-alias-download","title":"Step 2: Verify Alias Download","text":""},{"location":"admin/firewall-integration/pfsense/#check-alias-status","title":"Check Alias Status","text":"<ol> <li>Go to Diagnostics \u2192 Tables </li> <li>Find your alias name (e.g., <code>Vesper_Allowed_IPs</code>)  </li> <li>Verify it shows IP addresses in the list  </li> <li>If empty and no users registered yet, this is normal  </li> </ol> <p>Manual Update</p> <p>To force an immediate update, click the refresh icon next to the alias in Firewall \u2192 Aliases.</p>"},{"location":"admin/firewall-integration/pfsense/#step-3-create-firewall-rule","title":"Step 3: Create Firewall Rule","text":""},{"location":"admin/firewall-integration/pfsense/#navigate-to-firewall-rules","title":"Navigate to Firewall Rules","text":"<ol> <li>Go to Firewall \u2192 Rules </li> <li>Select the WAN interface (or interface where external traffic arrives)  </li> <li>Click Add (\u2191 up arrow) to add rule at top  </li> </ol> <p>Rule Order Matters</p> <p>Add this rule at the top of the rule list to ensure it's evaluated before any deny rules.</p>"},{"location":"admin/firewall-integration/pfsense/#configure-allow-rule","title":"Configure Allow Rule","text":"<p>Create a rule with these settings:</p> <pre><code>Action: Pass\nInterface: WAN\nAddress Family: IPv4\nProtocol: TCP/UDP (or Any)\nSource: Single host or alias \u2192 Vesper_Allowed_IPs\nDestination: WAN address (or VPN gateway IP)\nDestination Port Range: HTTPS (443), or VPN ports as needed\nDescription: Allow Vesper Secure verified users to VPN\n</code></pre> <p>Field Details:</p> <ul> <li>Action: Pass</li> <li>Interface: WAN (or your external interface)</li> <li>Address Family: IPv4 (or IPv4+IPv6 if needed)</li> <li>Protocol: </li> <li>TCP/UDP for specific services</li> <li>Any for all VPN protocols</li> <li>Source: </li> <li>Type: Single host or alias</li> <li>Select: <code>Vesper_Allowed_IPs</code> from dropdown</li> <li>Destination: </li> <li>Type: WAN address (for VPN on WAN IP)</li> <li>Or specify specific IP/alias</li> <li>Destination Port Range:</li> <li>HTTPS (443) for SSL VPN</li> <li>OpenVPN (1194)</li> <li>IPsec (500, 4500)</li> <li>Or custom ports as needed</li> <li>Description: Add clear description</li> </ul>"},{"location":"admin/firewall-integration/pfsense/#advanced-options-recommended","title":"Advanced Options (Recommended)","text":"<ol> <li>Click Display Advanced button  </li> <li>Under Extra Options:  </li> <li>Enable Log: Check to log packets matched by this rule</li> <li>Set log description if desired</li> </ol>"},{"location":"admin/firewall-integration/pfsense/#save-the-rule","title":"Save the Rule","text":"<ol> <li>Click Save </li> <li>Click Apply Changes at the top  </li> <li>The rule is now active  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#step-4-create-block-rule-optional","title":"Step 4: Create Block Rule (Optional)","text":"<p>For explicit logging of denied access:</p> <ol> <li>Add another rule below the allow rule  </li> <li>Configure: <pre><code>Action: Block\nInterface: WAN\nProtocol: TCP/UDP\nSource: any\nDestination: WAN address (VPN gateway)\nDestination Port: VPN ports\nDescription: Block unverified VPN access attempts\nLog: Enabled\n</code></pre></li> </ol>"},{"location":"admin/firewall-integration/pfsense/#method-2-pfblockerng-advanced","title":"Method 2: pfBlockerNG (Advanced)","text":"<p>pfBlockerNG provides more frequent updates and advanced features.</p>"},{"location":"admin/firewall-integration/pfsense/#step-1-install-pfblockerng","title":"Step 1: Install pfBlockerNG","text":"<ol> <li>Go to System \u2192 Package Manager \u2192 Available Packages </li> <li>Search for pfBlockerNG </li> <li>Click Install </li> <li>Wait for installation to complete  </li> </ol> <p>pfBlockerNG vs pfBlockerNG-devel</p> <p>Either version works. pfBlockerNG-devel has newer features but may be less stable.</p>"},{"location":"admin/firewall-integration/pfsense/#step-2-configure-pfblockerng-for-vesper","title":"Step 2: Configure pfBlockerNG for Vesper","text":""},{"location":"admin/firewall-integration/pfsense/#navigate-to-pfblockerng","title":"Navigate to pfBlockerNG","text":"<ol> <li>Go to Firewall \u2192 pfBlockerNG \u2192 IP \u2192 IP Configuration </li> <li>Click Add to create new IP list  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#configure-ip-list","title":"Configure IP List","text":"<pre><code>List Name: Vesper_Secure_EDL\nDescription: Vesper Secure verified user IPs\nList Action: Permit (Whitelist)\nFormat: Auto\nUpdate Frequency: Every 4 hours (or as desired)\nURL: https://organizationid:password@list.vespersecure.com/organizationid\n</code></pre> <p>Field Details:</p> <ul> <li>List Name: <code>Vesper_Secure_EDL</code></li> <li>Description: Clear description</li> <li>List Action: Permit (or Alias Native for use in rules)</li> <li>Format: Auto (pfBlockerNG will detect format)</li> <li>Update Frequency: </li> <li>Every 4 hours for faster updates</li> <li>Every 8 hours for balanced approach</li> <li>Daily for minimal load</li> <li>URL: Dynamic IP List URL with embedded credentials (same format as Method 1)</li> </ul>"},{"location":"admin/firewall-integration/pfsense/#configure-list-settings","title":"Configure List Settings","text":"<p>Under Header/Label: - Enable: Check - Interface: Select interface to apply (e.g., WAN)</p> <p>Click Save</p>"},{"location":"admin/firewall-integration/pfsense/#step-3-enable-pfblockerng","title":"Step 3: Enable pfBlockerNG","text":"<ol> <li>Go to Firewall \u2192 pfBlockerNG \u2192 General tab  </li> <li>Enable pfBlockerNG: Check  </li> <li>Click Save </li> <li>Click Update button to force initial download  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#step-4-create-firewall-rule-with-pfblockerng","title":"Step 4: Create Firewall Rule with pfBlockerNG","text":"<p>If using \"Alias Native\" mode:</p> <ol> <li>Go to Firewall \u2192 Rules \u2192 WAN </li> <li>Create rule using the pfBlockerNG alias (similar to Method 1)  </li> <li>Source: Select the alias created by pfBlockerNG  </li> </ol> <p>pfBlockerNG will automatically create rules if using Permit/Deny actions.</p>"},{"location":"admin/firewall-integration/pfsense/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"admin/firewall-integration/pfsense/#verify-alias-contents","title":"Verify Alias Contents","text":"<p>For Method 1:</p> <ol> <li>Go to Diagnostics \u2192 Tables </li> <li>Find <code>Vesper_Allowed_IPs</code> </li> <li>Click to view contents  </li> <li>Verify IPs are listed  </li> </ol> <p>For Method 2 (pfBlockerNG):</p> <ol> <li>Go to Firewall \u2192 pfBlockerNG \u2192 Reports </li> <li>Select your list  </li> <li>View downloaded IPs  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#test-url-fetch-manually","title":"Test URL Fetch Manually","text":"<p>From pfSense CLI (SSH or console):</p> <pre><code>curl -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre> <p>Or with embedded credentials:</p> <pre><code>curl \"https://organizationid:password@list.vespersecure.com/organizationid\"\n</code></pre> <p>Should return list of IPs or empty response.</p>"},{"location":"admin/firewall-integration/pfsense/#test-with-user-registration","title":"Test with User Registration","text":"<ol> <li>Have a test user register their IP through Vesper portal  </li> <li>Wait for pfSense alias update (up to 24 hours for Method 1, faster for Method 2)  </li> <li>Force manual update:  </li> <li>Method 1: Click refresh icon next to alias</li> <li>Method 2: Click Update in pfBlockerNG</li> <li>Verify the test user's IP appears in the alias/list  </li> <li>Test VPN connection from test user's location (should succeed)  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#check-firewall-logs","title":"Check Firewall Logs","text":"<ol> <li>Go to Status \u2192 System Logs \u2192 Firewall tab  </li> <li>Look for entries matching your rule description  </li> <li>Verify connections from registered IPs are being passed  </li> <li>Check that unregistered IPs are being blocked  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/firewall-integration/pfsense/#alias-download-fails","title":"Alias Download Fails","text":"<p>Symptoms: - Alias is empty - Error in system logs</p> <p>Solutions:</p> <ol> <li> <p>Verify Connectivity: <pre><code>ping list.vespersecure.com\ncurl -I https://list.vespersecure.com\n</code></pre></p> </li> <li> <p>Check DNS Resolution: </p> </li> <li>Go to Diagnostics \u2192 DNS Lookup</li> <li>Look up <code>list.vespersecure.com</code></li> <li> <p>Verify it resolves correctly</p> </li> <li> <p>Test URL with credentials: <pre><code>curl \"https://organizationid:password@list.vespersecure.com/organizationid\"\n</code></pre></p> </li> <li> <p>Check System Logs: </p> </li> <li>Go to Status \u2192 System Logs \u2192 System tab</li> <li> <p>Look for errors related to alias updates</p> </li> <li> <p>Verify Credentials: </p> </li> <li>Ensure username and password are correct</li> <li>Check for special characters that need URL encoding</li> <li>Try re-entering credentials</li> </ol>"},{"location":"admin/firewall-integration/pfsense/#special-characters-in-password","title":"Special Characters in Password","text":"<p>If your password contains special characters, URL-encode them:</p> <ul> <li><code>@</code> \u2192 <code>%40</code></li> <li><code>#</code> \u2192 <code>%23</code></li> <li><code>$</code> \u2192 <code>%24</code></li> <li><code>%</code> \u2192 <code>%25</code></li> <li><code>&amp;</code> \u2192 <code>%26</code></li> </ul> <p>Example: If password is <code>Pass@123</code>, use <code>Pass%40123</code> in URL.</p>"},{"location":"admin/firewall-integration/pfsense/#traffic-not-being-allowed","title":"Traffic Not Being Allowed","text":"<p>Symptoms: - User registered but still can't connect - Logs show blocks</p> <p>Solutions:</p> <ol> <li>Verify Rule Order: </li> <li>Go to Firewall \u2192 Rules \u2192 WAN</li> <li>Ensure Vesper allow rule is above any deny rules</li> <li> <p>Drag to reorder if needed</p> </li> <li> <p>Check Alias Contents: </p> </li> <li>Go to Diagnostics \u2192 Tables</li> <li>Verify user's IP is in the alias</li> <li> <p>Force alias refresh if needed</p> </li> <li> <p>Verify Rule Configuration: </p> </li> <li>Check source alias is correct</li> <li>Verify destination and ports match VPN configuration</li> <li> <p>Ensure Action is \"Pass\"</p> </li> <li> <p>Review Logs: </p> </li> <li>Go to Status \u2192 System Logs \u2192 Firewall</li> <li>Find blocked connection</li> <li>Check which rule is blocking</li> </ol>"},{"location":"admin/firewall-integration/pfsense/#alias-updates-too-slow","title":"Alias Updates Too Slow","text":"<p>Symptoms: - Updates only happen daily - Need faster refresh</p> <p>Solutions:</p> <ol> <li>Use pfBlockerNG (Method 2):  </li> <li>Supports updates every 4 hours or more frequently</li> <li> <p>Better for dynamic environments</p> </li> <li> <p>Create Custom Update Script (Advanced): <pre><code>#!/bin/sh\n/etc/rc.update_url_aliases\n</code></pre></p> </li> <li>Add to cron for more frequent updates</li> <li>Go to System \u2192 Cron</li> <li> <p>Add new cron entry to run script</p> </li> <li> <p>Manual Updates:  </p> </li> <li>Refresh alias manually when needed</li> <li>Educate users to request manual refresh for urgent access</li> </ol>"},{"location":"admin/firewall-integration/pfsense/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/firewall-integration/pfsense/#automatic-alias-refresh-script","title":"Automatic Alias Refresh Script","text":"<p>Create a cron job for more frequent updates:</p> <ol> <li>Go to System \u2192 Cron </li> <li>Click Add </li> <li>Configure: <pre><code>Minute: */30 (every 30 minutes)\nHour: *\nDay: *\nMonth: *\nWeekday: *\nCommand: /etc/rc.update_url_aliases\nDescription: Update Vesper Dynamic IP List alias\n</code></pre></li> <li>Click Save </li> </ol> <p>System Load</p> <p>Frequent updates may increase system load. Monitor pfSense resource usage.</p>"},{"location":"admin/firewall-integration/pfsense/#high-availability-configuration","title":"High Availability Configuration","text":"<p>If using pfSense HA (CARP):</p> <ol> <li>Configure alias and rules on primary node  </li> <li>Configuration will sync to secondary via Config Sync  </li> <li>Both nodes will independently fetch the Dynamic IP List  </li> <li>Ensure both nodes have internet connectivity  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#ipv6-support","title":"IPv6 Support","text":"<p>To support IPv6 addresses:</p> <ol> <li>Create a second alias with type \"URL Table (IPs)\"  </li> <li>Use the same URL (if Dynamic IP List returns IPv6 addresses)  </li> <li>Or create separate IPv6 Dynamic IP List if available  </li> <li>Add to firewall rules alongside IPv4 alias  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#multiple-vpn-servers","title":"Multiple VPN Servers","text":"<p>If you have multiple VPN servers:</p> <ol> <li>Use the same alias in multiple rules  </li> <li>Create separate rules for each VPN destination  </li> <li>Maintain consistent rule ordering  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#best-practices","title":"Best Practices","text":"<p>Recommended Settings</p> <ul> <li>Update Frequency: As frequent as your environment allows</li> <li>pfBlockerNG: Use for environments needing updates more than daily</li> <li>Logging: Enable on firewall rules for auditing</li> <li>Rule Order: Always place allow rules above deny rules</li> </ul> <p>Monitoring</p> <ul> <li>Check Status \u2192 System Logs regularly</li> <li>Monitor alias update status</li> <li>Review allowed and denied connections</li> <li>Keep backup static IP list for critical admins</li> </ul> <p>Optimization</p> <ul> <li>Document your configuration</li> <li>Test with pilot users first</li> <li>Schedule manual refreshes during maintenance windows</li> <li>Consider pfBlockerNG for production environments</li> </ul> <p>Important</p> <ul> <li>Protect configuration backups - they contain credentials</li> <li>Use strong Dynamic IP List password</li> <li>Regularly review firewall logs</li> <li>Test changes in non-production first</li> </ul>"},{"location":"admin/firewall-integration/pfsense/#next-steps","title":"Next Steps","text":"<p>After pfSense integration:</p> <ol> <li>Configure User Management - Monitor user registrations  </li> <li>Test with pilot users - Validate the complete flow  </li> <li>Review best practices - Optimize your deployment  </li> </ol>"},{"location":"admin/firewall-integration/pfsense/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Firewall Integration Overview</li> <li>Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul>"},{"location":"admin/firewall-integration/pfsense/#pfsense-documentation","title":"pfSense Documentation","text":"<ul> <li>pfSense Aliases Documentation</li> <li>pfBlockerNG Documentation</li> <li>pfSense Firewall Rules Guide</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"admin/sso-integration/","title":"SSO Integration Overview","text":"<p>Single Sign-On (SSO) integration allows your organization to use existing identity provider credentials to access Vesper Secure, providing a seamless and secure authentication experience.</p>"},{"location":"admin/sso-integration/#what-is-sso-integration","title":"What is SSO Integration?","text":"<p>SSO integration enables your users to authenticate to Vesper Secure using their existing corporate identity provider credentials. Instead of managing separate passwords, users sign in once through your organization's identity provider and gain access to Vesper Secure automatically.</p>"},{"location":"admin/sso-integration/#benefits-of-sso-integration","title":"Benefits of SSO Integration","text":"<ul> <li>Enhanced Security: Leverage your organization's existing MFA and security policies</li> <li>Simplified User Management: Centrally manage user access through your identity provider</li> <li>Improved User Experience: Single sign-on reduces password fatigue</li> <li>Automated Provisioning: Users are automatically provisioned based on group membership</li> <li>Centralized Audit Trail: All authentication events are logged in your identity provider</li> <li>Reduced IT Overhead: Less password reset requests and account management</li> </ul>"},{"location":"admin/sso-integration/#supported-identity-providers","title":"Supported Identity Providers","text":"<p>Vesper Secure supports SSO integration with the following identity providers:</p>"},{"location":"admin/sso-integration/#saml-20-providers","title":"SAML 2.0 Providers","text":"<p>Microsoft Azure AD (Entra ID) SAML</p> <p>Enterprise-grade SSO using Microsoft's identity platform with SAML 2.0 protocol.</p> <ul> <li>Full support for Azure AD Premium features</li> <li>Group-based access control</li> <li>Automatic user provisioning</li> <li>Conditional access policies</li> </ul> <p>Okta SAML</p> <p>Industry-leading identity platform with robust SAML 2.0 support.</p> <ul> <li>Universal Directory integration</li> <li>Advanced group management</li> <li>Lifecycle management</li> <li>Flexible attribute mapping</li> </ul>"},{"location":"admin/sso-integration/#oauthoidc-providers-coming-soon","title":"OAuth/OIDC Providers (Coming Soon)","text":"<ul> <li>Google Workspace OAuth</li> <li>Generic OAuth 2.0/OIDC</li> </ul> <p>Need a Different Provider?</p> <p>If your organization uses a different identity provider that supports SAML 2.0, it may still be compatible. Contact Vesper Secure support for assistance with configuration.</p>"},{"location":"admin/sso-integration/#general-prerequisites","title":"General Prerequisites","text":"<p>Before configuring SSO integration with any provider, ensure you have:</p> <ul> <li>Administrative Access: Admin rights in both your identity provider and Vesper Secure</li> <li>Identity Provider Subscription: Active subscription with your chosen identity provider (Azure AD Premium, Okta, etc.)</li> <li>User Information: List of users and groups that need access to Vesper Secure</li> <li>Network Access: Ability to configure SAML endpoints and metadata URLs</li> <li>Certificate Management: Understanding of certificate lifecycle management for SAML</li> </ul>"},{"location":"admin/sso-integration/#how-sso-works-with-vesper-secure","title":"How SSO Works with Vesper Secure","text":"<ol> <li>User Initiates Login: User navigates to Vesper Secure and clicks \"Sign in with SSO\"  </li> <li>SAML Request: Vesper Secure sends a SAML authentication request to your identity provider  </li> <li>User Authenticates: User logs in with their corporate credentials (with MFA if configured)  </li> <li>SAML Response: Identity provider sends a SAML response with user attributes back to Vesper Secure  </li> <li>Access Granted: Vesper Secure validates the response and grants access based on group membership  </li> </ol> <p>Test with a Pilot Group</p> <p>We recommend testing SSO configuration with a small pilot group before rolling out to your entire organization.</p>"},{"location":"admin/sso-integration/#setup-guides","title":"Setup Guides","text":"<p>Choose your identity provider to get started:</p>"},{"location":"admin/sso-integration/#microsoft-azure-ad-entra-id","title":"Microsoft Azure AD (Entra ID)","text":"<p>Set Up Azure AD SAML SSO \u2192</p> <p>Complete guide for configuring SAML-based SSO with Microsoft Azure Active Directory (Entra ID).</p> <p>Estimated time: 20-30 minutes</p>"},{"location":"admin/sso-integration/#okta","title":"Okta","text":"<p>Set Up Okta SAML SSO \u2192</p> <p>Complete guide for configuring SAML-based SSO with Okta.</p> <p>Estimated time: 15-25 minutes</p>"},{"location":"admin/sso-integration/#common-configuration-steps","title":"Common Configuration Steps","text":"<p>While each identity provider has specific configuration requirements, the general process includes:</p> <ol> <li>Create Application: Register Vesper Secure as an application in your identity provider  </li> <li>Configure SAML Settings: Set up Entity ID, Reply URL, and Sign-on URL  </li> <li>Map Attributes: Configure user attribute mapping (email, name, groups)  </li> <li>Configure Certificates: Upload or generate SAML signing certificates  </li> <li>Assign Users/Groups: Grant access to specific users or groups  </li> <li>Configure Vesper Secure: Enter identity provider metadata in Vesper Secure admin panel  </li> <li>Test Connection: Verify SSO authentication works correctly  </li> <li>Roll Out: Deploy to your organization  </li> </ol>"},{"location":"admin/sso-integration/#security-considerations","title":"Security Considerations","text":"<p>Important Security Notes</p> <ul> <li>Certificate Expiration: SAML certificates expire. Set up monitoring and renewal processes.</li> <li>Secure Metadata: Protect your identity provider metadata XML files. They contain sensitive configuration.</li> <li>User Attribute Validation: Ensure NameID and email attributes are properly mapped and cannot be spoofed.</li> <li>Group Membership: Use group-based access control to limit who can authenticate.</li> <li>MFA Enforcement: Enable multi-factor authentication in your identity provider for enhanced security.</li> </ul>"},{"location":"admin/sso-integration/#best-practices","title":"Best Practices","text":"<ul> <li>Start Small: Test with a pilot group before full deployment</li> <li>Use Groups: Leverage group-based access control for easier management</li> <li>Document Configuration: Keep records of your SAML settings and attribute mappings</li> <li>Monitor Access: Regularly review who has access through SSO</li> <li>Rotate Certificates: Plan for certificate renewal before expiration</li> <li>Enable MFA: Require multi-factor authentication in your identity provider</li> <li>Test Regularly: Periodically verify SSO authentication is working correctly</li> </ul>"},{"location":"admin/sso-integration/#troubleshooting","title":"Troubleshooting","text":"<p>For provider-specific troubleshooting, see the individual setup guides:</p> <ul> <li>Azure AD SAML Troubleshooting</li> <li>Okta SAML Troubleshooting</li> </ul>"},{"location":"admin/sso-integration/#common-issues-across-all-providers","title":"Common Issues Across All Providers","text":"<p>Authentication fails with \"Invalid SAML Response\"</p> <ul> <li>Verify that certificates haven't expired</li> <li>Check that the Entity ID and Reply URL match exactly</li> <li>Ensure clock sync between identity provider and Vesper Secure</li> </ul> <p>Users can't access after successful authentication</p> <ul> <li>Verify user group membership in your identity provider</li> <li>Check that group claims are being sent in SAML response</li> <li>Ensure users are assigned to the application in your identity provider</li> </ul> <p>Certificate expiration warnings</p> <ul> <li>Renew certificates before they expire (typically 1-3 years)</li> <li>Update the certificate in both identity provider and Vesper Secure</li> <li>Test after updating to ensure SSO still works</li> </ul>"},{"location":"admin/sso-integration/#next-steps","title":"Next Steps","text":"<p>After configuring SSO integration:</p> <ol> <li>Set up Firewall Integration - Connect the Dynamic IP List to your firewall  </li> <li>Configure User Management - Monitor and manage user access  </li> <li>Review Best Practices - Ensure your deployment follows security best practices  </li> </ol>"},{"location":"admin/sso-integration/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to Administrator Guide</li> <li>Setup &amp; Configuration</li> <li>Troubleshooting Guide</li> <li>Best Practices</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/sso-integration/azure-saml/","title":"Set Up Azure AD (Entra ID) SAML SSO","text":"<p>Configure SAML-based Single Sign-On with Microsoft Azure Active Directory (Entra ID) to enable secure authentication for Vesper Secure users.</p>"},{"location":"admin/sso-integration/azure-saml/#overview","title":"Overview","text":"<p>This guide walks you through configuring SAML 2.0 SSO between Microsoft Azure Active Directory (now called Microsoft Entra ID) and Vesper Secure. After completion, your users will authenticate using their Azure AD credentials with support for MFA and conditional access policies.</p> <p>Estimated time to complete: 20-30 minutes</p>"},{"location":"admin/sso-integration/azure-saml/#what-youll-configure","title":"What You'll Configure","text":"<ul> <li>Enterprise Application in Azure Portal</li> <li>SAML single sign-on settings</li> <li>User attribute claims mapping</li> <li>Group claims for access control</li> <li>User and group assignments</li> <li>Vesper Secure SSO integration</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Azure AD Administrator Access: Global Administrator or Application Administrator role</li> <li>Azure AD Premium License: Required for group claims and advanced features (P1 or P2)</li> <li>Vesper Secure Admin Access: Administrator access to Vesper Secure admin panel</li> <li>User Groups Configured: Azure AD groups created for users who need Vesper Secure access</li> <li>Two Browser Windows: One for Azure Portal and one for Vesper Secure admin panel</li> </ul> <p>Required Azure Permissions</p> <p>You must have one of the following roles in Azure AD: - Global Administrator - Application Administrator - Cloud Application Administrator</p>"},{"location":"admin/sso-integration/azure-saml/#step-1-create-an-enterprise-application-in-azure","title":"Step 1: Create an Enterprise Application in Azure","text":""},{"location":"admin/sso-integration/azure-saml/#11-access-azure-portal","title":"1.1 Access Azure Portal","text":"<ol> <li>Sign in to the Azure Portal </li> <li>Navigate to Azure Active Directory (or Microsoft Entra ID)  </li> <li>Select Enterprise applications from the left navigation menu  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#12-create-new-application","title":"1.2 Create New Application","text":"<ol> <li>Click + New application at the top of the Enterprise applications page  </li> <li>Click + Create your own application </li> <li>Enter the application name: <code>Vesper Secure</code> </li> <li>Select Integrate any other application you don't find in the gallery (Non-gallery) </li> <li>Click Create </li> </ol> <p>Application Name</p> <p>Use a descriptive name like \"Vesper Secure\" or \"Vesper Secure SSO\" so users can easily identify it in their app portal.</p>"},{"location":"admin/sso-integration/azure-saml/#13-note-application-details","title":"1.3 Note Application Details","text":"<p>Once created, you'll be redirected to the application overview page. Keep this page open - you'll need information from it later.</p>"},{"location":"admin/sso-integration/azure-saml/#step-2-configure-saml-single-sign-on","title":"Step 2: Configure SAML Single Sign-On","text":""},{"location":"admin/sso-integration/azure-saml/#21-start-saml-configuration","title":"2.1 Start SAML Configuration","text":"<ol> <li>In your Vesper Secure enterprise application, click Single sign-on from the left menu  </li> <li>Select SAML as the single sign-on method  </li> <li>You'll see the SAML-based Sign-on configuration page with 5 sections  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#22-configure-basic-saml-configuration","title":"2.2 Configure Basic SAML Configuration","text":"<p>Click Edit in the Basic SAML Configuration section and enter the following values:</p> Field Value Description Identifier (Entity ID) <code>https://app.vespersecure.com/auth/saml/azure</code> Unique identifier for Vesper Secure Reply URL (Assertion Consumer Service URL) <code>https://app.vespersecure.com/auth/saml/azure/callback</code> Where Azure sends SAML responses Sign on URL <code>https://app.vespersecure.com</code> Vesper Secure login page Relay State Leave empty Optional, not required for Vesper Secure Logout URL <code>https://app.vespersecure.com/auth/logout</code> Single logout endpoint <p>Exact URLs Required</p> <p>These URLs must match exactly, including the protocol (<code>https://</code>) and trailing paths. Any mismatch will cause authentication to fail.</p> <p>Click Save at the top of the Basic SAML Configuration section.</p>"},{"location":"admin/sso-integration/azure-saml/#step-3-configure-user-attributes-and-claims","title":"Step 3: Configure User Attributes and Claims","text":""},{"location":"admin/sso-integration/azure-saml/#31-edit-attributes-claims","title":"3.1 Edit Attributes &amp; Claims","text":"<p>In the Attributes &amp; Claims section, click Edit to configure the user attribute mappings.</p>"},{"location":"admin/sso-integration/azure-saml/#32-configure-nameid-required","title":"3.2 Configure NameID (Required)","text":"<p>The Unique User Identifier (NameID) is automatically configured, but verify it's set correctly:</p> <ol> <li>Click on Unique User Identifier (Name ID) </li> <li>Ensure the following settings:  </li> <li>Name identifier format: Email address</li> <li>Source: Attribute</li> <li>Source attribute: <code>user.mail</code></li> <li>Click Save </li> </ol> <p>Why Email as NameID?</p> <p>Vesper Secure uses the email address as the primary user identifier. This must match the user's email in the Vesper Secure system.</p>"},{"location":"admin/sso-integration/azure-saml/#33-add-required-claims","title":"3.3 Add Required Claims","text":"<p>Vesper Secure requires the following additional claims. Add each one by clicking + Add new claim:</p>"},{"location":"admin/sso-integration/azure-saml/#email-claim","title":"Email Claim","text":"<ul> <li>Name: <code>email</code></li> <li>Namespace: Leave empty</li> <li>Source: Attribute</li> <li>Source attribute: <code>user.mail</code></li> </ul>"},{"location":"admin/sso-integration/azure-saml/#first-name-claim","title":"First Name Claim","text":"<ul> <li>Name: <code>firstName</code></li> <li>Namespace: Leave empty</li> <li>Source: Attribute</li> <li>Source attribute: <code>user.givenname</code></li> </ul>"},{"location":"admin/sso-integration/azure-saml/#last-name-claim","title":"Last Name Claim","text":"<ul> <li>Name: <code>lastName</code></li> <li>Namespace: Leave empty</li> <li>Source: Attribute</li> <li>Source attribute: <code>user.surname</code></li> </ul> <p>Attribute Mapping</p> <p>If your Azure AD uses custom attributes or extensions, adjust the source attributes accordingly. The claim names (email, firstName, lastName) must remain as specified.</p>"},{"location":"admin/sso-integration/azure-saml/#34-configure-group-claims-recommended","title":"3.4 Configure Group Claims (Recommended)","text":"<p>To enable group-based access control in Vesper Secure:</p> <ol> <li>Click + Add a group claim </li> <li>Select Groups assigned to the application (recommended) or Security groups </li> <li>In Source attribute, select Group ID </li> <li>Check Customize the name of the group claim </li> <li>Set Name: <code>groups</code> </li> <li>Leave Namespace empty  </li> <li>Click Save </li> </ol> <p>Azure AD Premium Required</p> <p>Group claims require Azure AD Premium P1 or P2. If you don't have Premium, you can skip this step, but you'll need to manually manage user access in Vesper Secure.</p>"},{"location":"admin/sso-integration/azure-saml/#step-4-download-saml-signing-certificate","title":"Step 4: Download SAML Signing Certificate","text":""},{"location":"admin/sso-integration/azure-saml/#41-download-certificate","title":"4.1 Download Certificate","text":"<p>In the SAML Signing Certificate section:</p> <ol> <li>Locate Federation Metadata XML </li> <li>Click Download next to it  </li> <li>Save the XML file to your computer - you'll upload this to Vesper Secure later  </li> </ol> <p>Certificate Expiration</p> <p>The SAML signing certificate typically expires after 3 years. Azure will notify you before expiration, but it's good practice to set a reminder.</p>"},{"location":"admin/sso-integration/azure-saml/#42-note-certificate-details","title":"4.2 Note Certificate Details","text":"<p>Optionally, note the certificate thumbprint and expiration date for your records:</p> <ul> <li>Thumbprint: Displayed in the Certificate section</li> <li>Expiration Date: Shown next to the certificate</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#step-5-note-azure-ad-configuration-urls","title":"Step 5: Note Azure AD Configuration URLs","text":"<p>In the Set up Vesper Secure section, you'll see several URLs. These are included in the Federation Metadata XML you downloaded, but you can note them for reference:</p> <ul> <li>Login URL: <code>https://login.microsoftonline.com/&lt;tenant-id&gt;/saml2</code></li> <li>Azure AD Identifier: <code>https://sts.windows.net/&lt;tenant-id&gt;/</code></li> <li>Logout URL: <code>https://login.microsoftonline.com/&lt;tenant-id&gt;/saml2</code></li> </ul> <p>You don't need to manually copy these if you're using the Federation Metadata XML file.</p>"},{"location":"admin/sso-integration/azure-saml/#step-6-assign-users-and-groups","title":"Step 6: Assign Users and Groups","text":""},{"location":"admin/sso-integration/azure-saml/#61-access-user-assignment","title":"6.1 Access User Assignment","text":"<ol> <li>In your enterprise application, click Users and groups from the left menu  </li> <li>Click + Add user/group </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#62-add-groups-recommended-approach","title":"6.2 Add Groups (Recommended Approach)","text":"<p>For easier management, assign Azure AD groups:</p> <ol> <li>Click None Selected under Users and groups  </li> <li>Search for and select your Azure AD group(s) (e.g., \"VesperSecure-Users\")  </li> <li>Click Select </li> <li>Click Assign </li> </ol> <p>Best Practice: Use Groups</p> <p>Create a dedicated Azure AD security group (e.g., \"VesperSecure-Users\") and assign that group to the application. This makes it easier to manage access - simply add/remove users from the group.</p>"},{"location":"admin/sso-integration/azure-saml/#63-add-individual-users-alternative","title":"6.3 Add Individual Users (Alternative)","text":"<p>If you prefer to assign individual users:</p> <ol> <li>Click None Selected under Users and groups  </li> <li>Search for and select individual users  </li> <li>Click Select </li> <li>Click Assign </li> </ol> <p>User Assignment Required</p> <p>Users must be assigned to the application to authenticate via SSO. Unassigned users will receive an error when attempting to sign in.</p>"},{"location":"admin/sso-integration/azure-saml/#step-7-configure-vesper-secure","title":"Step 7: Configure Vesper Secure","text":""},{"location":"admin/sso-integration/azure-saml/#71-access-vesper-secure-admin-panel","title":"7.1 Access Vesper Secure Admin Panel","text":"<ol> <li>Open a new browser tab and navigate to https://app.vespersecure.com </li> <li>Sign in with your Vesper Secure administrator credentials  </li> <li>Navigate to Settings \u2192 Authentication \u2192 SSO Configuration </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#72-configure-azure-ad-saml","title":"7.2 Configure Azure AD SAML","text":"<ol> <li>Click + Add SSO Provider or Configure Azure AD SAML </li> <li>Fill in the configuration form:  </li> </ol> Field Value Provider Name Azure AD Identity Provider Microsoft Azure AD (Entra ID) Entity ID <code>https://app.vespersecure.com/auth/saml/azure</code> Single Sign-On URL <code>https://app.vespersecure.com/auth/saml/azure/callback</code>"},{"location":"admin/sso-integration/azure-saml/#73-upload-federation-metadata","title":"7.3 Upload Federation Metadata","text":"<ol> <li>Click Upload Metadata XML or Choose File </li> <li>Select the Federation Metadata XML file you downloaded from Azure in Step 4  </li> <li>The following fields should auto-populate from the metadata:  </li> <li>Identity Provider Issuer URL</li> <li>Identity Provider SSO URL</li> <li>Identity Provider Certificate</li> </ol>"},{"location":"admin/sso-integration/azure-saml/#74-configure-attribute-mapping","title":"7.4 Configure Attribute Mapping","text":"<p>Verify the attribute mapping matches your Azure AD configuration:</p> Vesper Secure Field SAML Attribute User ID NameID or <code>email</code> Email <code>email</code> First Name <code>firstName</code> Last Name <code>lastName</code> Groups <code>groups</code>"},{"location":"admin/sso-integration/azure-saml/#75-save-configuration","title":"7.5 Save Configuration","text":"<ol> <li>Review all settings carefully  </li> <li>Click Test Connection (if available) to verify the configuration  </li> <li>Click Save to enable Azure AD SSO  </li> </ol> <p>Configuration Complete</p> <p>Azure AD SAML SSO is now configured. Proceed to testing to verify everything works correctly.</p>"},{"location":"admin/sso-integration/azure-saml/#step-8-test-sso-connection","title":"Step 8: Test SSO Connection","text":""},{"location":"admin/sso-integration/azure-saml/#81-test-from-azure-portal-recommended","title":"8.1 Test from Azure Portal (Recommended)","text":"<ol> <li>Return to the Azure Portal  </li> <li>Go to your Vesper Secure enterprise application  </li> <li>Click Single sign-on from the left menu  </li> <li>Scroll to the bottom of the page  </li> <li>Click Test in the Test single sign-on with Vesper Secure section  </li> <li>Choose Test sign in or Test as current user </li> <li>You should be redirected to Vesper Secure and automatically signed in  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#82-test-from-vesper-secure-login-page","title":"8.2 Test from Vesper Secure Login Page","text":"<ol> <li>Open a new incognito/private browser window  </li> <li>Navigate to https://app.vespersecure.com </li> <li>Click Sign in with Azure AD or SSO Sign In </li> <li>You should be redirected to Azure AD login  </li> <li>Enter your Azure AD credentials (you may be prompted for MFA)  </li> <li>Upon successful authentication, you should be redirected back to Vesper Secure and logged in  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#83-verify-user-profile","title":"8.3 Verify User Profile","text":"<p>After successful login:</p> <ol> <li>Check your user profile in Vesper Secure  </li> <li>Verify that your email, first name, and last name are populated correctly  </li> <li>If using group claims, verify your group memberships appear correctly  </li> </ol> <p>Testing Tips</p> <ul> <li>Use an incognito/private browser window to avoid cached sessions</li> <li>Test with both administrator and regular user accounts</li> <li>Verify that users NOT assigned to the application cannot sign in</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#step-9-enable-for-all-users","title":"Step 9: Enable for All Users","text":"<p>Once testing is successful:</p>"},{"location":"admin/sso-integration/azure-saml/#91-communicate-to-users","title":"9.1 Communicate to Users","text":"<p>Before rolling out, inform your users:</p> <ul> <li>SSO is now available for Vesper Secure</li> <li>They should use \"Sign in with Azure AD\" on the login page</li> <li>Their Azure AD credentials (including MFA) will be required</li> <li>Any existing Vesper Secure passwords will no longer work (if migrating)</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#92-roll-out-in-phases","title":"9.2 Roll Out in Phases","text":"<p>Consider a phased rollout:</p> <ol> <li>Phase 1: Pilot group (already tested)  </li> <li>Phase 2: Department or team  </li> <li>Phase 3: Entire organization  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#93-monitor-initial-logins","title":"9.3 Monitor Initial Logins","text":"<p>After rollout:</p> <ul> <li>Monitor authentication logs in Azure AD</li> <li>Check for any failed login attempts</li> <li>Address any user issues promptly</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/sso-integration/azure-saml/#issue-aadsts50011-the-reply-url-specified-in-the-request-does-not-match","title":"Issue: \"AADSTS50011: The reply URL specified in the request does not match\"","text":"<p>Cause: The Reply URL in Azure doesn't match what Vesper Secure is sending.</p> <p>Solution: 1. Verify the Reply URL in Azure is exactly: <code>https://app.vespersecure.com/auth/saml/azure/callback</code> 2. Check for trailing slashes or typos 3. Ensure the URL uses <code>https://</code> not <code>http://</code> </p>"},{"location":"admin/sso-integration/azure-saml/#issue-aadsts50105-the-signed-in-user-is-not-assigned-to-a-role-for-the-application","title":"Issue: \"AADSTS50105: The signed in user is not assigned to a role for the application\"","text":"<p>Cause: The user attempting to sign in is not assigned to the Vesper Secure application.</p> <p>Solution: 1. Go to the enterprise application in Azure 2. Click Users and groups 3. Add the user or a group containing the user 4. Wait a few minutes for assignment to propagate  </p>"},{"location":"admin/sso-integration/azure-saml/#issue-user-profile-missing-first-name-or-last-name-in-vesper-secure","title":"Issue: User profile missing first name or last name in Vesper Secure","text":"<p>Cause: Attribute claims are not configured correctly or the user's Azure AD profile is incomplete.</p> <p>Solution: 1. Verify the user has <code>givenname</code> and <code>surname</code> populated in Azure AD 2. Check the Attributes &amp; Claims configuration in the enterprise application 3. Ensure <code>firstName</code> and <code>lastName</code> claims are mapped correctly 4. Have the user sign out and sign in again  </p>"},{"location":"admin/sso-integration/azure-saml/#issue-group-membership-not-appearing-in-vesper-secure","title":"Issue: Group membership not appearing in Vesper Secure","text":"<p>Cause: Group claims are not configured or the user is not a member of any assigned groups.</p> <p>Solution: 1. Verify you have Azure AD Premium (required for group claims) 2. Check that group claim is configured in Attributes &amp; Claims 3. Verify the user is a member of groups assigned to the application 4. Ensure the group claim name is <code>groups</code> (lowercase)  </p>"},{"location":"admin/sso-integration/azure-saml/#issue-invalid-saml-response-error","title":"Issue: \"Invalid SAML response\" error","text":"<p>Cause: Certificate mismatch, expired certificate, or clock skew.</p> <p>Solution: 1. Check that the certificate hasn't expired in Azure 2. Re-download and re-upload the Federation Metadata XML to Vesper Secure 3. Verify system clocks are synchronized (use NTP) 4. Check Vesper Secure logs for detailed error messages  </p>"},{"location":"admin/sso-integration/azure-saml/#issue-certificate-expiration-warning","title":"Issue: Certificate expiration warning","text":"<p>Cause: The SAML signing certificate is approaching expiration.</p> <p>Solution: 1. In Azure, go to the enterprise application \u2192 Single sign-on 2. In the SAML Signing Certificate section, create a new certificate 3. Download the new Federation Metadata XML 4. Upload it to Vesper Secure before the old certificate expires 5. Test SSO with the new certificate  </p>"},{"location":"admin/sso-integration/azure-saml/#issue-users-redirected-to-login-repeatedly","title":"Issue: Users redirected to login repeatedly","text":"<p>Cause: Session cookie issues or redirect loop.</p> <p>Solution: 1. Clear browser cookies and cache 2. Try in an incognito/private window 3. Check that the Sign on URL in Azure matches Vesper Secure's login page 4. Verify the RelayState parameter is empty or correctly configured  </p>"},{"location":"admin/sso-integration/azure-saml/#best-practices","title":"Best Practices","text":""},{"location":"admin/sso-integration/azure-saml/#security","title":"Security","text":"<ul> <li>Enable MFA: Require multi-factor authentication in Azure AD Conditional Access policies for Vesper Secure access</li> <li>Use Conditional Access: Configure location-based or device-based access policies</li> <li>Monitor Sign-ins: Regularly review Azure AD sign-in logs for suspicious activity</li> <li>Rotate Certificates: Set up monitoring for certificate expiration and renew before expiry</li> <li>Least Privilege: Only assign necessary users/groups to the application</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#management","title":"Management","text":"<ul> <li>Use Security Groups: Assign groups rather than individual users for easier management</li> <li>Document Configuration: Keep records of your Entity ID, Reply URL, and attribute mappings</li> <li>Test Regularly: Periodically test SSO authentication to ensure it's working</li> <li>Plan for Certificate Renewal: Set calendar reminders for certificate expiration (typically 3 years)</li> <li>Backup Metadata: Keep a copy of the Federation Metadata XML file in a secure location</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#user-experience","title":"User Experience","text":"<ul> <li>Clear Communication: Inform users about SSO before deployment</li> <li>Provide Documentation: Create internal documentation or training materials for users</li> <li>Test with Real Users: Have pilot users test before full rollout</li> <li>Support Plan: Ensure your helpdesk knows how to troubleshoot SSO issues</li> </ul>"},{"location":"admin/sso-integration/azure-saml/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/sso-integration/azure-saml/#conditional-access-policies","title":"Conditional Access Policies","text":"<p>You can require additional conditions for Vesper Secure access:</p> <ol> <li>In Azure AD, go to Security \u2192 Conditional Access </li> <li>Create a new policy targeting the Vesper Secure application  </li> <li>Configure conditions such as:  </li> <li>Require MFA</li> <li>Require compliant or domain-joined device</li> <li>Block access from specific countries</li> <li>Require approved client apps</li> </ol>"},{"location":"admin/sso-integration/azure-saml/#custom-attributes","title":"Custom Attributes","text":"<p>If you need to pass custom attributes to Vesper Secure:</p> <ol> <li>Extend your Azure AD schema with custom attributes (if needed)  </li> <li>Add custom claims in the Attributes &amp; Claims section  </li> <li>Coordinate with Vesper Secure support for custom attribute mapping  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#multiple-environments","title":"Multiple Environments","text":"<p>If you have separate Vesper Secure environments (dev, staging, production):</p> <ol> <li>Create separate enterprise applications for each environment  </li> <li>Use unique Entity IDs for each (e.g., <code>https://dev.vespersecure.com/auth/saml/azure</code>)  </li> <li>Assign different user groups to each environment  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#certificate-lifecycle-management","title":"Certificate Lifecycle Management","text":""},{"location":"admin/sso-integration/azure-saml/#monitor-certificate-expiration","title":"Monitor Certificate Expiration","text":"<p>The SAML signing certificate typically expires after 3 years. Azure will send notifications, but you should also:</p> <ol> <li>Set a calendar reminder for 90 days before expiration  </li> <li>Monitor the certificate expiration date in the Azure Portal  </li> <li>Plan for certificate renewal during a maintenance window  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#renew-certificate","title":"Renew Certificate","text":"<p>When the certificate is nearing expiration:</p> <ol> <li>In the enterprise application, go to Single sign-on </li> <li>In SAML Signing Certificate, click + New Certificate </li> <li>Download the new Federation Metadata XML with the new certificate  </li> <li>Upload it to Vesper Secure (both old and new certificates can coexist briefly)  </li> <li>After confirming the new certificate works, remove the old one from Vesper Secure  </li> <li>In Azure, set the new certificate as active  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#next-steps","title":"Next Steps","text":"<p>After successfully configuring Azure AD SAML SSO:</p> <ol> <li>Set up Firewall Integration - Connect the Dynamic IP List to your firewall  </li> <li>Configure User Management - Monitor and manage user access  </li> <li>Configure Conditional Access - Add additional security policies in Azure AD  </li> <li>Review Audit Logs - Regularly check Azure AD sign-in logs  </li> </ol>"},{"location":"admin/sso-integration/azure-saml/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to SSO Integration Overview</li> <li>Back to Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Microsoft Entra ID Documentation</li> <li>Azure AD SAML Protocol</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"admin/sso-integration/okta-saml/","title":"Set Up Okta SAML SSO","text":"<p>Configure SAML-based Single Sign-On with Okta to enable secure authentication for Vesper Secure users.</p>"},{"location":"admin/sso-integration/okta-saml/#overview","title":"Overview","text":"<p>This guide walks you through configuring SAML 2.0 SSO between Okta and Vesper Secure. After completion, your users will authenticate using their Okta credentials with support for MFA and adaptive authentication policies.</p> <p>Estimated time to complete: 15-25 minutes</p>"},{"location":"admin/sso-integration/okta-saml/#what-youll-configure","title":"What You'll Configure","text":"<ul> <li>SAML 2.0 application in Okta Admin Console</li> <li>SAML single sign-on settings</li> <li>User attribute statements</li> <li>Group attribute statements for access control</li> <li>User and group assignments</li> <li>Vesper Secure SSO integration</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Okta Administrator Access: Super Admin or Application Administrator role in Okta</li> <li>Okta Subscription: Active Okta subscription (Workforce Identity, Customer Identity, or trial)</li> <li>Vesper Secure Admin Access: Administrator access to Vesper Secure admin panel</li> <li>User Groups Configured: Okta groups created for users who need Vesper Secure access</li> <li>Two Browser Windows: One for Okta Admin Console and one for Vesper Secure admin panel</li> </ul> <p>Required Okta Permissions</p> <p>You must have one of the following roles in Okta: - Super Administrator - Application Administrator - Organization Administrator</p>"},{"location":"admin/sso-integration/okta-saml/#step-1-create-a-saml-application-in-okta","title":"Step 1: Create a SAML Application in Okta","text":""},{"location":"admin/sso-integration/okta-saml/#11-access-okta-admin-console","title":"1.1 Access Okta Admin Console","text":"<ol> <li>Sign in to your Okta Admin Console </li> <li>From the left navigation, go to Applications \u2192 Applications </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#12-create-new-saml-application","title":"1.2 Create New SAML Application","text":"<ol> <li>Click Create App Integration </li> <li>Select SAML 2.0 as the sign-in method  </li> <li>Click Next </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#13-configure-general-settings","title":"1.3 Configure General Settings","text":"<p>On the General Settings page:</p> <ol> <li>App name: Enter <code>Vesper Secure</code> </li> <li>App logo (optional): Upload a logo if desired  </li> <li>App visibility:  </li> <li>Check Do not display application icon to users if you don't want it in the Okta End-User Dashboard</li> <li>Or leave unchecked to show it to users</li> <li>Click Next </li> </ol> <p>Application Name</p> <p>Use a clear name like \"Vesper Secure\" so users can easily identify the application in their Okta dashboard.</p>"},{"location":"admin/sso-integration/okta-saml/#step-2-configure-saml-settings","title":"Step 2: Configure SAML Settings","text":""},{"location":"admin/sso-integration/okta-saml/#21-configure-saml-general-settings","title":"2.1 Configure SAML General Settings","text":"<p>On the Configure SAML page, enter the following values:</p> Field Value Description Single sign-on URL <code>https://app.vespersecure.com/auth/saml/okta/callback</code> Where Okta sends SAML responses Audience URI (SP Entity ID) <code>https://app.vespersecure.com/auth/saml/okta</code> Unique identifier for Vesper Secure Default RelayState Leave empty Optional, not required Name ID format <code>EmailAddress</code> Select from dropdown Application username <code>Email</code> Select from dropdown <p>Exact URLs Required</p> <p>The Single sign-on URL and Audience URI must match exactly, including the protocol (<code>https://</code>) and paths. Any mismatch will cause authentication to fail.</p>"},{"location":"admin/sso-integration/okta-saml/#22-advanced-settings-optional","title":"2.2 Advanced Settings (Optional)","text":"<p>You can leave these at their defaults or configure as needed:</p> <ul> <li>Response: <code>Signed</code></li> <li>Assertion Signature: <code>Signed</code></li> <li>Signature Algorithm: <code>RSA-SHA256</code></li> <li>Digest Algorithm: <code>SHA256</code></li> <li>Assertion Encryption: <code>Unencrypted</code> (unless required by your security policy)</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#step-3-configure-attribute-statements","title":"Step 3: Configure Attribute Statements","text":"<p>Attribute statements map Okta user profile attributes to SAML attributes that Vesper Secure will receive.</p>"},{"location":"admin/sso-integration/okta-saml/#31-add-required-attribute-statements","title":"3.1 Add Required Attribute Statements","text":"<p>In the Attribute Statements (optional) section, click Add Another to add each of the following attributes:</p> Name Name format Value <code>email</code> <code>Unspecified</code> <code>user.email</code> <code>firstName</code> <code>Unspecified</code> <code>user.firstName</code> <code>lastName</code> <code>Unspecified</code> <code>user.lastName</code> <p>Attribute Mapping</p> <p>These attribute names must match exactly what Vesper Secure expects. The \"Name format\" should be set to \"Unspecified\" for all attributes.</p>"},{"location":"admin/sso-integration/okta-saml/#32-add-group-attribute-statements-optional-but-recommended","title":"3.2 Add Group Attribute Statements (Optional but Recommended)","text":"<p>To enable group-based access control in Vesper Secure:</p> <ol> <li>Scroll to the Group Attribute Statements (optional) section  </li> <li>Click Add Another </li> <li>Configure the group attribute:  </li> <li>Name: <code>groups</code></li> <li>Name format: <code>Unspecified</code></li> <li>Filter: Select your preferred filter option:<ul> <li>Matches regex: <code>.*</code> (sends all groups) - recommended for flexibility</li> <li>Starts with: <code>VesperSecure</code> (sends only groups starting with \"VesperSecure\")</li> <li>Equals: Specific group name (sends only that specific group)</li> </ul> </li> </ol> <p>Group Filtering Best Practice</p> <p>Use \"Starts with\" filter with a prefix like \"VesperSecure\" to send only relevant groups. This reduces the SAML response size and ensures only intended groups are shared.</p>"},{"location":"admin/sso-integration/okta-saml/#33-review-and-continue","title":"3.3 Review and Continue","text":"<ol> <li>Review all attribute statements to ensure they're correct  </li> <li>Click Next to continue to the feedback section  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#step-4-complete-application-setup","title":"Step 4: Complete Application Setup","text":""},{"location":"admin/sso-integration/okta-saml/#41-provide-feedback-to-okta","title":"4.1 Provide Feedback to Okta","text":"<p>On the Feedback page:</p> <ol> <li>Select I'm an Okta customer adding an internal app </li> <li>Select This is an internal app that we have created </li> <li>Click Finish </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#42-navigate-to-application-settings","title":"4.2 Navigate to Application Settings","text":"<p>You'll be redirected to your new application's page. Keep this page open - you'll need information from it.</p>"},{"location":"admin/sso-integration/okta-saml/#step-5-get-okta-identity-provider-metadata","title":"Step 5: Get Okta Identity Provider Metadata","text":""},{"location":"admin/sso-integration/okta-saml/#51-access-saml-setup-instructions","title":"5.1 Access SAML Setup Instructions","text":"<ol> <li>In your Vesper Secure application in Okta, go to the Sign On tab  </li> <li>Click View SAML setup instructions (or View Setup Instructions)  </li> <li>A new page will open with the SAML configuration details  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#52-download-or-note-metadata","title":"5.2 Download or Note Metadata","text":"<p>You have two options for providing Okta metadata to Vesper Secure:</p>"},{"location":"admin/sso-integration/okta-saml/#option-a-copy-metadata-url-recommended","title":"Option A: Copy Metadata URL (Recommended)","text":"<p>In the setup instructions page, you'll see a section called Identity Provider metadata:</p> <ol> <li>Right-click on the metadata URL (usually looks like <code>https://your-domain.okta.com/app/xxx/sso/saml/metadata</code>)  </li> <li>Copy the link address  </li> <li>Save this URL - you'll use it in Vesper Secure  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#option-b-download-metadata-xml","title":"Option B: Download Metadata XML","text":"<p>Alternatively, you can download the XML file:</p> <ol> <li>In the setup instructions, find the IDP metadata section  </li> <li>Copy the entire XML content  </li> <li>Save it as a file named <code>okta-metadata.xml</code> </li> <li>You'll upload this to Vesper Secure later  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#53-note-configuration-values","title":"5.3 Note Configuration Values","text":"<p>For reference, note these values from the setup instructions (also available in the metadata):</p> <ul> <li>Identity Provider Single Sign-On URL: <code>https://your-domain.okta.com/app/xxx/sso/saml</code></li> <li>Identity Provider Issuer: <code>http://www.okta.com/xxx</code></li> <li>X.509 Certificate: The certificate displayed on the page</li> </ul> <p>Metadata vs Manual Configuration</p> <p>Using the metadata URL or XML file is recommended as it automatically populates all required values. Manual configuration requires copying each value individually.</p>"},{"location":"admin/sso-integration/okta-saml/#step-6-assign-users-and-groups","title":"Step 6: Assign Users and Groups","text":""},{"location":"admin/sso-integration/okta-saml/#61-access-assignment-settings","title":"6.1 Access Assignment Settings","text":"<ol> <li>In your Vesper Secure application, click the Assignments tab  </li> <li>You'll see options to assign the application to users and groups  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#62-assign-groups-recommended-approach","title":"6.2 Assign Groups (Recommended Approach)","text":"<p>For easier management, assign Okta groups:</p> <ol> <li>Click Assign \u2192 Assign to Groups </li> <li>Find your desired group(s) (e.g., \"VesperSecure-Users\")  </li> <li>Click Assign next to each group  </li> <li>Click Done </li> </ol> <p>Best Practice: Use Groups</p> <p>Create a dedicated Okta group (e.g., \"VesperSecure-Users\" or \"VesperSecure-Admins\") and assign that group to the application. This makes access management easier - simply add/remove users from the group.</p>"},{"location":"admin/sso-integration/okta-saml/#63-assign-individual-users-alternative","title":"6.3 Assign Individual Users (Alternative)","text":"<p>If you prefer to assign individual users:</p> <ol> <li>Click Assign \u2192 Assign to People </li> <li>Find the user you want to assign  </li> <li>Click Assign next to their name  </li> <li>Configure any user-specific settings if needed  </li> <li>Click Save and Go Back </li> <li>Repeat for additional users  </li> <li>Click Done when finished  </li> </ol> <p>Assignment Required</p> <p>Users must be assigned to the application to authenticate via SSO. Unassigned users will receive an error when attempting to sign in.</p>"},{"location":"admin/sso-integration/okta-saml/#step-7-configure-vesper-secure","title":"Step 7: Configure Vesper Secure","text":""},{"location":"admin/sso-integration/okta-saml/#71-access-vesper-secure-admin-panel","title":"7.1 Access Vesper Secure Admin Panel","text":"<ol> <li>Open a new browser tab and navigate to https://app.vespersecure.com </li> <li>Sign in with your Vesper Secure administrator credentials  </li> <li>Navigate to Settings \u2192 Authentication \u2192 SSO Configuration </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#72-configure-okta-saml","title":"7.2 Configure Okta SAML","text":"<ol> <li>Click + Add SSO Provider or Configure Okta SAML </li> <li>Fill in the configuration form:  </li> </ol> Field Value Provider Name Okta Identity Provider Okta SAML 2.0 Entity ID <code>https://app.vespersecure.com/auth/saml/okta</code> Single Sign-On URL <code>https://app.vespersecure.com/auth/saml/okta/callback</code>"},{"location":"admin/sso-integration/okta-saml/#73-provide-okta-metadata","title":"7.3 Provide Okta Metadata","text":"<p>Choose one of the following methods:</p>"},{"location":"admin/sso-integration/okta-saml/#method-a-metadata-url-recommended","title":"Method A: Metadata URL (Recommended)","text":"<ol> <li>Select Import from Metadata URL </li> <li>Paste the Okta metadata URL you copied in Step 5  </li> <li>Click Import </li> <li>The following fields should auto-populate:  </li> <li>Identity Provider Issuer</li> <li>Identity Provider SSO URL</li> <li>Identity Provider Certificate</li> </ol>"},{"location":"admin/sso-integration/okta-saml/#method-b-upload-metadata-xml","title":"Method B: Upload Metadata XML","text":"<ol> <li>Select Upload Metadata XML </li> <li>Click Choose File and select the <code>okta-metadata.xml</code> file you saved  </li> <li>Click Upload </li> <li>Fields will auto-populate from the XML  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#method-c-manual-configuration","title":"Method C: Manual Configuration","text":"<p>If neither metadata option works:</p> <ol> <li>Select Manual Configuration </li> <li>Enter the values from Step 5:  </li> <li>Identity Provider Issuer: <code>http://www.okta.com/xxx</code></li> <li>Identity Provider SSO URL: <code>https://your-domain.okta.com/app/xxx/sso/saml</code></li> <li>Identity Provider Certificate: Paste the X.509 certificate (including BEGIN and END lines)</li> </ol>"},{"location":"admin/sso-integration/okta-saml/#74-configure-attribute-mapping","title":"7.4 Configure Attribute Mapping","text":"<p>Verify the attribute mapping matches your Okta configuration:</p> Vesper Secure Field SAML Attribute User ID NameID (email) Email <code>email</code> First Name <code>firstName</code> Last Name <code>lastName</code> Groups <code>groups</code> (if configured)"},{"location":"admin/sso-integration/okta-saml/#75-save-configuration","title":"7.5 Save Configuration","text":"<ol> <li>Review all settings carefully  </li> <li>Click Test Connection (if available) to verify the configuration  </li> <li>Click Save to enable Okta SSO  </li> </ol> <p>Configuration Complete</p> <p>Okta SAML SSO is now configured. Proceed to testing to verify everything works correctly.</p>"},{"location":"admin/sso-integration/okta-saml/#step-8-test-sso-connection","title":"Step 8: Test SSO Connection","text":""},{"location":"admin/sso-integration/okta-saml/#81-test-from-okta-admin-console","title":"8.1 Test from Okta Admin Console","text":"<ol> <li>In Okta Admin Console, go to your Vesper Secure application  </li> <li>Click the General tab  </li> <li>In the App Embed Link section, you'll see a link like:  </li> <li><code>https://your-domain.okta.com/home/oidc_client/xxx/xxx</code></li> <li>Copy this link and open it in a new incognito/private browser window  </li> <li>You should be redirected to Vesper Secure and automatically signed in  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#82-test-from-okta-end-user-dashboard","title":"8.2 Test from Okta End-User Dashboard","text":"<ol> <li>Open a new incognito/private browser window  </li> <li>Navigate to your Okta end-user dashboard (e.g., <code>https://your-domain.okta.com</code>)  </li> <li>Sign in with your Okta credentials  </li> <li>Look for the Vesper Secure application tile (if you made it visible)  </li> <li>Click on the Vesper Secure tile  </li> <li>You should be redirected to Vesper Secure and automatically signed in  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#83-test-from-vesper-secure-login-page","title":"8.3 Test from Vesper Secure Login Page","text":"<ol> <li>Open a new incognito/private browser window  </li> <li>Navigate to https://app.vespersecure.com </li> <li>Click Sign in with Okta or SSO Sign In </li> <li>Enter your Okta organization URL if prompted  </li> <li>Enter your Okta credentials (you may be prompted for MFA)  </li> <li>Upon successful authentication, you should be redirected back to Vesper Secure and logged in  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#84-verify-user-profile","title":"8.4 Verify User Profile","text":"<p>After successful login:</p> <ol> <li>Check your user profile in Vesper Secure  </li> <li>Verify that your email, first name, and last name are populated correctly  </li> <li>If using group claims, verify your group memberships appear correctly  </li> </ol> <p>Testing Tips</p> <ul> <li>Use an incognito/private browser window to avoid cached sessions</li> <li>Test with both administrator and regular user accounts</li> <li>Verify that users NOT assigned to the application cannot sign in</li> <li>Test group-based access if you configured group attributes</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#step-9-enable-for-all-users","title":"Step 9: Enable for All Users","text":"<p>Once testing is successful:</p>"},{"location":"admin/sso-integration/okta-saml/#91-communicate-to-users","title":"9.1 Communicate to Users","text":"<p>Before rolling out, inform your users:</p> <ul> <li>SSO is now available for Vesper Secure</li> <li>They can access it via Okta dashboard or \"Sign in with Okta\" button</li> <li>Their Okta credentials (including MFA) will be required</li> <li>Any existing Vesper Secure passwords will no longer work (if migrating)</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#92-roll-out-in-phases","title":"9.2 Roll Out in Phases","text":"<p>Consider a phased rollout:</p> <ol> <li>Phase 1: Pilot group (already tested)  </li> <li>Phase 2: Department or team  </li> <li>Phase 3: Entire organization  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#93-monitor-initial-logins","title":"9.3 Monitor Initial Logins","text":"<p>After rollout:</p> <ul> <li>Monitor system logs in Okta (Reports \u2192 System Log)</li> <li>Check for any failed authentication attempts</li> <li>Address any user issues promptly</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#troubleshooting","title":"Troubleshooting","text":""},{"location":"admin/sso-integration/okta-saml/#issue-user-is-not-assigned-to-the-client-application","title":"Issue: \"User is not assigned to the client application\"","text":"<p>Cause: The user attempting to sign in is not assigned to the Vesper Secure application in Okta.</p> <p>Solution: 1. Go to the Vesper Secure application in Okta Admin Console 2. Click the Assignments tab 3. Assign the user or a group containing the user 4. Have the user try signing in again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-the-saml-response-is-invalid-or-signature-validation-failed","title":"Issue: \"The SAML response is invalid\" or \"Signature validation failed\"","text":"<p>Cause: Certificate mismatch or expired certificate.</p> <p>Solution: 1. Verify the certificate in Vesper Secure matches the current Okta certificate 2. In Okta, go to your application \u2192 Sign On tab \u2192 View SAML setup instructions 3. Copy the latest X.509 certificate 4. Update the certificate in Vesper Secure 5. Test SSO again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-user-profile-missing-first-name-or-last-name-in-vesper-secure","title":"Issue: User profile missing first name or last name in Vesper Secure","text":"<p>Cause: Attribute statements are not configured correctly or the user's Okta profile is incomplete.</p> <p>Solution: 1. Verify the user has <code>firstName</code> and <code>lastName</code> populated in their Okta profile 2. Check the attribute statements in your SAML application configuration 3. Ensure attribute names are exactly <code>firstName</code> and <code>lastName</code> (case-sensitive) 4. Have the user sign out and sign in again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-group-membership-not-appearing-in-vesper-secure","title":"Issue: Group membership not appearing in Vesper Secure","text":"<p>Cause: Group attribute statements are not configured or the user is not a member of matching groups.</p> <p>Solution: 1. Verify group attribute statement is configured with name <code>groups</code> 2. Check the filter - ensure it matches the groups the user is a member of 3. Verify the user is a member of Okta groups 4. Check that those groups are assigned to the Vesper Secure application 5. Have the user sign out and sign in again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-audience-restriction-validation-failed","title":"Issue: \"Audience restriction validation failed\"","text":"<p>Cause: The Audience URI (SP Entity ID) in Okta doesn't match what Vesper Secure expects.</p> <p>Solution: 1. In Okta, edit your SAML application settings 2. Verify the Audience URI (SP Entity ID) is exactly: <code>https://app.vespersecure.com/auth/saml/okta</code> 3. Check for typos, trailing slashes, or case differences 4. Save changes and test again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-the-response-was-received-at-an-invalid-url","title":"Issue: \"The response was received at an invalid URL\"","text":"<p>Cause: The Single sign-on URL in Okta doesn't match the actual callback URL.</p> <p>Solution: 1. In Okta, edit your SAML application settings 2. Verify the Single sign-on URL is exactly: <code>https://app.vespersecure.com/auth/saml/okta/callback</code> 3. Ensure it uses <code>https://</code> not <code>http://</code> 4. Save changes and test again  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-users-redirected-to-login-repeatedly","title":"Issue: Users redirected to login repeatedly","text":"<p>Cause: Session cookie issues or incorrect RelayState configuration.</p> <p>Solution: 1. Clear browser cookies and cache 2. Try in an incognito/private window 3. In Okta SAML settings, verify Default RelayState is empty 4. Check Vesper Secure logs for detailed error messages  </p>"},{"location":"admin/sso-integration/okta-saml/#issue-certificate-expiration-warning","title":"Issue: Certificate expiration warning","text":"<p>Cause: The SAML signing certificate is approaching expiration.</p> <p>Solution: 1. Okta certificates typically auto-rotate before expiration 2. When Okta generates a new certificate, re-import the metadata in Vesper Secure 3. Test SSO after updating to ensure it works with the new certificate 4. Set up monitoring for certificate changes in Okta  </p>"},{"location":"admin/sso-integration/okta-saml/#best-practices","title":"Best Practices","text":""},{"location":"admin/sso-integration/okta-saml/#security","title":"Security","text":"<ul> <li>Enable MFA: Require multi-factor authentication in Okta sign-on policies for Vesper Secure access</li> <li>Use Sign-On Policies: Configure location-based, network-based, or device-based access policies</li> <li>Monitor Access: Regularly review Okta system logs for suspicious activity</li> <li>Rotate Certificates: Although Okta auto-rotates certificates, monitor for changes</li> <li>Least Privilege: Only assign necessary users/groups to the application</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#management","title":"Management","text":"<ul> <li>Use Groups: Assign groups rather than individual users for easier management</li> <li>Document Configuration: Keep records of your Entity ID, callback URL, and attribute mappings</li> <li>Test Regularly: Periodically test SSO authentication to ensure it's working</li> <li>Group Naming Convention: Use a clear prefix for Vesper Secure groups (e.g., \"VesperSecure-\")</li> <li>Backup Configuration: Take screenshots or export your SAML configuration settings</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#user-experience","title":"User Experience","text":"<ul> <li>Clear Communication: Inform users about SSO before deployment</li> <li>Add to Dashboard: Make the Vesper Secure tile visible in Okta dashboard for easy access</li> <li>Provide Documentation: Create internal documentation or training materials</li> <li>Test with Real Users: Have pilot users test before full rollout</li> <li>Support Plan: Ensure your helpdesk knows how to troubleshoot SSO issues</li> </ul>"},{"location":"admin/sso-integration/okta-saml/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"admin/sso-integration/okta-saml/#sign-on-policies","title":"Sign-On Policies","text":"<p>You can require additional conditions for Vesper Secure access:</p> <ol> <li>In Okta Admin Console, go to Security \u2192 Authentication Policies </li> <li>Create a new policy or edit an existing one  </li> <li>Add the Vesper Secure application to the policy  </li> <li>Configure rules such as:  </li> <li>Require MFA</li> <li>Require password and MFA from specific network zones</li> <li>Block access from certain locations</li> <li>Require re-authentication after specified time</li> </ol>"},{"location":"admin/sso-integration/okta-saml/#custom-attributes","title":"Custom Attributes","text":"<p>If you need to pass custom attributes to Vesper Secure:</p> <ol> <li>Add custom attributes to your Okta user profile schema (Directory \u2192 Profile Editor)  </li> <li>Populate the custom attributes for your users  </li> <li>Add custom attribute statements in your SAML application configuration  </li> <li>Coordinate with Vesper Secure support for custom attribute mapping  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#multiple-environments","title":"Multiple Environments","text":"<p>If you have separate Vesper Secure environments (dev, staging, production):</p> <ol> <li>Create separate SAML applications in Okta for each environment  </li> <li>Use unique Entity IDs for each (e.g., <code>https://dev.vespersecure.com/auth/saml/okta</code>)  </li> <li>Use different callback URLs for each environment  </li> <li>Assign different user groups to each environment application  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#automatic-user-provisioning-scim","title":"Automatic User Provisioning (SCIM)","text":"<p>If Vesper Secure supports SCIM provisioning (check with support):</p> <ol> <li>In your application, go to the Provisioning tab  </li> <li>Click Configure API Integration </li> <li>Enable API integration  </li> <li>Enter the SCIM endpoint URL and authentication details from Vesper Secure  </li> <li>Configure provisioning settings (create users, update attributes, deactivate users)  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#certificate-management","title":"Certificate Management","text":""},{"location":"admin/sso-integration/okta-saml/#monitor-certificate-changes","title":"Monitor Certificate Changes","text":"<p>Okta automatically rotates SAML signing certificates before they expire:</p> <ol> <li>Okta will notify admins before certificate rotation  </li> <li>After rotation, you may need to update Vesper Secure with the new certificate  </li> <li>Set up Okta workflows or alerts to notify you of certificate changes  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#update-certificate-in-vesper-secure","title":"Update Certificate in Vesper Secure","text":"<p>When Okta rotates the certificate:</p> <ol> <li>In Okta, go to your Vesper Secure application \u2192 Sign On tab  </li> <li>View the SAML setup instructions to get the new certificate  </li> <li>In Vesper Secure, update the IdP certificate or re-import the metadata  </li> <li>Test SSO to ensure it works with the new certificate  </li> <li>Both old and new certificates can coexist briefly during transition  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#integration-with-okta-features","title":"Integration with Okta Features","text":""},{"location":"admin/sso-integration/okta-saml/#okta-verify-mfa","title":"Okta Verify MFA","text":"<p>Require Okta Verify (or other MFA factors) for Vesper Secure access:</p> <ol> <li>Go to Security \u2192 Authentication Policies </li> <li>Select or create a policy for Vesper Secure  </li> <li>Add a rule that requires MFA  </li> <li>Specify allowed MFA factors (Okta Verify, SMS, Voice, etc.)  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#okta-network-zones","title":"Okta Network Zones","text":"<p>Restrict access based on network location:</p> <ol> <li>Define network zones in Security \u2192 Networks </li> <li>Create IP zones for trusted networks (office, VPN, etc.)  </li> <li>In authentication policies, require MFA or block access from untrusted zones  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#okta-threatinsight","title":"Okta ThreatInsight","text":"<p>Enable ThreatInsight to detect and respond to suspicious authentications:</p> <ol> <li>Go to Security \u2192 General </li> <li>Enable Okta ThreatInsight </li> <li>Configure whether to log only or block suspicious requests  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#next-steps","title":"Next Steps","text":"<p>After successfully configuring Okta SAML SSO:</p> <ol> <li>Set up Firewall Integration - Connect the Dynamic IP List to your firewall  </li> <li>Configure User Management - Monitor and manage user access  </li> <li>Configure Sign-On Policies - Add additional security policies in Okta  </li> <li>Review System Logs - Regularly check Okta logs for authentication events  </li> </ol>"},{"location":"admin/sso-integration/okta-saml/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to SSO Integration Overview</li> <li>Back to Administrator Guide</li> <li>Troubleshooting Guide</li> <li>Okta Documentation</li> <li>Okta SAML Technical Overview</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"resources/best-practices/","title":"Best Practices","text":""},{"location":"resources/best-practices/#deployment","title":"Deployment","text":""},{"location":"resources/best-practices/#planning","title":"Planning","text":"<ul> <li>Start small: Pilot with a small group before full rollout</li> <li>Test thoroughly: Validate Dynamic IP List integration with test accounts</li> <li>Communication: Clearly explain the process to users beforehand</li> <li>Backup access: Maintain static IP allow-list for critical admins</li> </ul>"},{"location":"resources/best-practices/#rollout-strategy","title":"Rollout Strategy","text":"<ol> <li>Week 1: Configure Vesper and integrate with firewall  </li> <li>Week 2: Pilot with IT team (10-20 users)  </li> <li>Week 3: Expand to early adopters (50-100 users)  </li> <li>Week 4+: Full organization rollout  </li> </ol>"},{"location":"resources/best-practices/#configuration","title":"Configuration","text":""},{"location":"resources/best-practices/#authentication","title":"Authentication","text":"<p>Recommended</p> <p>Use Microsoft Entra ID integration for automatic user provisioning and SSO.</p>"},{"location":"resources/best-practices/#monitoring-policies","title":"Monitoring Policies","text":"<p>For trusted organizations: - Enable notifications for new registrations - Review active locations weekly</p> <p>For high-security environments: - Enable alerts for all registrations - Enable MFA for access portal - Restrict to specific countries - Monitor for unusual patterns</p>"},{"location":"resources/best-practices/#dynamic-ip-list-refresh-interval","title":"Dynamic IP List Refresh Interval","text":"<ul> <li>5 minutes: Responsive access, higher firewall load</li> <li>15 minutes: Balanced approach (recommended)</li> <li>1 hour: Lower load, slower access grants</li> </ul>"},{"location":"resources/best-practices/#security","title":"Security","text":""},{"location":"resources/best-practices/#firewall-configuration","title":"Firewall Configuration","text":"<p>\u2705 Do: - Place Vesper allow rules above deny rules - Log both allowed and denied attempts - Enable alerts for Dynamic IP List update failures - Test policy ordering regularly</p> <p>\u274c Don't: - Rely solely on Vesper without fallback - Ignore Dynamic IP List update failures - Mix Vesper IPs with other allow lists</p>"},{"location":"resources/best-practices/#access-management","title":"Access Management","text":"<ul> <li>Review regularly: Audit registered locations monthly</li> <li>Remove promptly: Delete locations for departed employees</li> <li>Monitor patterns: Watch for unusual access requests</li> <li>Enforce expiration: Set reasonable temporary durations</li> </ul>"},{"location":"resources/best-practices/#user-experience","title":"User Experience","text":""},{"location":"resources/best-practices/#documentation","title":"Documentation","text":"<ul> <li>Share User Guide page during onboarding</li> <li>Include link in VPN setup guides</li> <li>Add to IT knowledge base</li> <li>Send reminder emails before travel periods</li> </ul>"},{"location":"resources/best-practices/#support","title":"Support","text":"<ul> <li>Train helpdesk on common issues</li> <li>Monitor requests during initial rollout</li> <li>Be available for questions</li> <li>Collect feedback and iterate</li> </ul>"},{"location":"resources/best-practices/#communication-templates","title":"Communication Templates","text":"<p>Initial announcement: <pre><code>Subject: New: VPN Access Registration Required\n\nStarting [date], you'll need to register your location \nbefore using VPN. This quick one-time setup takes less \nthan a minute.\n\nVisit: [link to user instructions]\nQuestions? Contact IT support.\n</code></pre></p> <p>Pre-travel reminder: <pre><code>Subject: Traveling? Register Your Location First\n\nPlanning to work remotely? Register your new location \nbefore connecting to VPN:\n\n1. Visit access.vespersecure.com  \n2. Log in and choose \"Temporary\"  \n3. Wait 5 minutes, then connect  \n\nTakes less than a minute!\n</code></pre></p>"},{"location":"resources/best-practices/#monitoring","title":"Monitoring","text":""},{"location":"resources/best-practices/#daily-checks","title":"Daily Checks","text":"<ul> <li>Review new registrations</li> <li>Check Dynamic IP List update status</li> <li>Monitor firewall deny logs for patterns</li> </ul>"},{"location":"resources/best-practices/#weekly-reviews","title":"Weekly Reviews","text":"<ul> <li>Analyze temporary location usage</li> <li>Identify users needing assistance</li> <li>Review unusual registration patterns</li> </ul>"},{"location":"resources/best-practices/#monthly-audits","title":"Monthly Audits","text":"<ul> <li>Audit user list vs. employee roster</li> <li>Review and update policies</li> <li>Check Dynamic IP List credential rotation schedule</li> <li>Analyze usage trends</li> </ul>"},{"location":"resources/best-practices/#troubleshooting","title":"Troubleshooting","text":""},{"location":"resources/best-practices/#proactive-monitoring","title":"Proactive Monitoring","text":"<p>Set up alerts for: - Dynamic IP List update failures (critical) - High rate of denied requests (investigate) - Unusual access patterns (security) - Failed login attempts (support)</p>"},{"location":"resources/best-practices/#common-issues-prevention","title":"Common Issues Prevention","text":"<p>Dynamic IP List connectivity: - Test Dynamic IP List URL monthly - Monitor firewall outbound HTTPS - Keep credentials current</p> <p>User confusion: - Clear documentation - Training for common scenarios - Helpdesk scripts</p>"},{"location":"resources/best-practices/#compliance","title":"Compliance","text":""},{"location":"resources/best-practices/#audit-requirements","title":"Audit Requirements","text":"<p>Vesper provides logs for: - All user registrations (with timestamps) - Location types and durations - Revocation actions - Admin actions</p> <p>Export logs regularly for compliance retention.</p>"},{"location":"resources/best-practices/#data-privacy","title":"Data Privacy","text":"<ul> <li>Document what data Vesper collects</li> <li>Include in privacy policy</li> <li>Ensure users are informed</li> <li>Follow data retention policies</li> </ul>"},{"location":"resources/best-practices/#performance","title":"Performance","text":""},{"location":"resources/best-practices/#optimization","title":"Optimization","text":"<ul> <li>Use appropriate Dynamic IP List refresh interval</li> <li>Limit temporary duration to actual needs</li> <li>Expire old permanent locations</li> <li>Keep user list current</li> </ul>"},{"location":"resources/best-practices/#scalability","title":"Scalability","text":"<p>Vesper scales automatically, but consider: - Firewall Dynamic IP List size limits - Network bandwidth for Dynamic IP List updates - Admin monitoring capacity</p> <p>Back to Home \u2022 Administrator Guide \u2022 FAQ</p>"},{"location":"resources/faq/","title":"Frequently Asked Questions","text":"<p>Common questions about Vesper Secure for administrators and general information.</p>"},{"location":"resources/faq/#general-questions","title":"General Questions","text":""},{"location":"resources/faq/#what-is-vesper-secure","title":"What is Vesper Secure?","text":"<p>Vesper Secure is a dynamic IP list management system that serves registered IP addresses via a web service for firewall ACL ingestion. Users register their locations, IPs are automatically added to the list, and firewalls automatically update access control lists based on the registered IP list.</p>"},{"location":"resources/faq/#how-does-it-work","title":"How does it work?","text":"<ol> <li>Users register their location through the access portal  </li> <li>IPs are automatically added to the Dynamic IP List  </li> <li>Your firewall polls the Dynamic IP List and automatically updates ACLs  </li> <li>Administrators can monitor and revoke access if needed  </li> <li>Only registered IPs can access protected resources  </li> </ol>"},{"location":"resources/faq/#what-makes-vesper-secure-different-from-static-ip-lists","title":"What makes Vesper Secure different from static IP lists?","text":"<p>Static IP Lists: - Manual updates required - Error-prone - Slow to add/remove access - No self-service for users</p> <p>Vesper Secure: - Automatic firewall updates - Self-service user registration - Automatic IP addition to Dynamic IP List - Audit logs and compliance - Temporary access management</p>"},{"location":"resources/faq/#for-administrators","title":"For Administrators","text":""},{"location":"resources/faq/#which-firewalls-are-supported","title":"Which firewalls are supported?","text":"<p>Vesper Secure works with any firewall that supports Dynamic IP Lists or URL-based IP lists, including:</p> <ul> <li>Palo Alto Networks (External Dynamic Lists)</li> <li>Fortinet FortiGate (External Connectors)</li> <li>Cisco ASA/FTD (Dynamic Objects)</li> <li>Check Point R80.20+ (Updatable Objects)</li> <li>pfSense 2.4+ (URL Table Aliases / pfBlockerNG)</li> <li>OPNsense 19.1+ (URL Table Aliases)</li> <li>Juniper SRX (Dynamic Address Objects)</li> </ul> <p>Not supported: Sophos XG Firewall, WatchGuard, SonicWall, and Zyxel do not have comparable Dynamic IP List functionality for custom IP lists. These firewalls require manual IP list management and are not recommended for use with Vesper Secure.</p>"},{"location":"resources/faq/#how-often-does-the-dynamic-ip-list-update","title":"How often does the Dynamic IP List update?","text":"<p>You can configure the refresh interval on your firewall. We recommend 5 minutes for responsive access, or hourly for reduced load.</p>"},{"location":"resources/faq/#how-can-admins-monitor-registrations","title":"How can admins monitor registrations?","text":"<p>Administrators can monitor all registrations through the admin panel and receive alerts for new registrations or unusual patterns. They can revoke access at any time if needed.</p>"},{"location":"resources/faq/#how-do-i-handle-emergency-access","title":"How do I handle emergency access?","text":"<p>Users can register immediately through the portal. If you need faster access than the normal firewall refresh interval, you can force a firewall refresh manually (if your firewall supports it), or maintain a backup static IP allow-list for critical admin users.</p>"},{"location":"resources/faq/#for-end-users","title":"For End Users","text":""},{"location":"resources/faq/#how-do-i-register-my-location","title":"How do I register my location?","text":"<p>See the User Guide for detailed instructions. Quick version: 1. Visit access.vespersecure.com 2. Log in with corporate credentials 3. Choose Permanent or Temporary 4. Wait for firewall refresh (typically 5-60 minutes)  </p>"},{"location":"resources/faq/#do-i-need-to-register-every-time-i-connect","title":"Do I need to register every time I connect?","text":"<p>No - only when you're in a new location: - Permanent locations (home, office): Register once, works indefinitely - Temporary locations (hotel, coffee shop): Register each time, expires after configured duration</p>"},{"location":"resources/faq/#what-if-i-forget-to-register-before-traveling","title":"What if I forget to register before traveling?","text":"<p>Just visit access.vespersecure.com from your new location, complete the registration, and wait 5 minutes. See the User Guide for more details.</p>"},{"location":"resources/faq/#can-i-use-this-on-mobile-devices","title":"Can I use this on mobile devices?","text":"<p>Yes! The access portal works on phones and tablets.</p>"},{"location":"resources/faq/#who-do-i-contact-for-help","title":"Who do I contact for help?","text":"<p>End users: Contact your organization's IT administrator</p> <p>Administrators:  - Check the Troubleshooting Guide - Contact Vesper support at support@vespersecure.com - Submit ticket via admin panel</p> <p>Back to Home \u2022 Administrator Guide \u2022 User Guide</p>"},{"location":"resources/faq/#what-information-is-collected","title":"What information is collected?","text":"<p>Vesper only sees: - Your corporate email/identity - Your IP address - Location type (permanent/temporary) - Registration timestamp</p>"},{"location":"resources/faq/#does-this-affect-vpn-performance","title":"Does this affect VPN performance?","text":"<p>No - Vesper only controls access. Once connected, VPN performance is unchanged.</p>"},{"location":"resources/faq/#what-happens-if-vesper-is-unavailable","title":"What happens if Vesper is unavailable?","text":"<p>Your firewall will continue using the last cached IP list. Configure backup access methods for critical users.</p>"},{"location":"resources/faq/#can-users-have-multiple-locations","title":"Can users have multiple locations?","text":"<p>Yes! Users can have multiple permanent locations and register temporary locations as needed.</p> <p>Back to Home \u2022 Administrator Guide \u2022 User Guide</p>"},{"location":"resources/troubleshooting/","title":"Troubleshooting Guide","text":""},{"location":"resources/troubleshooting/#common-issues-and-solutions","title":"Common Issues and Solutions","text":""},{"location":"resources/troubleshooting/#dynamic-ip-list-issues","title":"Dynamic IP List Issues","text":""},{"location":"resources/troubleshooting/#dynamic-ip-list-shows-as-failed-or-unreachable","title":"Dynamic IP List shows as \"Failed\" or \"Unreachable\"","text":"<p>Symptoms: - Firewall indicates Dynamic IP List update failed - No IPs in the list - Error in firewall logs</p> <p>Causes: - Firewall can't reach list.vespersecure.com - DNS resolution failure - SSL inspection blocking connection - Outbound HTTPS blocked</p> <p>Solutions:</p> <ol> <li> <p>Test connectivity from firewall: <pre><code>curl -v https://list.vespersecure.com\n</code></pre></p> </li> <li> <p>Check DNS: <pre><code>nslookup list.vespersecure.com\n</code></pre></p> </li> <li> <p>Verify outbound HTTPS (port 443) is allowed </p> </li> <li> <p>Check SSL inspection isn't blocking </p> </li> <li> <p>Test with credentials: <pre><code>curl -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n</code></pre></p> </li> </ol>"},{"location":"resources/troubleshooting/#dynamic-ip-list-returns-401-unauthorized","title":"Dynamic IP List returns \"401 Unauthorized\"","text":"<p>Symptoms: - Authentication error in firewall logs - Dynamic IP List shows error status</p> <p>Causes: - Incorrect username or password - Extra spaces in credentials - Credentials expired or regenerated</p> <p>Solutions:</p> <ol> <li>Verify credentials in Vesper admin panel </li> <li>Check for typos or extra spaces </li> <li>Re-enter credentials on firewall (copy/paste carefully)  </li> <li>Test manually: <pre><code>curl -v -u \"username:password\" https://list.vespersecure.com/organizationid\n</code></pre></li> <li>If needed, regenerate credentials in admin panel </li> </ol>"},{"location":"resources/troubleshooting/#dynamic-ip-list-is-empty-but-users-have-registered","title":"Dynamic IP List is empty but users have registered","text":"<p>Symptoms: - Users registered but Dynamic IP List shows no IPs - VPN still blocked after registration</p> <p>Causes: - Temporary locations expired - Dynamic IP List not refreshing - Users' registrations failed</p> <p>Solutions:</p> <ol> <li>Check admin panel - Are registrations showing as active?  </li> <li>Verify temporary locations haven't expired </li> <li>Force manual Dynamic IP List refresh on firewall </li> <li>Check user's registration status in admin panel </li> <li>Wait for next scheduled Dynamic IP List refresh </li> </ol>"},{"location":"resources/troubleshooting/#user-access-issues","title":"User Access Issues","text":""},{"location":"resources/troubleshooting/#user-registered-but-still-cant-access-vpn","title":"User registered but still can't access VPN","text":"<p>Symptoms: - User registered in Vesper - User's IP still blocked by firewall</p> <p>Causes: - Dynamic IP List hasn't refreshed yet - Firewall policy order incorrect - User's IP doesn't match registered IP - Temporary access expired</p> <p>Solutions:</p> <ol> <li>Wait for Dynamic IP List refresh (up to refresh interval)  </li> <li>Force manual Dynamic IP List refresh </li> <li>Check firewall policy order: </li> <li>Vesper allow rule must be ABOVE deny rules</li> <li>Verify user's current IP: </li> <li>Have user visit whatismyipaddress.com</li> <li>Compare to IP in Dynamic IP List</li> <li>Check request status in admin panel </li> <li>Review firewall logs for deny reason  </li> </ol>"},{"location":"resources/troubleshooting/#user-cant-access-portal-accessvespersecurecom","title":"User can't access portal (access.vespersecure.com)","text":"<p>Symptoms: - Portal won't load - Login fails - Identity provider error</p> <p>Causes: - User's internet connectivity - Identity provider (Google/Microsoft) issue - User not in configured group (if using Entra ID) - Browser compatibility</p> <p>Solutions:</p> <ol> <li>Check internet connectivity </li> <li>Try different browser (Chrome, Firefox, Edge)  </li> <li>Clear browser cache and cookies </li> <li>Verify user in correct Entra ID group (if applicable)  </li> <li>Check identity provider status (Google/Microsoft)  </li> <li>Try incognito/private mode </li> </ol>"},{"location":"resources/troubleshooting/#mfa-prompt-not-appearing","title":"MFA prompt not appearing","text":"<p>Symptoms: - Login process skips MFA - No authentication prompt</p> <p>Causes: - User already authenticated in browser - MFA not enforced in identity provider - Browser session cached</p> <p>Solutions:</p> <ol> <li>Expected behavior if recently authenticated  </li> <li>Verify MFA policy in identity provider  </li> <li>Try private/incognito mode to test fresh login  </li> <li>Check identity provider MFA settings </li> </ol>"},{"location":"resources/troubleshooting/#admin-panel-issues","title":"Admin Panel Issues","text":""},{"location":"resources/troubleshooting/#cant-log-in-to-admin-panel","title":"Can't log in to admin panel","text":"<p>Symptoms: - Login fails at app.vespersecure.com - Credentials not working</p> <p>Solutions:</p> <ol> <li>Verify admin email address </li> <li>Use password reset if needed  </li> <li>Check organization is active </li> <li>Clear browser cache </li> <li>Try different browser </li> <li>Contact Vesper support if locked out  </li> </ol>"},{"location":"resources/troubleshooting/#entra-id-integration-not-working","title":"Entra ID integration not working","text":"<p>Symptoms: - Can't connect Entra ID - Sync failures - Users not appearing</p> <p>Causes: - Insufficient permissions - Incorrect tenant ID - API permissions not granted</p> <p>Solutions:</p> <ol> <li>Verify tenant ID is correct </li> <li>Ensure you have Global Admin or Application Admin role </li> <li>Grant all required API permissions in Azure portal  </li> <li>Re-authorize the application </li> <li>Check selected groups have users </li> </ol>"},{"location":"resources/troubleshooting/#firewall-specific-issues","title":"Firewall-Specific Issues","text":""},{"location":"resources/troubleshooting/#palo-alto-external-dynamic-list-test-fails","title":"Palo Alto: External Dynamic List test fails","text":"<p>Solutions: 1. Check certificate profile settings 2. Verify management interface can reach internet 3. Test from CLI: <code>test external-list &lt;name&gt;</code> 4. Check system logs  </p>"},{"location":"resources/troubleshooting/#fortigate-external-connector-not-updating","title":"FortiGate: External connector not updating","text":"<p>Solutions: 1. Verify interface selection 2. Check routing for management traffic 3. Test with <code>diagnose test application fcnacd 4</code> 4. Review external connector logs  </p>"},{"location":"resources/troubleshooting/#cisco-asa-dynamic-object-not-populating","title":"Cisco ASA: Dynamic object not populating","text":"<p>Solutions: 1. Verify basic-auth configured correctly 2. Check crypto configuration if using SSL 3. Test with <code>show dynamic-object update-url</code> 4. Review object-group membership  </p>"},{"location":"resources/troubleshooting/#diagnostic-commands","title":"Diagnostic Commands","text":""},{"location":"resources/troubleshooting/#test-dynamic-ip-list-from-command-line","title":"Test Dynamic IP List from Command Line","text":"<pre><code># Basic test\ncurl https://list.vespersecure.com/organizationid\n\n# With authentication\ncurl -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n\n# Verbose for debugging\ncurl -v -u \"organizationid:password\" https://list.vespersecure.com/organizationid\n\n# Check IP in list\ncurl -u \"user:pass\" https://list.vespersecure.com/organizationid | grep \"1.2.3.4\"\n</code></pre>"},{"location":"resources/troubleshooting/#check-dns-resolution","title":"Check DNS Resolution","text":"<pre><code>nslookup list.vespersecure.com\ndig list.vespersecure.com\n</code></pre>"},{"location":"resources/troubleshooting/#test-connectivity","title":"Test Connectivity","text":"<pre><code>ping list.vespersecure.com\ntelnet list.vespersecure.com 443\n</code></pre>"},{"location":"resources/troubleshooting/#getting-additional-help","title":"Getting Additional Help","text":""},{"location":"resources/troubleshooting/#information-to-gather","title":"Information to Gather","text":"<p>Before contacting support, collect:</p> <ul> <li>[ ] Firewall type and version</li> <li>[ ] Dynamic IP List URL and username (NOT password)</li> <li>[ ] Error messages from firewall</li> <li>[ ] Screenshots of configuration</li> <li>[ ] Output of test commands</li> <li>[ ] User's email and IP address (for user issues)</li> <li>[ ] Timeline of when issue started</li> </ul>"},{"location":"resources/troubleshooting/#contact-channels","title":"Contact Channels","text":"<p>For Administrators: - Vesper admin panel support ticket - Email: support@vespersecure.com - Include: Organization ID, detailed description, logs</p> <p>For End Users: - Contact your organization's IT admin - Do NOT contact Vesper directly</p>"},{"location":"resources/troubleshooting/#prevention","title":"Prevention","text":""},{"location":"resources/troubleshooting/#proactive-monitoring","title":"Proactive Monitoring","text":"<p>Set up alerts for: - Dynamic IP List update failures - Authentication errors - High denial rates - Unusual access patterns</p>"},{"location":"resources/troubleshooting/#regular-maintenance","title":"Regular Maintenance","text":"<ul> <li>Weekly: Review Dynamic IP List update status</li> <li>Monthly: Test credentials and connectivity</li> <li>Quarterly: Audit firewall policy order</li> <li>Annually: Review and update security policies</li> </ul> <p>Back to Home \u2022 Administrator Guide \u2022 FAQ \u2022 Best Practices</p>"},{"location":"user/","title":"User Guide","text":"<p>How to get your IP address added to the registered list for VPN and resource access.</p>"},{"location":"user/#overview","title":"Overview","text":"<p>As an end user, you need to register your IP address before you can access your organization's VPN or protected resources from a new location. This is a quick process - registration takes less than 1 minute, then you wait for your firewall to refresh.</p>"},{"location":"user/#get-your-ip-added","title":"Get Your IP Added","text":"<p>Get Your IP Added</p> <p>Step-by-step instructions to register your IP address.</p>"},{"location":"user/#user-faq","title":"User FAQ","text":"<p>User FAQ</p> <p>Common questions about registration, access, and troubleshooting.</p>"},{"location":"user/#quick-start","title":"Quick Start","text":"<p>Need access right now? Here's the fast version:</p> <ol> <li>Go to access.vespersecure.com </li> <li>Log in with your corporate credentials (Google, Microsoft, or Okta)  </li> <li>Choose Permanent (home/office) or Temporary (hotel/coffee shop)  </li> <li>Wait for firewall refresh (typically 5-60 minutes)  </li> <li>Connect to VPN as normal  </li> </ol> <p>Detailed Instructions</p>"},{"location":"user/#when-do-i-need-this","title":"When Do I Need This?","text":"<p>You need to register your IP address when:</p> <ul> <li>\u2705 First time accessing VPN from a new location</li> <li>\u2705 Working from home for the first time</li> <li>\u2705 Traveling and need to work remotely</li> <li>\u2705 Changed locations (moved, new office, etc.)</li> <li>\u2705 Using a coffee shop, hotel, or public space</li> </ul> <p>You do NOT need to register:</p> <ul> <li>\u274c Every time you connect to VPN (only once per location)</li> <li>\u274c When using a permanent location you've already registered</li> <li>\u274c When already in the office on the corporate network</li> </ul>"},{"location":"user/#what-information-is-collected","title":"What Information is Collected?","text":"<p>Vesper Secure only collects minimal information:</p> <ul> <li>Your corporate email/identity</li> <li>Your current IP address</li> <li>Location type (permanent or temporary)</li> <li>Registration timestamp</li> </ul> <p>Your organization's administrator can see your registered locations.</p>"},{"location":"user/#need-help","title":"Need Help?","text":"<p>If you encounter issues:</p> <ol> <li>Check the User FAQ for common questions  </li> <li>Contact your organization's IT support (not Vesper Secure directly)  </li> <li>Provide them with:  </li> <li>Your email address</li> <li>The IP address you're trying to register</li> <li>Any error messages you received</li> </ol> <p>Important</p> <p>End users should contact their organization's IT support for help, not Vesper Secure directly.</p> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"},{"location":"user/faq/","title":"User FAQ","text":"<p>Common questions from end users about using Vesper Secure.</p>"},{"location":"user/faq/#getting-started","title":"Getting Started","text":""},{"location":"user/faq/#what-is-vesper-secure","title":"What is Vesper Secure?","text":"<p>Vesper Secure is a system that manages which IP addresses can access your organization's VPN and protected resources. It ensures only registered locations can connect.</p>"},{"location":"user/faq/#why-do-i-need-to-register","title":"Why do I need to register?","text":"<p>Your organization uses Vesper Secure to control VPN access. Before you can connect from a new location, you need to register that location's IP address.</p>"},{"location":"user/faq/#how-long-does-registration-take","title":"How long does registration take?","text":"<p>The registration itself takes less than 1 minute. After submitting, your IP is immediately added to the list. You'll need to wait for your firewall to refresh (typically 5-60 minutes) before you can connect to VPN.</p>"},{"location":"user/faq/#registration","title":"Registration","text":""},{"location":"user/faq/#how-do-i-register-my-location","title":"How do I register my location?","text":"<ol> <li>Visit access.vespersecure.com </li> <li>Log in with your corporate credentials  </li> <li>Choose Permanent or Temporary  </li> <li>Submit your registration  </li> <li>Wait for firewall refresh (typically 5-60 minutes)  </li> </ol> <p>See detailed instructions</p>"},{"location":"user/faq/#when-should-i-choose-permanent","title":"When should I choose \"Permanent\"?","text":"<p>Choose Permanent for locations you use regularly: - Your home - Your office - Any regular workplace</p>"},{"location":"user/faq/#when-should-i-choose-temporary","title":"When should I choose \"Temporary\"?","text":"<p>Choose Temporary for short-term locations: - Hotels while traveling - Coffee shops - Libraries - Friend's/family's houses - Any place you'll only use briefly</p>"},{"location":"user/faq/#how-long-does-temporary-access-last","title":"How long does temporary access last?","text":"<p>Typically 24 hours, but your organization may configure different durations. Check with your IT administrator.</p>"},{"location":"user/faq/#using-vesper-secure","title":"Using Vesper Secure","text":""},{"location":"user/faq/#how-often-do-i-need-to-register","title":"How often do I need to register?","text":"<p>Permanent locations: Once per location</p> <p>Temporary locations: Each time you use that location (after expiration)</p>"},{"location":"user/faq/#can-i-register-multiple-locations","title":"Can I register multiple locations?","text":"<p>Yes! You can have multiple permanent locations and register temporary ones as needed.</p>"},{"location":"user/faq/#what-if-im-traveling","title":"What if I'm traveling?","text":"<p>Register each new location as Temporary before connecting to VPN: 1. Arrive at new location 2. Register at access.vespersecure.com 3. Wait for firewall refresh (typically 5-60 minutes) 4. Connect to VPN  </p>"},{"location":"user/faq/#what-if-i-forgot-to-register-before-leaving","title":"What if I forgot to register before leaving?","text":"<p>Register from your current location: 1. Visit access.vespersecure.com 2. Register as Temporary 3. Wait for firewall refresh (typically 5-60 minutes) 4. Connect  </p>"},{"location":"user/faq/#what-if-i-moved-to-a-new-home","title":"What if I moved to a new home?","text":"<p>Register your new address as Permanent. Your administrator will eventually remove the old address.</p>"},{"location":"user/faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user/faq/#i-registered-but-still-cant-connect","title":"I registered but still can't connect","text":"<p>Wait for the firewall to refresh - This typically takes 5-60 minutes depending on your organization's configuration.</p> <p>Still not working? 1. Disconnect and reconnect VPN 2. Check your internet connection 3. Verify you're at the location you registered 4. Verify your IP hasn't changed 5. Contact your IT administrator  </p>"},{"location":"user/faq/#my-vpn-was-working-now-its-not","title":"My VPN was working, now it's not","text":"<p>Possible reasons: - Temporary access expired (register again) - Your IP address changed (re-register) - Your access was revoked (contact IT administrator) - Internet connectivity issues</p>"},{"location":"user/faq/#i-cant-access-the-portal","title":"I can't access the portal","text":"<p>Try these steps: 1. Check your internet connection 2. Try a different browser 3. Clear browser cache and cookies 4. Try incognito/private mode 5. Contact your IT administrator  </p>"},{"location":"user/faq/#the-portal-wont-accept-my-login","title":"The portal won't accept my login","text":"<p>Check: - You're using your corporate credentials, not personal - You selected the correct identity provider (Google/Microsoft/Okta) - Your account is active - You're completing MFA if required</p> <p>Still having issues? Contact your IT administrator.</p>"},{"location":"user/faq/#what-if-my-location-is-revoked","title":"What if my location is revoked?","text":"<ol> <li>You'll receive a notification with the reason  </li> <li>Contact your IT administrator for clarification  </li> <li>They may ask for more information  </li> <li>Submit a new registration if approved  </li> </ol>"},{"location":"user/faq/#my-temporary-access-expired","title":"My temporary access expired","text":"<p>Simply register again: 1. Visit access.vespersecure.com 2. Choose Temporary 3. Wait 5 minutes 4. Connect  </p>"},{"location":"user/faq/#technical-questions","title":"Technical Questions","text":""},{"location":"user/faq/#does-this-work-on-mobile-devices","title":"Does this work on mobile devices?","text":"<p>Yes! Use your phone or tablet's browser to access the portal and register.</p>"},{"location":"user/faq/#will-this-slow-down-my-vpn","title":"Will this slow down my VPN?","text":"<p>No. Vesper Secure only controls whether you can connect. Once connected, VPN performance is the same.</p>"},{"location":"user/faq/#does-this-work-internationally","title":"Does this work internationally?","text":"<p>Yes, unless your organization has restricted certain countries. Check with your IT administrator.</p>"},{"location":"user/faq/#what-information-does-vesper-collect","title":"What information does Vesper collect?","text":"<p>Vesper Secure collects: - Your corporate email/identity - Your IP address - Location type (permanent/temporary) - Registration timestamp</p> <p>Your administrator can see your registered locations.</p>"},{"location":"user/faq/#is-my-data-secure","title":"Is my data secure?","text":"<p>Yes. Vesper Secure uses: - Encrypted HTTPS connections - Corporate SSO authentication - No storage of VPN credentials - Industry-standard security practices</p>"},{"location":"user/faq/#can-i-see-what-locations-i-have-registered","title":"Can I see what locations I have registered?","text":"<p>Not directly in the user portal. Contact your IT administrator if you need to know your registered locations.</p>"},{"location":"user/faq/#policy-questions","title":"Policy Questions","text":""},{"location":"user/faq/#who-manages-my-registrations","title":"Who manages my registrations?","text":"<p>Your organization's IT administrator monitors registrations and can revoke access if needed. IPs are automatically added to the list when you register.</p>"},{"location":"user/faq/#why-was-my-location-revoked","title":"Why was my location revoked?","text":"<p>Common reasons: - Location appears suspicious (VPN/proxy) - Geographic restrictions - Account not authorized - Security concerns</p> <p>Contact your IT administrator for specific reasons.</p>"},{"location":"user/faq/#can-i-extend-temporary-access","title":"Can I extend temporary access?","text":"<p>Contact your IT administrator. They can extend the duration if needed.</p>"},{"location":"user/faq/#what-if-i-need-emergency-access","title":"What if I need emergency access?","text":"<p>Register your location immediately through the portal. If you need faster access than the normal firewall refresh, contact your IT administrator - they may be able to force a firewall refresh.</p>"},{"location":"user/faq/#getting-help","title":"Getting Help","text":""},{"location":"user/faq/#who-do-i-contact-for-help","title":"Who do I contact for help?","text":"<p>Always contact your organization's IT support first, not Vesper Secure directly.</p>"},{"location":"user/faq/#what-information-should-i-provide","title":"What information should I provide?","text":"<p>When contacting IT support, include: - Your email address - Your current IP address (from whatismyipaddress.com) - What you're trying to do - Any error messages - Screenshots if relevant</p>"},{"location":"user/faq/#can-i-contact-vesper-secure-support","title":"Can I contact Vesper Secure support?","text":"<p>No. End users should only contact their organization's IT support. Your IT team will coordinate with Vesper Secure if needed.</p>"},{"location":"user/faq/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to User Guide</li> <li>Registration Instructions</li> <li>Home Page</li> </ul> <p> \u00a9 2025 Evenstar Security, LLC. All rights reserved. </p>"},{"location":"user/get-ip-added/","title":"How to Get Your IP Added","text":"<p>Follow these simple steps to register your location and gain VPN access. The registration itself takes less than 1 minute.</p>"},{"location":"user/get-ip-added/#before-you-start","title":"Before You Start","text":"<p>Make sure you:</p> <ul> <li>Know your corporate login credentials (Google, Microsoft, or Okta)</li> <li>Are at the location you want to register</li> <li>Have completed MFA setup if your organization requires it</li> </ul>"},{"location":"user/get-ip-added/#step-1-go-to-the-access-portal","title":"Step 1: Go to the Access Portal","text":"<p>Open the Vesper Secure access portal: access.vespersecure.com</p> <p>The portal will show login options for your organization's identity provider.</p>"},{"location":"user/get-ip-added/#step-2-log-in-with-corporate-credentials","title":"Step 2: Log In with Corporate Credentials","text":"<ol> <li>Select your organization's identity provider:  </li> <li>Microsoft (for Entra ID / Azure AD / Office 365)</li> <li>Google (for Google Workspace)</li> <li> <p>Okta (if your organization uses Okta)</p> </li> <li> <p>Sign in with your corporate email and password  </p> </li> <li> <p>Complete MFA prompt if required  </p> </li> </ol> <p>Already Signed In?</p> <p>If you're already logged into your corporate account in the browser, this step may be instant.</p>"},{"location":"user/get-ip-added/#step-3-choose-your-location-type","title":"Step 3: Choose Your Location Type","text":"<p>Select whether this location is Permanent or Temporary:</p>"},{"location":"user/get-ip-added/#permanent-place","title":"Permanent Place","text":"<p>Choose this for: - Your home - Your office - Any place you regularly work from</p> <p>Effect: Works indefinitely until revoked</p>"},{"location":"user/get-ip-added/#temporary-place","title":"Temporary Place","text":"<p>Choose this for: - Hotels - Coffee shops - Libraries - Friend's house - Any short-term location</p> <p>Effect: Expires after configured time (usually 24 hours)</p> <p>Which Should I Choose?</p> <ul> <li>If you'll work from here regularly \u2192 Permanent</li> <li>If this is just for today/this trip \u2192 Temporary</li> </ul>"},{"location":"user/get-ip-added/#step-4-submit-your-registration","title":"Step 4: Submit Your Registration","text":"<ol> <li>Click \"Register my location\" </li> <li>You'll see a confirmation message  </li> <li>Your IP is now added to the Dynamic IP List  </li> </ol>"},{"location":"user/get-ip-added/#step-5-wait-for-firewall-refresh","title":"Step 5: Wait for Firewall Refresh","text":"<p>Please Wait Up to 60 Minutes</p> <p>After submitting, your IP is immediately added to the Dynamic IP List. However, you need to wait for:</p> <ol> <li>Firewall refresh - Your firewall polls the Dynamic IP List periodically (typically every 5-60 minutes)</li> <li>ACL update - The firewall updates its access control lists</li> </ol> <p>After the firewall refreshes, you should be able to connect to VPN.</p>"},{"location":"user/get-ip-added/#step-6-connect-to-vpn","title":"Step 6: Connect to VPN","text":"<p>After waiting for the firewall refresh:</p> <ol> <li>Open your VPN client as normal  </li> <li>Connect using your usual VPN credentials  </li> <li>Access should work!  </li> </ol> <p>Still Can't Connect?</p> <ul> <li>Wait for the full firewall refresh interval (check with your IT admin)</li> <li>Try disconnecting and reconnecting VPN</li> <li>Verify your current IP hasn't changed</li> <li>Check with your IT administrator if still blocked</li> </ul>"},{"location":"user/get-ip-added/#what-happens-next","title":"What Happens Next?","text":""},{"location":"user/get-ip-added/#for-permanent-locations","title":"For Permanent Locations","text":"<ul> <li>\u2705 Your IP is registered indefinitely</li> <li>\u2705 You can connect to VPN anytime from this location</li> <li>\u2705 No need to re-register unless you move</li> </ul>"},{"location":"user/get-ip-added/#for-temporary-locations","title":"For Temporary Locations","text":"<ul> <li>\u2705 Your IP is registered for configured duration (typically 24 hours)</li> <li>\u23f0 After expiration, you'll need to register again</li> <li>\ud83d\udce7 You may receive a notification before it expires</li> </ul>"},{"location":"user/get-ip-added/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"user/get-ip-added/#how-often-do-i-need-to-do-this","title":"How often do I need to do this?","text":"<p>Permanent locations: Once per location (home, office, etc.)</p> <p>Temporary locations: Each time you use that location</p>"},{"location":"user/get-ip-added/#what-if-im-traveling","title":"What if I'm traveling?","text":"<p>Before connecting to VPN from a new location while traveling:</p> <ol> <li>Visit access.vespersecure.com </li> <li>Choose Temporary </li> <li>Submit registration and wait for firewall refresh (typically 5-60 minutes)  </li> <li>Connect to VPN  </li> </ol>"},{"location":"user/get-ip-added/#can-i-register-multiple-locations","title":"Can I register multiple locations?","text":"<p>Yes! You can have: - Multiple permanent locations (home, office, second home, etc.) - Multiple temporary locations at once (though typically you're only in one place at a time)</p>"},{"location":"user/get-ip-added/#what-if-i-moved","title":"What if I moved?","text":"<p>If you permanently moved: 1. Register your new location as Permanent 2. Your old location will eventually be removed by your administrator  </p>"},{"location":"user/get-ip-added/#what-if-i-forget-to-register-before-traveling","title":"What if I forget to register before traveling?","text":"<p>No problem! Just register from your new location: 1. Visit access.vespersecure.com from the new location 2. Register it as Temporary 3. Wait for firewall refresh (typically 5-60 minutes) 4. Connect to VPN  </p>"},{"location":"user/get-ip-added/#does-this-work-on-mobile-devices","title":"Does this work on mobile devices?","text":"<p>Yes! Open the access portal on your phone or tablet browser and follow the same steps.</p>"},{"location":"user/get-ip-added/#will-this-slow-down-my-vpn","title":"Will this slow down my VPN?","text":"<p>No. Vesper Secure only controls access (whether you can connect). Once connected, VPN performance is unchanged.</p>"},{"location":"user/get-ip-added/#what-if-my-request-is-denied","title":"What if my request is denied?","text":"<p>Administrators can revoke access to registered locations if needed. If your location is revoked: - You'll receive a notification with the reason - Contact your IT administrator for clarification - You may need to submit a new registration with additional information</p>"},{"location":"user/get-ip-added/#need-help","title":"Need Help?","text":"<p>For technical issues or questions:</p> <p>Contact your organization's IT support team. Provide: - Your email address - Your current IP address (visit whatismyipaddress.com) - Any error messages - Whether you're trying permanent or temporary access</p> <p>Important</p> <p>End users should not contact Vesper Secure support directly. Always contact your organization's IT administrator first.</p>"},{"location":"user/get-ip-added/#additional-resources","title":"Additional Resources","text":"<ul> <li>Back to User Guide</li> <li>User FAQ</li> <li>Home Page</li> </ul> <p>\u00a9 2025 Evenstar Security, LLC. All rights reserved.</p>"}]}